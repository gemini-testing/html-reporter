"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[481],{58733:(e,t,r)=>{r.d(t,{e:()=>n});var n=function(e){return e.UNKNOWN="unknown",e}({})},72273:(e,t,r)=>{r.d(t,{WY:()=>a,XB:()=>o,_8:()=>n});var n=200,a="https://github.com/gemini-testing/html-reporter/issues/new",o="image comparison failed"},97680:(e,t,r)=>{r.d(t,{Dx:()=>s,Y:()=>n,Zr:()=>a,gr:()=>o});var n="result",a="result_meta",o="menu-bar",s="root"},27202:(e,t,r)=>{r.d(t,{B$:()=>c.B$,ES:()=>p.ES,Ez:()=>p.Ez,He:()=>a.He,JW:()=>p.JW,Kr:()=>u.Kr,MR:()=>p.MR,Nv:()=>l.Nv,QV:()=>u.QV,S7:()=>o.S,SA:()=>u.SA,SH:()=>p.SH,WY:()=>i.WY,Wi:()=>c.Wi,XB:()=>i.XB,YO:()=>d.Y,eb:()=>n.e,em:()=>p.em,fi:()=>f.f,ih:()=>p.ih,kb:()=>p.kb,nx:()=>s.n,pn:()=>p.pn,qW:()=>c.qW,sS:()=>p.sS,t6:()=>p.t6,wO:()=>m.w,yW:()=>a.yW});var n=r(58733),a=r(46126),o=r(58270),s=r(58615),i=r(72273),c=r(28909),u=r(54077),l=r(71770),p=(r(32705),r(75631),r(62602)),d=r(14811),f=r(28322),m=r(37487)},24298:(e,t,r)=>{r.d(t,{Fe:()=>n,HT:()=>i,IP:()=>a,a9:()=>o,n_:()=>s});var n=function(e){return e.UIMode="ui-mode",e.TimeTravelUseRecommendedSettings="time-travel-use-recommended-settings",e}({}),a="time-travel-player-visibility",o="2up-diff-visibility",s="2up-fit-mode",i=function(e){return e.Old="old",e.New="new",e}({})},8047:(e,t,r)=>{r.d(t,{By:()=>E,fB:()=>m,pU:()=>y,vO:()=>h,xH:()=>_,xe:()=>I});var n=r(68079),a=r(56666),o=r(34795),s=r(82841),i=r.n(s),c=r(76635),u=r(69e3),l=r(9560),p=r(46126);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r=function(){var e=(0,o.Z)(i().mark((function e(r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={responseType:"arraybuffer"},"function"==typeof t&&(n.onDownloadProgress=function(e){t(r,e.loaded/e.total)}),e.next=4,(0,l.dc)(r,n);case 4:return a=e.sent,o=a.data,s=a.status,e.abrupt("return",{url:r,status:s,data:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jI)(e,{loadDbJsonUrl:function(e){return(0,l.dc)(e)},prepareUrls:function(e,t){return(0,l.e1)(e,t)},formatData:function(e){return{url:e,status:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",data:null}},loadDbUrl:r})}function E(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(i().mark((function e(t){var r,a,o,s,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.initSqlJs();case 2:if(r=e.sent,a=t.map((function(e){return new Uint8Array(e)})),0!==(o=a.map((function(e){return new r.Database(e)}))).length){e.next=9;break}return e.abrupt("return",null);case 9:if(1!==o.length){e.next=11;break}return e.abrupt("return",o[0]);case 11:return s=a.reduce((function(e,t){return e+t.length}),0),c=new r.Database(void 0,s),l=o.map((function(e){return e.filename})),(0,u.c2)({db:c,dbPaths:l,getExistingTables:function(e){for(var t=[];e.step();)t.push.apply(t,(0,n.Z)(e.get()));return t}}),o.forEach((function(e){return e.close()})),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(t),e.next=3,(0,l.dc)(r.href,{responseType:"arraybuffer"});case 3:return n=e.sent,a=n.data,e.next=7,window.initSqlJs();case 7:return o=e.sent,e.abrupt("return",new o.Database(new Uint8Array(a)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return new URL(p.rW,window.location.href)}function _(e){var t=function(e,t){var r=e.exec((0,u.Vt)(t))[0];if(!r)return console.warn('Table "'.concat(t,'" is empty')),[];return r}(e,p.JL);if(!(0,c.isEmpty)(t))return t.values.sort(u.fd)}function I(e){e.close()}f(f({},u.default),{},{fetchDataFromDatabases:m,mergeDatabases:E,connectToDatabase:h,getMainDatabaseUrl:y,getSuitesTableRows:_,closeDatabase:I})},4986:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(56666),a=r(76635),o=r(2784),s=r(13980),i=r.n(s),c=r(4792),u=r(69875),l=function(e){var t=e.progressBar.currentRootSuiteId,r=e.visibleRootSuiteIds,s=o.useMemo((function(){return r.reduce((function(e,t,r){return(0,a.extend)(e,(0,n.Z)({},t,r))}),{})}),[r])[t],i=100/(r.length-1)*s;return(0,a.isNumber)(s)?o.createElement("div",{className:"bottom-progress-bar"},o.createElement("div",{className:"bottom-progress-bar__progress-container"},o.createElement("div",{className:"bottom-progress-bar__progress-bar",style:{width:"".concat(i,"%")}}),o.createElement("div",{className:"bottom-progress-bar__counter"},t,o.createElement("span",null," ","(",o.createElement("strong",null,s+1)," suite of ",o.createElement("strong",null,r.length),")")))):null};l.propTypes={progressBar:i().object.isRequired,visibleRootSuiteIds:i().arrayOf(i().string)};const p=(0,c.connect)((function(e){return{progressBar:e.progressBar,visibleRootSuiteIds:(0,u.getVisibleRootSuiteIds)(e)}}))(l)},33992:(e,t,r)=>{r.d(t,{Z:()=>R});var n=r(34795),a=r(9249),o=r(87371),s=r(80753),i=r(45754),c=r(11987),u=r(95058),l=r(56666),p=r(82841),d=r.n(p),f=r(2784),m=r(18717),E=r(4792),v=r(13980),h=r.n(v),g=r(64141),y=r(18553),_=r(69875),I=r(41493);function S(e){var t=T();return function(){var r,n=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var b=function(e){(0,i.Z)(r,e);var t=S(r);function r(){var e;(0,a.Z)(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,s.Z)(e),"_acceptOpened",(0,n.Z)(d().mark((function t(){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.context,t.next=3,null==r?void 0:r.trackOpenedScreenshotsAccept({acceptedImagesCount:e.props.acceptableOpenedImageIds.length});case 3:e.props.isStaticImageAccepterEnabled?e.props.actions.staticAccepterStageScreenshot(e.props.acceptableOpenedImageIds):e.props.actions.thunkAcceptImages({imageIds:e.props.acceptableOpenedImageIds});case 4:case"end":return t.stop()}}),t)})))),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.acceptableOpenedImageIds,r=e.processing;return f.createElement(y.Z,{label:"Accept opened",isDisabled:!t.length||r,handler:this._acceptOpened,isSuiteControl:this.props.isSuiteContol})}}]),r}(f.Component);(0,l.Z)(b,"contextType",I.f),(0,l.Z)(b,"propTypes",{isSuiteContol:h().bool,processing:h().bool.isRequired,acceptableOpenedImageIds:h().arrayOf(h().string).isRequired,isStaticImageAccepterEnabled:h().bool,actions:h().object.isRequired});const R=(0,E.connect)((function(e){return{processing:e.processing,acceptableOpenedImageIds:(0,_.getAcceptableOpenedImageIds)(e),isStaticImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,m.bindActionCreators)(g,e)}}))(b)},93941:(e,t,r)=>{r.d(t,{Z:()=>ae});var n=r(9249),a=r(87371),o=r(80753),s=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(13980),d=r.n(p),f=r(18717),m=r(4792),E=r(76635),v=r(64141),h=r(42874),g=r(96234),y=r(72779),_=r.n(y),I=r(20205),S=r(54077),T=r(36666),b=r(32579),R=r(93150);function O(e){var t=C();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}var A=function(e){(0,s.Z)(r,e);var t=O(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,o.Z)(e),"_groupTestsByKey",(function(t){var r=t?t[0]:void 0;r!==e.props.keyToGroupTestsBy&&e.props.actions.groupTestsByKey(r)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.selectedGroupKey,r=e.groupedTests,n=_()("select","select_type_group"),a=Object.values(S.SA).map((function(e){return{label:e,options:r[e].allKeys.map((function(t){return{value:"".concat(e,".").concat(t),content:t}}))}}));return l.createElement("div",{className:n},l.createElement(b.Z,{size:"m",pin:"round-brick"},"Group By"),l.createElement(R.PhF,{disablePortal:!0,className:"group-by-dropdown",options:a,value:[t],hasClear:!0,onUpdate:this._groupTestsByKey,pin:"brick-round",placeholder:"select key",qa:"group-by-dropdown"}))}}]),r}(l.Component);(0,u.Z)(A,"propTypes",{actions:d().object.isRequired,keyToGroupTestsBy:d().string.isRequired,groupedTests:I.M.isRequired,selectedGroupSection:d().string,selectedGroupKey:d().string});const w=(0,m.connect)((function(e){var t=e.view.keyToGroupTestsBy,r=e.groupedTests,n=(0,T.B)(e),a=(0,g.Z)(n,2);return{keyToGroupTestsBy:t,groupedTests:r,selectedGroupSection:a[0],selectedGroupKey:a[1]}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(A);function Z(e){var t=N();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var P=function(e){(0,s.Z)(r,e);var t=Z(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e))._onChange=a._onChange.bind((0,o.Z)(a)),a}return(0,a.Z)(r,[{key:"render",value:function(){return l.createElement(R.oil,{size:"m",className:"base-host-input",value:this.props.baseHost,placeholder:"Base host for view in browser",onChange:this._onChange,qa:"base-host"})}},{key:"_onChange",value:function(e){this.props.actions.updateBaseHost(e.target.value)}}]),r}(l.Component);(0,u.Z)(P,"propTypes",{baseHost:d().string.isRequired,actions:d().object.isRequired});const k=(0,m.connect)((function(e){return{baseHost:e.view.baseHost}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(P);var D=r(7896),x=r(59740),B=r(16847),G=r(21942),U=r(97680),L=r(65661),M=["className"];function q(e){var t=j();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var F=function(e){(0,s.Z)(r,e);var t=q(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_getItems",value:function(e){return Object.keys(e).map((function(t,r){return l.createElement(R.v2r.Item,{key:r,onClick:function(){},className:"menu-bar__content_item"},l.createElement("a",{href:e[t]},t))}))}},{key:"render",value:function(){var e=this.props.extraItems,t=G.xj().some((function(e){return e.point===U.gr}));return(0,E.isEmpty)(e)&&!t?null:l.createElement("div",{className:"menu-bar","data-qa":"menu-bar"},l.createElement(R.h_2,{size:"m",renderSwitcher:function(e){var t=e.className,r=(0,x.Z)(e,M);return l.createElement(R.zxk,(0,D.Z)({className:_()("menu-bar__dropdown",t)},r,{view:"flat"}),l.createElement(R.JO$,{size:16,data:L.Z}))}},l.createElement(R.v2r,{size:"m",className:"menu-bar__content"},l.createElement(B.Z,{name:U.gr},this._getItems(e)))))}}]),r}(l.Component);(0,u.Z)(F,"propTypes",{extraItems:d().object.isRequired});const H=(0,m.connect)((function(e){return{extraItems:e.apiValues.extraItems}}))(F);var V=r(5429),W=r(81114),K=r(57159),Y=r(24298),z=r(63550);function X(e){var t=(0,z.z)(),r=e.gui,n=e.timestamp,a=(0,E.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],o=new Date(n).toLocaleString(a),s=(0,K.Z)(Y.Fe.UIMode,Y.HT.New),i=(0,g.Z)(s,2)[1];return l.createElement("div",{className:"report-info"},l.createElement(R.zxk,{className:"new-ui-button",onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to new UI"}),i(Y.HT.New);var e=new URL(window.location.href);e.pathname=e.pathname.replace(/\/(index\.html)?$/,(function(e,t){return t?"/new-ui.html":"/new-ui"})),e.searchParams.set("switched-from-old-ui","1"),window.location.href=e.href}},l.createElement("div",{className:"new-ui-button__glow"}),l.createElement(R.JO$,{data:V.Z}),"Try New UI"),l.createElement(R.__J,{qa:"version-label",size:"m",className:"label"},"Version",l.createElement("div",{className:"detail"},W.i8)),!r&&l.createElement(R.__J,{qa:"created-at-label",size:"m",className:"label"},"Created at",l.createElement("div",{className:"detail"},o)))}X.propTypes={gui:d().bool.isRequired,timestamp:d().number.isRequired};const $=(0,m.connect)((function(e){return{gui:e.gui,timestamp:e.timestamp}}))(X);var J=r(37487),Q=r(58615),ee=r(85202);function te(e){var t=re();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}var ne=function(e){(0,s.Z)(r,e);var t=te(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,o.Z)(e),"_onUpdateExpand",(function(t){var r,n=e.props.actions;(r={},(0,u.Z)(r,ee.Tm,n.expandAll),(0,u.Z)(r,ee.Lq,n.collapseAll),(0,u.Z)(r,ee.YS,n.expandErrors),(0,u.Z)(r,ee.Tq,n.expandRetries),r)[t].call()})),e}return(0,a.Z)(r,[{key:"_getShowTestsOptions",value:function(){var e=Object.values(J.w).map((function(e){return{value:e,content:(0,E.capitalize)(e)}}));return this.props.isStatisImageAccepterEnabled?e:e.filter((function(e){return![J.w.STAGED,J.w.COMMITED].includes(e.value)}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.app;return l.createElement(l.Fragment,null,l.createElement(h.Z,{size:"s",label:"Show tests",value:n.suitesPage.viewMode,handler:function(e){return t.changeViewMode({data:e,page:"suitesPage"})},options:this._getShowTestsOptions()}),l.createElement(h.Z,{size:"m",label:"Expand",value:r.expand,handler:this._onUpdateExpand,qa:"expand-dropdown",options:[{value:ee.Tm,content:"All"},{value:ee.Lq,content:"None"},{value:ee.YS,content:"Errors"},{value:ee.Tq,content:"Retries"}],extendClassNames:"expand-dropdown",extendPopupClassNames:"expand-popup"}),l.createElement(w,null),l.createElement(h.Z,{size:"m",label:"Diff mode",value:r.diffMode,handler:function(e){return t.setDiffMode({diffModeId:e})},options:Object.values(Q.n).map((function(e){return{value:e.id,content:e.title}})),extendClassNames:"diff-mode"}),l.createElement(k,null),l.createElement(H,null),l.createElement($,null))}}]),r}(l.Component);(0,u.Z)(ne,"propTypes",{view:d().shape({expand:d().string.isRequired,viewMode:d().string.isRequired,diffMode:d().string.isRequired}),app:d().object.isRequired,isStatisImageAccepterEnabled:d().bool,actions:d().object.isRequired});const ae=(0,m.connect)((function(e){return{view:e.view,app:e.app,isStatisImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(ne)},91695:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(2784),a=r(13980),o=r.n(a),s=r(18717),i=r(4792),c=r(64141),u=r(96234),l=r(76635),p=r(93150),d=function(e){var t=e.actions,r=e.testNameFilter,a=(0,n.useState)(r),o=(0,u.Z)(a,2),s=o[0],i=o[1],c=(0,n.useCallback)((0,l.debounce)((function(e){return t.updateNameFilter({data:e,page:"suitesPage"})}),500,{maxWait:3e3}),[]);return n.createElement(p.oil,{size:"m",className:"test-name-filter",value:s,placeholder:"Filter by test name or regexp",onChange:function(e){i(e.target.value),c(e.target.value)},qa:"header-test-name-filter"})};d.propTypes={testNameFilter:o().string.isRequired,actions:o().object.isRequired};const f=(0,i.connect)((function(e){return{testNameFilter:e.app.suitesPage.nameFilter}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(d);var m=function(e){var t=e.strictMatchFilter,r=e.actions,a=(0,n.useState)(t),o=(0,u.Z)(a,2),s=o[0],i=o[1];return n.createElement(p.rsf,{size:"m",content:"Strict match",checked:s,onChange:function(){var e=!s;i(e),r.setStrictMatchFilter(e)},qa:"header-strict-match"})};m.propTypes={strictMatchFilter:o().bool.isRequired,actions:o().object.isRequired};const E=(0,i.connect)((function(e){return{strictMatchFilter:e.view.strictMatchFilter}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(m);var v=r(57159);const h=function(){var e=(0,v.Z)("showCheckboxes",!1),t=(0,u.Z)(e,2),r=t[0],a=t[1];return n.createElement(p.rsf,{content:"Checkboxes",onChange:function(){return a(!r)},checked:r})};var g=r(72779),y=r.n(g),_={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function I(e){var t=function(e){return n.createElement("i",{className:"fa fa-".concat(e),"aria-hidden":"true"})};if(!(0,l.isString)(e))return t("browser");var r=e.toLowerCase();for(var a in _)if(r.includes(a))return t(_[a]);return t("browser")}function S(e,t){return t?"".concat(e," (").concat(t,")"):e}var T=function(e){var t,r=e.available,a=e.onChange,o=e.selected,s=(0,n.useMemo)((function(){var e,t={},a="other",o=!1;if(r.forEach((function(e){var r=e.id,s=e.versions;if(!s||s.length<2)return t[a]=t[a]||[],void t[a].push({value:S(r),content:n.createElement("div",{className:"browser-name"},I(r),S(r))});o=!0,s.forEach((function(e){t[r]=t[r]||[],t[r].push({value:S(r,e),content:n.createElement("div",{className:"browser-name"},I(r),S(r,e))})}))})),o){var s=[];return Object.keys(t).forEach((function(e){s.push({label:e,options:t[e]})})),s}return null!==(e=t[a])&&void 0!==e?e:[]}),[r]),i=function e(t){var r=[];return t.forEach((function(t){t.label?e(t.options).forEach((function(e){return r.push(e)})):r.push(t.value)})),r},c=(0,n.useMemo)((function(){return i(s)}),[s]),d=(0,p.nwW)({options:s}),f=(0,n.useMemo)((function(){var e={};return r.forEach((function(t){var r=t.id,n=t.versions;n&&n.length?n.length<2?e[S(r)]={id:r,version:n[0]}:n.forEach((function(t){e[S(r,t)]={id:r,version:t}})):e[S(r)]={id:r}})),e}),[r]),m=(0,n.useState)((t=[],o&&o.length?(o.forEach((function(e){var r=e.id,n=e.versions;!n||n.length<2?t.push(S(r)):n.forEach((function(e){t.push(S(r,e))}))})),t):[])),E=(0,u.Z)(m,2),v=E[0],h=E[1],g=function(){h(c)};return(0,n.useEffect)((function(){var e;a&&a((e={},v.forEach((function(t){if(f[t]&&f[t].id){var r=f[t],n=r.id,a=r.version;e[n]=e[n]||[],e[n].push(a)}})),Object.entries(e).map((function(e){var t=(0,u.Z)(e,2),r=t[0],n=t[1];return{id:r,versions:(0,l.compact)(n)}}))))}),[v]),n.createElement(p.PhF,{disablePortal:!0,value:v,options:d,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return n.createElement("div",{className:"browserlist__filter"},n.createElement(p.zxk,{onClick:g,width:"max"},"Select All"))},renderOption:function(e){var t=v.includes(e.value)&&1===v.length;return n.createElement("div",{className:"browserlist__row"},n.createElement("div",{className:"browserlist__row_content"},e.content),n.createElement(p.zxk,{size:"s",onClick:t?function(t){t.preventDefault(),t.stopPropagation(),h(c.filter((function(t){return t!==e.value})))}:function(t){t.preventDefault(),t.stopPropagation(),h([e.value])},className:y()("regular-button","action-button")},t?"Except":"Only"))},onUpdate:h,popupClassName:"browserlist__popup",className:"browserlist"})};T.propTypes={available:o().arrayOf(o().shape({id:o().string,versions:o().arrayOf(o().string)})).isRequired,selected:o().arrayOf(o().shape({id:o().string,versions:o().arrayOf(o().string)})),onChange:o().func.isRequired};const b=T;var R=r(18553),O=r(33992),C=r(78272),A=function(e){var t,r=function(){e.actions.staticAccepterOpenConfirm()};return n.createElement("div",{className:"control-container control-filters"},n.createElement(b,{available:e.browsers,selected:e.filteredBrowsers,onChange:function(t){return e.actions.selectBrowsers({data:t,page:"suitesPage"})}}),n.createElement(f,null),n.createElement(E,null),e.gui&&n.createElement(h,null),(t=e.staticImageAccepter).enabled?n.createElement("div",{className:"static-image-accepter"},n.createElement(O.Z,{isSuiteContol:!0}),n.createElement(R.Z,{label:"Commit ".concat(t.imagesToCommitCount," images"),title:"Send request with imagesInfo to 'staticImageAccepter.serviceUrl'",isDisabled:0===t.imagesToCommitCount,isSuiteControl:!0,handler:r})):null)};A.propTypes={gui:o().bool.isRequired,browsers:o().arrayOf(o().shape({id:o().string,versions:o().arrayOf(o().string)})).isRequired,filteredBrowsers:o().arrayOf(o().shape({id:o().string,versions:o().arrayOf(o().string)})),staticImageAccepter:C.O$,actions:o().object.isRequired};const w=(0,i.connect)((function(e){var t=e.app,r=e.browsers,n=e.gui,a=e.staticImageAccepter;return{filteredBrowsers:t.suitesPage.filteredBrowsers,browsers:r,gui:n,staticImageAccepter:a}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(A)},16847:(e,t,r)=>{r.d(t,{Z:()=>T});var n=r(59740),a=r(9249),o=r(87371),s=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(13980),d=r.n(p),f=r(80753);function m(e){var t=E();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,s.Z)(r,e);var t=m(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,f.Z)(e),"state",{hasError:!1}),e}return(0,o.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("Something failed but catched by error boundary."),console.error(e),console.error(t)}},{key:"render",value:function(){return this.state.hasError?this.props.fallback||null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(l.Component);(0,u.Z)(v,"propTypes",{fallback:d().oneOfType([d().element,d().string]),children:d().oneOfType([d().element,d().string])});var h=r(21942),g=["name","children"];function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I(e){var t=S();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}var T=function(e){(0,s.Z)(r,e);var t=I(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){var e=h.xj();if(e.length){var t=this.props,r=t.name,a=t.children,o=(0,n.Z)(t,g),s=function(e,t){return e.map((function(e){try{var t=h.U2(e.name,e.component);return{PluginComponent:t,name,point:R(t,e),position:O(t,e),config:e}}catch(e){return console.error(e),{}}})).filter((function(e){var r=e.point,n=e.position;return r&&n&&r===t}))}(e,r);return function(e,t,r){var n,a=t,o=y(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;a=b(s.PluginComponent,r,a,s.position,s.config)}}catch(e){o.e(e)}finally{o.f()}return a}(s,a,o)}return this.props.children}}]),r}(l.Component);function b(e,t,r,n,a){switch(n){case"wrap":return l.createElement(v,{fallback:r},l.createElement(e,t,r));case"before":return l.createElement(l.Fragment,null,l.createElement(v,null,l.createElement(e,t)),r);case"after":return l.createElement(l.Fragment,null,r,l.createElement(v,null,l.createElement(e,t)));default:return console.error("".concat(A(a),' unexpected position "').concat(n,'" specified.')),r}}function R(e,t){return C(e,t,"point")}function O(e,t){return C(e,t,"position")}function C(e,t,r){return e[r]&&t[r]&&e[r]!==t[r]?(console.error("".concat(A(t),' "').concat(r,'" field does not match the one from the config: "').concat(l.Component[r],'" vs "').concat(t[r],'".')),null):e[r]||t[r]?e[r]||t[r]:(console.error("".concat(A(t),' "').concat(r,'" field is not set.')),null)}function A(e){return'Component "'.concat(e.component,'" of "').concat(e.name,'" plugin')}(0,u.Z)(T,"propTypes",{name:d().string.isRequired,children:d().oneOfType([d().element,d().string,d().array])})},77803:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(9249),a=r(87371),o=r(45754),s=r(11987),i=r(95058),c=r(56666),u=r(2784),l=r(4792),p=r(13980),d=r.n(p),f=r(69875);function m(e){var t=E();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,o.Z)(r,e);var t=m(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e)).favicon=document.getElementById("dynamic-favicon"),a}return(0,a.Z)(r,[{key:"_changeFavicon",value:function(e){this.favicon.href=e}},{key:"render",value:function(){var e=this.props,t=e.isRunning,r=e.hasFailedRootSuites,n=e.allRootSuitesIdle;return t?this._changeFavicon("icons/favicon-running.png"):r?this._changeFavicon("icons/favicon-failure.png"):n||this._changeFavicon("icons/favicon-success.png"),null}}]),r}(u.Component);(0,c.Z)(v,"propTypes",{isRunning:d().bool.isRequired,hasFailedRootSuites:d().bool.isRequired,allRootSuitesIdle:d().bool.isRequired});const h=(0,l.connect)((function(e){var t=Boolean(e.tree.suites.failedRootIds.length),r=!!e.gui&&(!t&&(0,f.areAllRootSuitesIdle)(e));return{isRunning:e.running,hasFailedRootSuites:t,allRootSuitesIdle:r}}))(v)},20205:(e,t,r)=>{r.d(t,{M:()=>o});var n=r(13980),a=r.n(n),o=a().shape({result:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired,meta:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired})},67985:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(9249),a=r(87371),o=r(45754),s=r(11987),i=r(95058),c=r(56666),u=r(2784),l=r(13980),p=r.n(l),d=r(56834),f=r(9340);function m(e){var t=E();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,o.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.active,n=e.content,a=void 0===n?"Loading...":n;return u.createElement(d.Z.Dimmable,{dimmed:r},u.createElement(d.Z,{active:r,inverted:!0,page:!0},u.createElement(f.Z,{size:"large",content:a})),t)}}]),r}(u.Component);(0,c.Z)(v,"propTypes",{active:p().bool,content:p().string,children:p().oneOfType([p().element,p().string])})},86098:(e,t,r)=>{r.d(t,{Z:()=>Pt});var n=r(9249),a=r(87371),o=r(45754),s=r(11987),i=r(95058),c=r(56666),u=r(2784),l=r(4792),p=r(13980),d=r.n(p),f=r(96234),m=r(80753),E=r(18717),v=r(72779),h=r.n(v),g=r(64141),y=r(76635),_=r(52392),I=r(94646),S=r(37487),T=r(85202),b=r(9560),R=r(89288),O=r(8776),C=r(57159),A=r(93150),w=r(13432),Z=function(e){var t=e.status,r=e.onClick,n=e.className,a=(0,C.Z)("showCheckboxes",!1),o=(0,f.Z)(a,1)[0],s=u.useCallback((function(e){e.stopPropagation(),r(e)}));return o?u.createElement("div",{onClick:s,className:"bullet-container"},u.createElement(A.XZJ,{className:h()("bullet_type-checkbox",n),checked:(0,b.CR)(t),indeterminate:(0,b.Ph)(t)})):u.createElement("div",{className:"bullet-container"},u.createElement(w.Z,{className:h()(n,"bullet_type-simple"),"data-qa":"bullet-icon"}))};Z.propTypes={status:d().oneOf([O.ri,O.wT,O.Km]),onClick:d().func,bulletClassName:d().string,className:d().string};const N=Z;var P=r(7896),k=r(59740),D=["text","icon","size","view","title","onClick"],x=function(e){var t=e.text,r=e.icon,n=e.size,a=void 0===n?"s":n,o=e.view,s=void 0===o?"flat":o,i=e.title,c=void 0===i?"Copy to clipboard":i,l=e.onClick,p=(0,k.Z)(e,D),d=(0,u.useState)("pending"),m=(0,f.Z)(d,2),E=m[0],v=m[1],h=(0,u.useRef)(),g=(0,u.useCallback)((function(e){try{var t=document.createElement("input");t.style.position="fixed",t.style.left="-9999px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999);var r=document.execCommand("copy");return document.body.removeChild(t),r}catch(e){return console.error("Failed to copy text: ",e),!1}}),[]),y=(0,u.useCallback)((function(e){g(t)?(v("success"),h.current&&clearTimeout(h.current),h.current=setTimeout((function(){v("pending")}),1e3)):(v("error"),setTimeout((function(){v("pending")}),1e3)),null==l||l(e)}),[t,l,g]);return u.useEffect((function(){return function(){h.current&&clearTimeout(h.current)}}),[]),u.createElement(A.zxk,(0,P.Z)({size:a,view:s,title:c,onClick:y},p),u.createElement(A.zxk.Icon,null,r||u.createElement(A.Kmg,{status:E})))},B=r(5028),G=function(e){var t=u.useMemo((function(){return(0,I.ru)(window.location.href,{browser:(0,y.escapeRegExp)(e.browserName),testNameFilter:(0,y.escapeRegExp)(e.testName),strictMatchFilter:!0,retryIndex:e.retryIndex,viewModes:S.w.ALL,expand:T.Tm})}),[e.browserName,e.testName,e.retryIndex]);return u.createElement("div",{className:"section__title section__title_type_browser",onClick:e.handler},u.createElement(N,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,b.jj)(e.checkStatus)})}}),e.title,u.createElement(R.Z,{resultId:e.lastResultId}),u.createElement(x,{text:t,title:"copy test link",icon:u.createElement(B.Z,{width:16,height:16}),onClick:function(e){e.stopPropagation()}}))};G.propTypes={title:d().node.isRequired,browserId:d().string.isRequired,browserName:d().string.isRequired,lastResultId:d().string.isRequired,handler:d().func.isRequired,checkStatus:d().number.isRequired,testName:d().string.isRequired,retryIndex:d().number.isRequired,suiteUrl:d().string,actions:d().object.isRequired};const U=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.stateById[n];return{checkStatus:a.checkStatus,testName:r.browsers.byId[n].parentId,retryIndex:(0,y.get)(a,"retryIndex",0)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(G);var L=function(e){return u.createElement("div",{className:"section__title section__title_skipped"},u.createElement(N,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,b.jj)(e.checkStatus)})}}),e.title)};L.propTypes={title:d().object.isRequired,browserId:d().string.isRequired,checkStatus:d().number.isRequired,actions:d().object.isRequired};const M=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId;return{checkStatus:r.browsers.stateById[n].checkStatus}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(L);var q=r(33751),j=r(18553),F=r(28978),H=r(922);function V(e){var t=W();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var K=function(e){(0,o.Z)(r,e);var t=V(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.resultId;return u.createElement(H.Z,{title:"Meta",content:u.createElement(A.Zbd,{className:"details__card",view:"filled"},u.createElement(F.o,{resultId:e,qa:"meta-info"}))})}}]),r}(u.Component);(0,c.Z)(K,"propTypes",{resultId:d().string.isRequired});var Y=function(e){return e.Name="n",e.Args="a",e.Duration="d",e.IsFailed="f",e.Children="c",e.IsGroup="g",e.TimeStart="ts",e.Repeat="r",e}({}),z=function(e){var t=e.history;function r(e,t){var n=Object.assign({},e);n[Y.Name]="".concat("\t".repeat(t)).concat(n[Y.Name]);var a=n[Y.Args];return a&&a.length>0&&(n[Y.Name]+="(".concat(a.map((function(e){return'"'.concat(e,'"')})).join(", "),")")),n[Y.Children]?[n].concat(n[Y.Children].map((function(e){return r(e,t+1)}))):[n]}var n=t.map((function(e){return r(e,0)})).flat(1/0);return(0,y.isEmpty)(t)?null:u.createElement(H.Z,{title:"History",content:u.createElement(A.Zbd,{className:"details__card",view:"filled"},u.createElement("div",{style:{display:"flex"}},u.createElement(A.aVo,{items:n,renderItem:function(e){return u.createElement("div",{className:"history-item"},u.createElement("span",{className:"history-item__name"},e[Y.Name]),u.createElement("span",{className:"history-item__time"},e[Y.Duration]," ms"))},filterable:!1,virtualized:!1}))),extendClassNames:"history"})};z.propTypes={resultId:d().string.isRequired,history:d().arrayOf(d().object)};const X=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n].history;return{history:void 0===a?[]:a}}))(z);var $=r(88100),J=r.n($);function Q(e){var t=ee();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){(0,o.Z)(r,e);var t=Q(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,m.Z)(e),"_renderDescription",(function(){return u.createElement(J(),null,e.props.content)})),e}return(0,a.Z)(r,[{key:"render",value:function(){return u.createElement(H.Z,{title:"Description",content:this._renderDescription})}}]),r}(u.Component);(0,c.Z)(te,"propTypes",{content:d().string.isRequired});var re=r(69875),ne=r(46840),ae=r(73199),oe=r(48439),se=r.n(oe),ie=r(57807),ce=r.n(ie),ue=r(84673),le=r.n(ue);function pe(e){var t=de();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}var fe=function(e){(0,o.Z)(r,e);var t=pe(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.errorDetails,t=e.title,r=e.filePath,n=u.createElement("div",{className:"toggle-open__item"},u.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},t));return u.createElement(H.Z,{title:"Error details",content:n})}}]),r}(u.Component);(0,c.Z)(fe,"propTypes",{errorDetails:d().object.isRequired});var me=r(72273),Ee=r(81845);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e){var t=ye();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}ce().setColors({reset:["#","#"],cyan:"ff6188",yellow:"5cb008",magenta:"8e81cd",green:"aa8720"});var _e=function(e){(0,o.Z)(r,e);var t=ge(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,m.Z)(e),"_wrapInDiv",(function(e){return e?"<div>".concat(e,"</div>"):e})),e}return(0,a.Z)(r,[{key:"_getErrorPattern",value:function(){var e=this.props,t=e.errorPatterns,r=e.error;return t.find((function(e){var t,n=e.regexp;return null==r||null===(t=r.message)||void 0===t?void 0:t.match(n)}))}},{key:"_drawImage",value:function(){var e=this.props,t=e.image,r=e.error;return t.actualImg&&((0,b.S5)(r)||(0,b.Ne)(r))?u.createElement(Ee.w,{image:t.actualImg}):null}},{key:"_errorToElements",value:function(e){var t=this;return(0,y.isEmpty)(e)?"Unknown error":(0,y.map)(e,(function(e,r){if(!e)return null;var n,a,o,s="",i="";if("string"==typeof e){if(e.match(/\n/)){var c=e.split("\n"),l=(0,ne.Z)(c);s=l[0],i=l.slice(1),i=(0,b.G6)(i)}else if(e.length<me._8)s=e;else{var p=(a=(n=e).slice(0,me._8).lastIndexOf(" "),o=-1===a?me._8:a,[n.slice(0,o),n.slice(o+1)]),d=(0,ne.Z)(p);s=d[0],i=d.slice(1)}Array.isArray(i)&&(i=i.join("\n")),i=t._wrapInDiv(ce()(se()(i)))}else s=u.createElement("span",null,"show more"),i=(0,y.isFunction)(e)?e:function(){return e};var f=u.createElement(u.Fragment,null,u.createElement("span",{className:"error__item-key"},r,": "),le()(s)),m="string"==typeof i;return u.createElement(H.Z,{key:r,asHtml:m,title:f,content:i,extendClassNames:"error__item"})}))}},{key:"_shouldDrawErrorInfo",value:function(e){return!(0,b.ci)(e)&&!(0,b.iR)(e)}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.errorDetails,n=this._getErrorPattern(),a=(0,y.isEmpty)(n)?t:he(he({},t),{},{message:"".concat(n.name,"\n").concat(null==t?void 0:t.message),hint:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?(0,ae.ZP)(e):null;return Array.isArray(t)&&1===t.length?t[0]:t}(n.hint)}});return u.createElement("div",null,this._shouldDrawErrorInfo(a)?u.createElement(A.Zbd,{view:"filled",className:"error"},this._errorToElements((0,b.Fm)(a))):null,r&&u.createElement(fe,{errorDetails:r}),this._drawImage())}}]),r}(u.Component);(0,c.Z)(_e,"propTypes",{result:d().shape({error:d().object,errorDetails:d().object}).isRequired,image:d().shape({stateName:d().string,error:d().object,actualImg:d().object}).isRequired,error:d().object.isRequired,errorDetails:d().object,errorPatterns:d().array.isRequired});const Ie=(0,l.connect)((function(e,t){var r=e.config.errorPatterns,n=t.result,a=t.image;return{error:a.error||n.error,errorDetails:a.stateName?null:n.errorDetails,errorPatterns:r}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(_e);function Se(e){var t=Te();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}var be=function(e){(0,o.Z)(r,e);var t=Se(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.status,r=e.expectedImg;return u.createElement(Ee.w,{disableCache:(0,b.Cr)(t),image:r})}}]),r}(u.Component);(0,c.Z)(be,"propTypes",{status:d().string.isRequired,expectedImg:d().object.isRequired});var Re=r(24805),Oe=r(99086);function Ce(e){var t=Ae();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}var we=function(e){(0,o.Z)(r,e);var t=Ce(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,m.Z)(e),"_findSameDiffs",(function(){var t=e.props,r=t.actions,n=t.imageId,a=t.failedOpenedImageIds,o=t.browserName;r.thunkFindSameDiffs(n,a,o)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.isDisabled;return u.createElement(j.Z,{label:u.createElement(u.Fragment,null,u.createElement(Oe.Z,null),"Find same diffs"),isSuiteControl:!0,isDisabled:e,handler:this._findSameDiffs,dataTestId:"find-same-diffs"})}}]),r}(u.Component);(0,c.Z)(we,"propTypes",{imageId:d().string,browserId:d().string.isRequired,isDisabled:d().bool.isRequired,browserName:d().string.isRequired,failedOpenedImageIds:d().arrayOf(d().string).isRequired,actions:d().object.isRequired});const Ze=(0,l.connect)((function(e,t){var r=t.browserId;return{browserName:e.tree.browsers.byId[r].name,failedOpenedImageIds:(0,re.getFailedOpenedImageIds)(e)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(we);var Ne=r(55862),Pe=r(14054),ke=r(47486),De=r(37010),xe=r(27060),Be=r(60460),Ge=r(41493);function Ue(e){var t=Le();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Le=function(){return!!e})()}var Me=function(e){(0,o.Z)(r,e);var t=Ue(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,c.Z)((0,m.Z)(a),"toggleModal",(function(){var e=a.props,t=e.actions,r=e.image;t.openModal({id:Ne.types.SCREENSHOT_ACCEPTER,type:Ne.types.SCREENSHOT_ACCEPTER,className:"screenshot-accepter",data:{image:r}})})),(0,c.Z)((0,m.Z)(a),"onToggleStateResult",(function(){var e=a.props,t=e.imageId,r=e.image,n=e.shouldImageBeOpened;r.stateName&&a.props.actions.toggleStateResult({imageId:t,shouldBeOpened:!n})})),(0,c.Z)((0,m.Z)(a),"onTestAccept",(function(){var e;null===(e=a.analytics)||void 0===e||e.trackScreenshotsAccept(),a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterStageScreenshot([a.props.imageId]):a.props.actions.thunkAcceptImages({imageIds:[a.props.imageId]})})),(0,c.Z)((0,m.Z)(a),"onScreenshotUndo",(function(){a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterUnstageScreenshot([a.props.imageId]):a.props.actions.thunkRevertImages({imageIds:[a.props.imageId]})})),a.analytics=a.context,a}return(0,a.Z)(r,[{key:"_drawFailImageControls",value:function(){var e=this;if(!this.props.gui&&!this.props.isStaticImageAccepterEnabled)return null;var t=this.props,r=t.node,n=t.imageId,a=t.result,o=t.isScreenshotAccepterDisabled,s=t.isStaticImageAccepterEnabled,i=t.isStaticAccepterAcceptDisabled,c=!(0,Pe.h3)(r)||s&&i,l=!(0,b.R6)(r.status)||s;return c&&l&&o?null:u.createElement("div",{className:"state-controls"},u.createElement(j.Z,{label:u.createElement(u.Fragment,null,u.createElement(ke.Z,null),"Accept"),isSuiteControl:!0,isDisabled:c,handler:this.onTestAccept,dataTestId:"test-accept"}),u.createElement(Ze,{imageId:n,browserId:a.parentId,isDisabled:l}),u.createElement(j.Z,{label:u.createElement(u.Fragment,null,u.createElement(De.Z,null),"Switch accept mode"),title:"Open mode with fast screenshot accepting",isSuiteControl:!0,isDisabled:o,extendClassNames:"screenshot-accepter__arrows-open-btn",handler:function(){return e.toggleModal()},"data-qa":"test-switch-accept-mode"}))}},{key:"_drawUpdatedImageControls",value:function(){var e=this.props,t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return(0,Pe.KD)({image:r,gui:t,isLastResult:n,isStaticImageAccepterEnabled:a})?u.createElement("div",{className:"state-controls"},u.createElement(j.Z,{label:u.createElement(u.Fragment,null,u.createElement(xe.Z,null),"Undo"),isSuiteControl:!0,handler:this.onScreenshotUndo,dataTestId:"test-undo"})):null}},{key:"_getStateTitleWithDiffCount",value:function(){var e=this.props.image;if(!e.stateName)return null;var t=h()("state-title","state-title_".concat(e.status)),r=e.stateName;if(e.differentPixels&&e.diffRatio){var n=(0,Be.hi)(e.diffRatio);r+=" (diff: ".concat(e.differentPixels,"px, ").concat(n,"%)")}return u.createElement("div",{className:t},r)}},{key:"render",value:function(){var e=this.props,t=e.node,r=e.result,n=e.image,a=t.status,o=t.error,s=null;return(0,b.KM)(a)?s=u.createElement(Ie,{result:r,image:n}):(0,b.Mg)(a)||(0,b.Cr)(a)||(0,b.nc)(a)&&(0,y.get)(n.expectedImg,"path")?s=u.createElement(be,{status:a,expectedImg:n.expectedImg}):(0,b.Cx)(a)||(0,b.hO)(a)?s=u.createElement(be,{status:a,expectedImg:n.actualImg}):(0,b.R6)(a)&&(s=o?u.createElement(Ie,{result:r,image:n}):u.createElement(Re.Z,{image:n})),u.createElement(u.Fragment,null,u.createElement("hr",{className:"tab__separator"}),this._getStateTitleWithDiffCount()?u.createElement(A.pJF,{summary:this._getStateTitleWithDiffCount(),onUpdate:this.onToggleStateResult,size:"l",defaultExpanded:this.props.shouldImageBeOpened},this._drawFailImageControls(),this._drawUpdatedImageControls(),s?u.createElement("div",{className:"image-box__container"},s):null):u.createElement(u.Fragment,null,this._drawFailImageControls(),this._drawUpdatedImageControls(),s?u.createElement("div",{className:"image-box__container"},s):null))}}]),r}(u.Component);(0,c.Z)(Me,"contextType",Ge.f),(0,c.Z)(Me,"propTypes",{result:d().shape({status:d().string.isRequired,error:d().object,parentId:d().string}).isRequired,imageId:d().string,gui:d().bool.isRequired,image:d().shape({status:d().string,error:d().object,stateName:d().string,expectedImg:d().object,actualImg:d().object,diffRatio:d().number,differentPixels:d().number}).isRequired,node:d().shape({error:d().object,status:d().string}),shouldImageBeOpened:d().bool.isRequired,isScreenshotAccepterDisabled:d().bool.isRequired,isStaticImageAccepterEnabled:d().bool.isRequired,isStaticAccepterAcceptDisabled:d().bool,isLastResult:d().bool.isRequired,actions:d().object.isRequired});const qe=(0,l.connect)((function(){var e=(0,re.mkGetLastImageByStateName)();return function(t,r){var n=r.imageId,a=r.result,o=t.gui,s=t.tree,i=t.staticImageAccepter.enabled,c=s.images.byId[n]||{},u=!c.stateName||s.images.stateById[n].shouldBeOpened,l=n?c:a,p=t.tree.browsers.byId[a.parentId],d=(0,y.last)(p.resultIds)===a.id,f=!0,m=!0;if((o||i)&&n){var E=e(t,{imageId:n})||{};f=(0,Pe.F7)(E)||!(0,Pe.h3)(l),m=(0,Pe.F7)(E)&&!(0,Pe.Xd)(E)||!(0,Pe.h3)(l)}return{gui:o,image:c,node:l,shouldImageBeOpened:u,isScreenshotAccepterDisabled:f,isStaticImageAccepterEnabled:i,isStaticAccepterAcceptDisabled:m,isLastResult:d}}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(Me);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){var t=He();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function He(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(He=function(){return!!e})()}var Ve=function(e){(0,o.Z)(r,e);var t=Fe(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_shouldAddErrorTab",value:function(){var e=this.props.result;return(0,b.KM)(e.status)}},{key:"_drawTab",value:function(e){var t=e.key,r=e.imageId,n=void 0===r?null:r,a=this.props.result;return u.createElement("div",{key:t,className:"tab"},u.createElement("div",{className:"tab__item tab__item_active"},u.createElement(qe,{result:a,imageId:n})))}},{key:"render",value:function(){var e=this,t=this.props.result,r="".concat(t.id,"_error");if((0,y.isEmpty)(t.imageIds))return(0,b.Mg)(t.status)||(0,b.sx)(t.status)&&(0,y.isEmpty)(t.error)?null:this._drawTab({key:r});var n=t.imageIds.map((function(t){return e._drawTab({key:t,imageId:t})}));return this._shouldAddErrorTab()?n.concat(this._drawTab({key:r})):n}}]),r}(u.Component);(0,c.Z)(Ve,"propTypes",{result:d().shape({id:d().string.isRequired,status:d().string.isRequired,imageIds:d().array.isRequired,screenshot:d().bool.isRequired,error:d().object}).isRequired});const We=(0,l.connect)((function(e,t){var r=e.tree,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.result);return n.imageIds=n.imageIds.filter((function(e){return r.images.byId[e].stateName})),{result:n}}))(Ve);var Ke=r(16847),Ye=r(97680);function ze(e){var t=Xe();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}var $e=function(e){(0,o.Z)(r,e);var t=ze(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return u.createElement(H.Z,{title:"Page screenshot",content:function(){return u.createElement(Ee.w,{image:e.props.image})}})}}]),r}(u.Component),Je=d().shape({path:d().string.isRequired,size:d().shape({height:d().number.isRequired,width:d().number.isRequired}).isRequired});function Qe(e){var t=et();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(et=function(){return!!e})()}var tt=function(e){(0,o.Z)(r,e);var t=Qe(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.result,r=e.resultId,n=e.testName,a=e.pageScreenshot;return u.createElement(u.Fragment,null,u.createElement(Ke.Z,{name:Ye.Zr,result:t,testName:n},u.createElement(K,{resultId:r}),u.createElement(X,{resultId:r})),t.description&&u.createElement(te,{content:t.description}),u.createElement(We,{result:t}),a&&u.createElement("hr",{className:"tab__separator"}),a&&u.createElement($e,{image:a.actualImg}))}}]),r}(u.Component);(0,c.Z)(tt,"propTypes",{resultId:d().string.isRequired,testName:d().string.isRequired,result:d().shape({status:d().string.isRequired,imageIds:d().array.isRequired,description:d().string}).isRequired,pageScreenshot:d().shape({actualImg:Je.isRequired})});const rt=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n];return{result:a,pageScreenshot:Object.values((0,y.pick)(r.images.byId,a.imageIds)).find((function(e){return!e.stateName&&e.actualImg}))}}))(tt);var nt=r(68891),at=r(17068),ot=r(97407);function st(e){var t,r,n=function(t){var r=e.browserId;t!==e.retryIndex&&e.actions.changeTestRetry({browserId:r,retryIndex:t})},a=function(){var t=e.testName,r=e.browserName;e.actions.thunkRunTest({test:{testName:t,browserName:r}})},o=e.testName,s=e.resultIds[e.retryIndex],i=(0,u.useContext)(ot.O).measure,c=(0,u.useRef)(null);return(0,at.Z)(c,(function(){i()})),u.createElement("div",{className:"section__body",ref:c},u.createElement("div",{className:"image-box"},u.createElement("div",{className:"controls"},function(){var t=e.resultIds,r=e.retryIndex;if(!(t.length<=1))return u.createElement("div",{className:"controls__item"},u.createElement(q.Z,{resultIds:t,retryIndex:r,onChange:n}))}(),(t=e.gui,r=e.running,t?u.createElement("div",{className:"controls__item"},u.createElement(j.Z,{label:u.createElement(u.Fragment,null,u.createElement(nt.Z,null),"Retry"),isSuiteControl:!0,isDisabled:r,handler:a,dataTestId:"test-retry"})):null)),u.createElement(Ke.Z,{name:Ye.Y,resultId:s,testName:o},u.createElement(rt,{resultId:s,testName:o}))))}st.propTypes={browserId:d().string.isRequired,browserName:d().string.isRequired,testName:d().string.isRequired,resultIds:d().array.isRequired,onResize:d().func,gui:d().bool.isRequired,running:d().bool.isRequired,retryIndex:d().number,actions:d().object.isRequired};const it=(0,l.connect)((function(e,t){var r=e.gui,n=e.running,a=e.view.retryIndex,o=e.tree,s=t.browserId,i=o.browsers.stateById[s]||{},c=i.retryIndex,u=i.lastMatchedRetryIndex;return{gui:r,running:n,retryIndex:"number"==typeof a?Math.min(a,c):(0,y.isNumber)(u)?u:c}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(st);var ct=function(e){var t,r=e.status,n=e.shouldBeOpened,a=e.sectionRoot,o=["section",{section_collapsed:!n}];return h()(o,(t={},(0,c.Z)(t,"section_status_".concat(r),r),(0,c.Z)(t,"section_root",a),t))},ut=r(71011);function lt(e){var t=e.browser,r=e.shouldBeOpened,n=e.shouldBeShown,a=e.lastResult,o=(0,u.useContext)(ot.O).measure;if((0,u.useLayoutEffect)((function(){null==o||o()}),[n,r]),!n)return null;var s,i=(0,b.sx)(a.status),c=t.resultIds.length>1,l=i?(s=a.skipReason,u.createElement(u.Fragment,null,"[skipped] ",e.browser.name,s&&", reason: ",s&&(0,ut.hk)(s))):t.name,p=c||!(0,y.isEmpty)(a.history)||a.error||a.imageIds.length>0,d=i&&!p,f=d||!r?null:u.createElement("div",null,u.createElement(it,{browserId:t.id,browserName:t.name,testName:t.parentId,resultIds:t.resultIds})),m=d?u.createElement(M,{title:l,browserId:t.id}):u.createElement(u.Fragment,null,u.createElement(U,{title:l,browserId:t.id,browserName:t.name,lastResultId:a.id,handler:function(){var t=e.browserId,r=e.shouldBeOpened;e.actions.toggleBrowserSection({browserId:t,shouldBeOpened:!r})}}),f);return u.createElement("div",{className:ct({status:a.status,shouldBeOpened:r})},m)}lt.propTypes={browserId:d().string.isRequired,browser:d().shape({id:d().string.isRequired,name:d().string.isRequired,resultIds:d().arrayOf(d().string).isRequired,parentId:d().string.isRequired}).isRequired,lastResult:d().shape({id:d().string.isRequired,status:d().string.isRequired,error:d().object,imageIds:d().arrayOf(d().string).isRequired,skipReason:d().string,history:d().arrayOf(d().string)}).isRequired,shouldBeShown:d().bool.isRequired,shouldBeOpened:d().bool.isRequired,actions:d().object.isRequired};const pt=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.byId[n],o=r.browsers.stateById[n],s=o.shouldBeOpened,i=o.shouldBeShown;return{browser:a,lastResult:r.results.byId[(0,y.last)(a.resultIds)],shouldBeShown:i,shouldBeOpened:s}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(lt);var dt=r(27202),ft=function(e){var t=e.name,r=e.suiteId,n=e.handler,a=e.gui,o=e.checkStatus,s=e.suiteTests,i=e.actions,c=e.running,l=e.runningThis,p=function(e){e.stopPropagation(),i.thunkRunSuite({tests:s})},d=function(e){e.stopPropagation()};return u.createElement("div",{className:"section__title",onClick:n},u.createElement(N,{status:o,onClick:function(e){e.stopPropagation(),i.toggleSuiteCheckbox({suiteId:r,checkStatus:(0,b.jj)(o)})}}),t,u.createElement(x,{size:"s",text:r,onClick:d}),a&&(l?u.createElement(A.yCA,{size:"xs"}):u.createElement(A.zxk,{size:"s",view:"flat",title:"retry suite",onClick:p,disabled:c},u.createElement(A.zxk.Icon,null,u.createElement(nt.Z,null)))))};ft.propTypes={name:d().string.isRequired,suiteId:d().string.isRequired,handler:d().func.isRequired,gui:d().bool.isRequired,checkStatus:d().number,suiteTests:d().arrayOf(d().shape({testName:d().string,browserName:d().string})).isRequired,running:d().bool,runningThis:d().bool,actions:d().object.isRequired};const mt=(0,l.connect)((function(){var e=(0,re.mkGetTestsBySuiteId)();return function(t,r){var n=r.suiteId;return{gui:t.gui,running:t.running,runningThis:t.tree.suites.byId[n].status===dt.ih.RUNNING,checkStatus:t.tree.suites.stateById[n].checkStatus,suiteTests:e(t,{suiteId:n})}}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(ft);function Et(e){var t=e.suiteId,r=e.suiteName,n=e.suiteStatus,a=e.suiteChildIds,o=e.suiteBrowserIds,s=e.sectionRoot,i=e.shouldBeOpened,c=e.shouldBeShown,l=(0,u.useContext)(ot.O).measure;if((0,u.useLayoutEffect)((function(){null==l||l()}),[c,i]),!c)return null;var p=function(){var t=e.suiteId,r=e.shouldBeOpened;e.actions.toggleSuiteSection({suiteId:t,shouldBeOpened:!r})};if(!i)return u.createElement("div",{className:ct({status:n,shouldBeOpened:i,sectionRoot:s})},u.createElement(mt,{name:r,suiteId:t,handler:p}));var d=a&&a.map((function(e){return u.createElement(vt,{key:e,suiteId:e,sectionRoot:!1})})),f=o&&o.map((function(e){return u.createElement(pt,{key:e,browserId:e})}));return u.createElement("div",{className:ct({status:n,shouldBeOpened:i,sectionRoot:s})},u.createElement(mt,{name:r,suiteId:t,handler:p}),u.createElement("div",{className:"section__body"},d,f))}Et.propTypes={suiteId:d().string.isRequired,sectionRoot:d().bool.isRequired,suiteName:d().string.isRequired,suiteStatus:d().string.isRequired,suiteChildIds:d().array,suiteBrowserIds:d().array,shouldBeShown:d().bool.isRequired,shouldBeOpened:d().bool.isRequired,actions:d().object.isRequired};var vt=(0,l.connect)((function(e,t){var r=e.tree,n=t.suiteId,a=r.suites.byId[n],o=r.suites.stateById[n],s=o.shouldBeOpened,i=o.shouldBeShown;return{suiteName:a.name,suiteStatus:a.status,suiteChildIds:a.suiteIds,suiteBrowserIds:a.browserIds,shouldBeShown:i,shouldBeOpened:s}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(Et);const ht=vt;var gt=(0,u.forwardRef)((function(e,t){return u.createElement("div",{ref:t,style:e.style,className:"virtualized__row"},u.createElement(ht,e.sectionProps))}));function yt(e){var t=new _.t1({fixedWidth:!0,defaultHeight:30}),r=function(r){var n=r.index,a=r.key,o=r.style,s=r.parent,i=e.visibleRootSuiteIds[n],c={key:i,suiteId:i,sectionRoot:!0};return u.createElement(_.Z8,{key:a,cache:t,parent:s,columnIndex:0,rowIndex:n},(function(e){var t=e.measure,r=e.registerChild;return u.createElement(ot.O.Provider,{value:{measure:t}},u.createElement(gt,{ref:r,key:a,style:o,sectionProps:c}))}))},n=(0,y.throttle)((function(){var r=e.actions,n=Array.from(document.querySelectorAll(".virtualized__row")),a=(0,y.find)(n.slice().reverse(),(function(e){var r=e.getBoundingClientRect(),n=document.documentElement.clientHeight-t.defaultHeight;return r.top>0&&r.top<=n}));if(a||(a=(0,y.find)(n,(function(e){return e.getBoundingClientRect().bottom>0}))),a){var o=a.querySelector(".section__title").textContent;r.updateBottomProgressBar({currentRootSuiteId:o})}}),100),a=(0,y.once)((function(){return setTimeout(n,0)})),o=e.visibleRootSuiteIds;if(e.isReportEmpty)return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests to show. Please, try the following:",u.createElement("ul",null,u.createElement("li",null,"Check if your project contains any tests;"),u.createElement("li",null,"Check if the tool you are using is configured correctly and is able to find your tests;"),u.createElement("li",null,"Check if some critical error has occurred in logs that prevented HTML reporter from collecting any results.")));if((0,y.isEmpty)(o)){var s=function(){var t=e.viewMode,r=e.filteredBrowsers,n=e.testNameFilter,a=e.strictMatchFilter,o=[];if(n&&o.push('test name should match to "'.concat(n,'" ').concat(a?"":"not ","strictly;")),t!==S.w.ALL&&o.push("test should be ".concat(t," due to selected view mode;")),r){var s=(0,y.flatMap)(r,(function(e){var t=e.id,r=e.versions;return(0,y.isEmpty)(r)?t:r.map((function(e){return"".concat(t,"@").concat(e)}))}));o.push("test should run in selected browsers: ".concat(s.join(", "),";"))}return o}();return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests that match to selected filters:",u.createElement("ul",null,s.map((function(e,t){return u.createElement("li",{key:t},e)}))),"Try to change your search filters to see tests.")}return u.createElement("div",{className:"sections"},u.createElement(_._K,{onScroll:n},(function(e){var n=e.height,s=e.isScrolling,i=e.onChildScroll,c=e.scrollTop,l=e.registerChild;return u.createElement(_.qj,{disableHeight:!0},(function(e){var p=e.width;return u.createElement("div",{ref:function(e){return e&&l(e)}},u.createElement(_.aV,{autoHeight:!0,height:n,width:p,isScrolling:s,onScroll:i,scrollTop:c,onRowsRendered:a,deferredMeasurementCache:t,rowHeight:t.rowHeight,rowCount:o.length,rowRenderer:r,style:{willChange:"auto"}}))}))})))}gt.propTypes={onInit:d().func,style:d().object,sectionProps:d().object},yt.propTypes={visibleRootSuiteIds:d().arrayOf(d().string),viewMode:d().string,actions:d().object.isRequired,testNameFilter:d().string,strictMatchFilter:d().bool,isReportEmpty:d().bool,filteredBrowsers:d().arrayOf(d().shape({id:d().string,versions:d().arrayOf(d().string)}))};const _t=(0,l.connect)((function(e){return{visibleRootSuiteIds:(0,re.getVisibleRootSuiteIds)(e),viewMode:e.app.suitesPage.viewMode,filteredBrowsers:e.app.suitesPage.filteredBrowsers,testNameFilter:e.app.suitesPage.nameFilter,strictMatchFilter:e.view.strictMatchFilter,isReportEmpty:(0,y.isEmpty)(e.tree.browsers.byId)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(yt);var It=function(e){var t=e.group,r=e.isActive,n=e.onClick,a=e.checkStatus,o=e.actions,s=t.name,i=t.pattern,c=t.testCount,l=t.resultCount,p=r?u.createElement("div",{className:"tests-group__body"},u.createElement(_t,null)):null,d=h()("tests-group",{"tests-group_collapsed":!r});return u.createElement("div",{className:d},u.createElement("div",{className:"tests-group__title",onClick:n,title:i},u.createElement(N,{status:a,onClick:function(e){e.stopPropagation(),o.toggleGroupCheckbox({browserIds:t.browserIds,checkStatus:(0,b.jj)(a)})},className:"tests-group__bullet"}),u.createElement("span",{className:"tests-group__name"},s),u.createElement("span",{className:"tests-group__count"},"(","tests: ".concat(c,", runs: ").concat(l),")")),p)};It.propTypes={actions:d().object.isRequired,group:d().object.isRequired,isActive:d().bool.isRequired,onClick:d().func.isRequired,checkStatus:d().number};const St=(0,l.connect)((function(e,t){var r=e.tree,n=t.group,a=n.browserIds.length,o=n.browserIds.reduce((function(e,t){return e+r.browsers.stateById[t].checkStatus}),0);return{checkStatus:Number(o===a||o&&O.Km)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(It);var Tt=r(20205),bt=r(36666);function Rt(e){var t=Ot();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ot=function(){return!!e})()}var Ct=function(e){(0,o.Z)(r,e);var t=Rt(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,m.Z)(e),"state",{activeGroupIndex:null}),(0,c.Z)((0,m.Z)(e),"onGroupChange",(function(t){var r=e.props,n=r.groupedTests,a=r.selectedGroupSection,o=r.selectedGroupKey,s=e.state.activeGroupIndex===t?null:t,i=null!==s;e.setState({activeGroupIndex:s},(function(){var r=n[a].byKey[o],s=i?r[t]:{},c=s.browserIds,u=void 0===c?[]:c,l=s.resultIds,p=void 0===l?[]:l;e.props.actions.toggleTestsGroup({browserIds:u,resultIds:p,isActive:i})}))})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.groupedTests,n=t.selectedGroupSection,a=t.selectedGroupKey,o=r[n].byKey[a],s=this.state.activeGroupIndex;if(0===o.length){var i='No tests match the key "'.concat(a,'" in the section "').concat(n,'". ')+'Try to clear "Group by" to see more results.';return u.createElement("div",{className:"grouped-tests"},i)}return u.createElement("div",{className:"grouped-tests"},o.map((function(t,r){var n=r===s;return u.createElement(St,{key:t.name,group:t,isActive:n,onClick:function(){return e.onGroupChange(r)}})})))}}]),r}(u.Component);(0,c.Z)(Ct,"propTypes",{groupedTests:Tt.M.isRequired,selectedGroupSection:d().string.isRequired,selectedGroupKey:d().string.isRequired,actions:d().object.isRequired});const At=(0,l.connect)((function(e){var t=(0,bt.B)(e),r=(0,f.Z)(t,2),n=r[0],a=r[1];return{groupedTests:e.groupedTests,selectedGroupSection:n,selectedGroupKey:a}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(Ct);function wt(e){var t=Zt();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zt=function(){return!!e})()}var Nt=function(e){(0,o.Z)(r,e);var t=wt(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){return this.props.keyToGroupTestsBy?u.createElement(At,{key:this.props.keyToGroupTestsBy}):u.createElement(_t,null)}}]),r}(u.Component);(0,c.Z)(Nt,"propTypes",{keyToGroupTestsBy:d().string.isRequired});const Pt=(0,l.connect)((function(e){return{keyToGroupTestsBy:e.view.keyToGroupTestsBy}}))(Nt)},55862:(e,t,r)=>{r.r(t),r.d(t,{FindSameDiffs:()=>v,ScreenshotAccepter:()=>U,StaticAccepterConfirm:()=>j,types:()=>F});var n=r(9249),a=r(87371),o=r(45754),s=r(11987),i=r(95058),c=r(56666),u=r(13980),l=r.n(u),p=r(2784),d=r(49330),f=r(50479);function m(e){var t=E();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,o.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.browserId,n=e.equalImages,a=e.comparedImages;return p.createElement(d.Z,{size:"small",open:!0,onClose:t},p.createElement(d.Z.Header,{content:"Find same diffs result"}),p.createElement(d.Z.Content,{scrolling:!0},p.createElement("p",null,"Search was carried out in: ",p.createElement("b",null,r)),p.createElement("p",null,"Found ",p.createElement("b",null,n)," equal images from ",p.createElement("b",null,a))),p.createElement(d.Z.Actions,null,p.createElement(f.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),r}(p.Component);(0,c.Z)(v,"propTypes",{onClose:l().func.isRequired,browserId:l().string.isRequired,equalImages:l().number.isRequired,comparedImages:l().number.isRequired});var h=r(68079),g=r(34795),y=r(80753),_=r(82841),I=r.n(_),S=r(4792),T=r(18717),b=r(76635),R=r(64141),O=r(41381),C=r(26611),A=r(99913),w=r(69875),Z=r(78272),N=r(41493),P=r(79483);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=B();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var G=function(e){(0,o.Z)(s,e);var t,r=x(s);function s(e){var t;(0,n.Z)(this,s),t=r.call(this,e),(0,c.Z)((0,y.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,c.Z)((0,y.Z)(t),"onActiveImageChange",(function(e){var r=t._getActiveImages(e);t.setState({retryIndex:r.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,c.Z)((0,y.Z)(t),"onScreenshotAccept",function(){var e=(0,g.Z)(I().mark((function e(r){var n,a,o,s,i,c,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t._getActiveImages(),a=n[0].stateName,o=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===r}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(r,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(r,a);case 9:e.t0=e.sent;case 10:if(null!==(s=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[o],ind:o,imageId:s}),i=t.state.stateNameImageIds.filter((function(e,t){return t!==o})),!(0,b.isEmpty)(i)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:i,retryIndex:null}));case 17:c=Math.min(t.state.activeImageIndex,i.length-1),u=t._getActiveImages(c,i),t.setState({activeImageIndex:c,stateNameImageIds:i,retryIndex:u.length-1}),t._preloadAdjacentImages(c,i);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.Z)((0,y.Z)(t),"onScreenshotUndo",(0,g.Z)(I().mark((function e(){var r,n,a,o,s,i,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,b.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(r=t.state.stateNameImageIds,n=t.acceptedImages.pop(),a=n.stateNameImageId,o=n.ind,s=n.imageId,i=[].concat((0,h.Z)(r.slice(0,o)),[a],(0,h.Z)(r.slice(o))),c=t._getActiveImages(o,i),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[s],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:o,stateNameImageIds:i,retryIndex:c.length-1}),t._preloadAdjacentImages(o,i);case 15:case"end":return e.stop()}}),e)})))),(0,c.Z)((0,y.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,c.Z)((0,y.Z)(t),"onClose",(function(){if((0,b.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,b.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,c.Z)((0,y.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,o=a.image,i=a.activeImageIndex,u=a.stateNameImageIds,l=a.imagesByStateName,d=t._getActiveImages(i,u),f=(0,b.findIndex)(d,{id:o.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:u,activeImageIndex:i,retryIndex:f,showMeta:!1,disposables:{}},t.topRef=p.createRef(),t.totalImagesCount=(0,b.size)(l);for(var m=1;m<=3;m++)t._preloadAdjacentImages(i,u,m);return t.analytics=t.context,t}return(0,a.Z)(s,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,b.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,g.Z)(I().mark((function e(t,r){var n,a,o,s,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(n=this.analytics)||void 0===n||n.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),o=(0,b.get)(a,"[0].images",[]),s=o.find((function(e){return e.stateName===r}))||{},i=s.id,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var r=this,n=this.props.stateNameImageIds.find((function(t){return r.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:n}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,b.size)(t);[(a+e-n)%a,(e+n)%a].filter((function(e){return e>=0})).forEach((function(e){var n=t[e],a=(0,b.last)(r.props.imagesByStateName[n]),o=a.expectedImg,s=a.actualImg,i=a.diffImg,c={};[o,s,i].filter(Boolean).forEach((function(e){var t=e.path,r=(0,P.p)(t);c[t]=r})),r.setState({disposables:D(D({},r.state.disposables),c)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.staticImageAccepter,a=this.state,o=a.retryIndex,s=a.stateNameImageIds,i=a.activeImageIndex,c=a.showMeta,u=this._getActiveImages(),l=(0,b.isNumber)(o)?u[o]:null,d=this.totalImagesCount-s.length;return p.createElement(p.Fragment,null,p.createElement("div",{ref:this.topRef}),p.createElement(O.Z,{actions:t,view:r,images:u,stateNameImageIds:s,retryIndex:o,activeImageIndex:i,showMeta:c,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:d,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:n}),p.createElement(C.Z,{showMeta:c,image:l}),p.createElement(A.Z,{image:l}))}}]),s}(p.Component);(0,c.Z)(G,"contextType",N.f),(0,c.Z)(G,"propTypes",{view:l().shape({diffMode:l().string.isRequired}),image:l().shape({id:l().string.isRequired,parentId:l().string.isRequired,stateName:l().string.isRequired}).isRequired,onClose:l().func.isRequired,imagesByStateName:l().object.isRequired,stateNameImageIds:l().arrayOf(l().string).isRequired,activeImageIndex:l().number.isRequired,staticImageAccepter:Z.O$,actions:l().object.isRequired});const U=(0,S.connect)((function(e,t){var r=t.image,n=(0,w.getAcceptableImagesByStateName)(e),a=Object.keys(n),o=e.tree.results.byId[r.parentId].parentId,s="".concat(o," ").concat(r.stateName),i=a.indexOf(s),c=e.staticImageAccepter;return{view:e.view,imagesByStateName:n,stateNameImageIds:a,activeImageIndex:i,staticImageAccepter:c}}),(function(e){return{actions:(0,T.bindActionCreators)(R,e)}}))(G);var L=r(93150);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j=(0,S.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,T.bindActionCreators)(R,e)}}))((function(e){var t=e.toolName,r=e.staticImageAccepter,n=e.staticAccepterConfig,a=e.imagesById,o=e.actions,s="chore: update ".concat(t," screenshot references"),i=n.pullRequestUrl,c=(0,p.useRef)(null);(0,p.useEffect)((function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var u=(0,p.useMemo)((function(){return(0,Z.Yo)(Object.values(r.acceptableImages),a,r.accepterDelayedImages)}),[r,a]),l=function(){var e=(0,g.Z)(I().mark((function e(){var t,r,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=c.current)||void 0===t?void 0:t.value)||s,a=q(q({},(0,b.pick)(n,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:r}),e.next=4,o.staticAccepterCommitScreenshot(u,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.createElement(L.Zbd,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},p.createElement(L.xvT,null,"You are commiting ",u.length," images to Pull Request:"),p.createElement("br",null),p.createElement(L.rUS,{href:i,target:"_blank"},i),p.createElement("br",null),p.createElement("br",null),p.createElement("br",null),p.createElement(L.xvT,null,"Enter commit message:"),p.createElement(L.Kx8,{autoFocus:!0,defaultValue:s,controlRef:c,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),p.createElement("div",{className:"static-accepter-confirm__controls"},p.createElement(L.zxk,{className:"static-accepter-confirm__cancel",onClick:function(){o.staticAccepterCloseConfirm()}},"Cancel"),p.createElement(L.zxk,{view:"action",className:"static-accepter-confirm__confirm",onClick:l},"Commit")))}));var F={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},50243:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(96234),a=r(2784),o=r(76635),s=r(13980),i=r.n(s),c=r(51033),u=function(e){var t=e.children,r=(0,a.useState)(0),s=(0,n.Z)(r,2),i=s[0],u=s[1],l=i>10,p=(0,a.useCallback)((0,o.throttle)((function(){var e=function(e){return function(e){return e<10&&window.scrollY>30}(e)||function(e){return e>30&&window.scrollY<10}(e)};u((function(t){return e(t)?window.scrollY:t}))}),100),[u]);return(0,c.Z)("scroll",p),a.createElement("div",{className:"sticky-header sticky-header_".concat(l?"wrapped":"unwrapped")},a.createElement("div",{className:"sticky-header__wrap"}),a.createElement("div",{className:"sticky-header__content"},t))};u.propTypes={children:i().oneOfType([i().element,i().string])};const l=u},28165:(e,t,r)=>{r.d(t,{Z:()=>O});var n=r(7896),a=r(9249),o=r(87371),s=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(4792),d=r(18717),f=r(13980),m=r.n(f),E=r(76635),v=r(93150);function h(e){var t=g();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var y=function(e){(0,s.Z)(r,e);var t=h(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){document.body.classList.add("modal-open")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("modal-open")}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.children;return l.createElement(v.h_i,null,l.createElement("div",{className:t},r))}}]),r}(l.Component);y.propTypes={className:m().string,children:m().oneOfType([m().element,m().string])};const _=y;var I=r(64141),S=r(55862);function T(e){var t=b();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}var R=function(e){(0,s.Z)(r,e);var t=T(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.modals,r=e.actions;return(0,E.isEmpty)(t)?null:t.map((function(e){var t=e.id,a=e.type,o=e.className,s=e.data,i=void 0===s?{}:s,c=S[a];return l.createElement(_,{key:t,className:o},l.createElement(c,(0,n.Z)({},i,{onClose:function(){return r.closeModal({id:t})}})))}))}}]),r}(l.Component);(0,u.Z)(R,"propTypes",{modals:m().arrayOf(m().shape({id:m().string,type:m().string,className:m().string,data:m().object})).isRequired,actions:m().object.isRequired});const O=(0,p.connect)((function(e){return{modals:e.modals}}),(function(e){return{actions:(0,d.bindActionCreators)(I,e)}}))(R)},97566:(e,t,r)=>{r.d(t,{Z:()=>n});const n={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY:"VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY",VISUAL_CHECKS_SET_2UP_FIT_MODE:"VISUAL_CHECKS_SET_2UP_FIT_MODE",VISUAL_CHECKS_SET_DIFF_MODE:"VISUAL_CHECKS_SET_DIFF_MODE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES"}},29909:(e,t,r)=>{r.d(t,{a:()=>a});var n=r(97566),a=function(e){return{type:n.Z.SET_BROWSER_FEATURES,payload:e}}},70839:(e,t,r)=>{r.d(t,{M:()=>l,u:()=>u});var n=r(34795),a=r(82841),o=r.n(a),s=r(87741),i=r(97566),c=r(48394),u=function(e){return{type:i.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},l=function(e){return function(){var t=(0,n.Z)(o().mark((function t(r){var n,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.sectionName,a=e.groupIndex,i=e.controlIndex,t.next=4,s.default.post("/run-custom-gui-action",{sectionName:n,groupIndex:a,controlIndex:i});case 4:r(u(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r((0,c.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},19272:(e,t,r)=>{r.d(t,{Lf:()=>i,QC:()=>o,QJ:()=>c,R4:()=>u,cQ:()=>s});var n=r(97566),a=r(94646),o=function(e){return{type:n.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},s=function(e){return{type:n.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},i=function(e){return{type:n.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},c=function(e){return(0,a.WI)(e.data),{type:n.Z.BROWSERS_SELECTED,payload:e}},u=function(e){return{type:n.Z.CHANGE_VIEW_MODE,payload:e}}},60540:(e,t,r)=>{r.d(t,{C:()=>d});var n=r(34795),a=r(82841),o=r.n(a),s=r(76635),i=r(87741),c=r(55862),u=r(33981),l=r(70807),p=r(95834),d=function(e,t,r){return function(){var a=(0,n.Z)(o().mark((function n(a){var d,f,m,E,v;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a((0,u.o)({active:!0,content:"Find same diffs..."})),d=t.filter((function(t){return t.includes(r)&&t!==e})),f=[],n.prev=3,(0,s.isEmpty)(d)){n.next=13;break}return n.next=7,i.default.post("/get-find-equal-diffs-data",[e].concat(d));case 7:if(m=n.sent,E=m.data,(0,s.isEmpty)(E)){n.next=13;break}return n.next=12,i.default.post("/find-equal-diffs",E);case 12:f=n.sent.data;case 13:v=(0,s.difference)(t,[].concat(e,f)),(0,s.isEmpty)(v)||a((0,l.DI)(v)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),console.error("Error while trying to find equal diffs:",n.t0);case 20:return n.prev=20,a((0,u.o)({active:!1})),a((0,p.h)({id:c.types.FIND_SAME_DIFFS,type:c.types.FIND_SAME_DIFFS,data:{browserId:r,equalImages:f.length,comparedImages:d.length}})),n.finish(20);case 24:case"end":return n.stop()}}),n,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()}},32481:(e,t,r)=>{r.d(t,{I:()=>a,i:()=>o});var n=r(97566),a=function(e){return{type:n.Z.GROUP_TESTS_BY_KEY,payload:e}},o=function(e){return{type:n.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}}},48907:(e,t,r)=>{r.d(t,{o:()=>a});var n=r(97566),a=function(e){return{type:n.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},64141:(e,t,r)=>{r.r(t),r.d(t,{changeTestRetry:()=>M.iB,changeViewMode:()=>a.R4,closeModal:()=>l.M,closeSections:()=>M.DI,collapseAll:()=>M.kF,commitAcceptedImagesToTree:()=>x.GC,commitRevertedImagesToTree:()=>x.sP,createNotification:()=>p.sc,createNotificationError:()=>p.uX,deselectAll:()=>M.kR,dismissNotification:()=>p.N5,expandAll:()=>M.V1,expandErrors:()=>M.vf,expandRetries:()=>M.tp,finGuiReport:()=>c.Sc,finStaticReport:()=>c.$i,groupTestsByKey:()=>s.I,openModal:()=>l.h,processBegin:()=>d.$,processEnd:()=>d.E,revealTreeNode:()=>L.o9,runAllTests:()=>_,runCustomGui:()=>n.u,runFailedTests:()=>S,runSuite:()=>b,runTest:()=>O,selectAll:()=>M.td,selectBrowsers:()=>a.QJ,set2UpFitMode:()=>q.Bt,setAllTreeNodesState:()=>L.Nu,setBackupSectionSizes:()=>L.Qh,setBrowserFeatures:()=>j.a,setCurrentGroupByExpression:()=>s.i,setCurrentHighlightStep:()=>L.Gm,setCurrentSortByExpression:()=>G.Q,setCurrentStep:()=>L.Bq,setCurrentTreeNode:()=>L._r,setDiffMode:()=>B.H,setGuiServerConnectionStatus:()=>i.o,setMatchCaseFilter:()=>a.cQ,setSectionExpandedState:()=>L.$X,setSectionSizes:()=>L.gM,setSortByDirection:()=>G.u,setStepsExpandedState:()=>L.zE,setStrictMatchFilter:()=>L.tF,setTreeNodeExpandedState:()=>L.cI,setTreeViewMode:()=>L.KW,setUseRegexFilter:()=>a.Lf,setVisualChecksDiffMode:()=>q.MT,staticAccepterCloseConfirm:()=>U.dd,staticAccepterCommitScreenshot:()=>U.sv,staticAccepterDelayScreenshot:()=>U.A2,staticAccepterOpenConfirm:()=>U.x_,staticAccepterStageScreenshot:()=>U.FD,staticAccepterUndoDelayScreenshot:()=>U.cO,staticAccepterUnstageScreenshot:()=>U.vx,staticAccepterUpdateCommitMessage:()=>U.Lt,staticAccepterUpdateToolbarOffset:()=>U.mm,stopTests:()=>A,suiteBegin:()=>P,testBegin:()=>k,testResult:()=>D,testsEnd:()=>Z,thunkAcceptImages:()=>x.Ro,thunkFindSameDiffs:()=>o.C,thunkInitGuiReport:()=>c.dP,thunkInitStaticReport:()=>c.Kt,thunkRevertImages:()=>x.Ku,thunkRunAllTests:()=>I,thunkRunCustomGuiAction:()=>n.M,thunkRunFailedTests:()=>T,thunkRunSuite:()=>R,thunkRunTest:()=>C,thunkRunTests:()=>y,thunkStopTests:()=>w,thunkTestsEnd:()=>N,toggle2UpDiffVisibility:()=>q.ZD,toggleBrowserCheckbox:()=>M.Z$,toggleBrowserSection:()=>M.nS,toggleGroupCheckbox:()=>M.IP,toggleLoading:()=>u.o,toggleStateResult:()=>M.qz,toggleSuiteCheckbox:()=>M.T9,toggleSuiteSection:()=>M.cd,toggleTestsGroup:()=>M.Cd,updateBaseHost:()=>B.B,updateBottomProgressBar:()=>M.LL,updateNameFilter:()=>a.QC,visualChecksPageSetCurrentNamedImage:()=>q.Ll});var n=r(70839),a=r(19272),o=r(60540),s=r(32481),i=r(48907),c=r(82931),u=r(33981),l=r(95834),p=r(48394),d=r(84787),f=r(34795),m=r(82841),E=r.n(m),v=r(87741),h=r(97566),g=r(8047),y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tests,t=void 0===e?[]:e;return(0,f.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.post("/run",t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error while running tests:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},_=function(){return{type:h.Z.RUN_ALL_TESTS}},I=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),e.next=3,t(y());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return{type:h.Z.RUN_FAILED_TESTS}},T=function(e){var t=e.tests;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(S()),e.next=3,r(y({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return{type:h.Z.RETRY_SUITE}},R=function(e){var t=e.tests;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(b()),e.next=3,r(y({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){return{type:h.Z.RETRY_TEST}},C=function(e){var t=e.test;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(O()),e.next=3,r(y({tests:[t]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){return{type:h.Z.STOP_TESTS}},w=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.post("/stop");case 3:t(A()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error while stopping tests:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(e){return{type:h.Z.TESTS_END,payload:e}},N=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){var r,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,g.pU)(),e.next=4,(0,g.vO)(r.href);case 4:n=e.sent,t(Z({db:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((0,p.uX)("testsEnd",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return{type:h.Z.SUITE_BEGIN,payload:e}},k=function(e){return{type:h.Z.TEST_BEGIN,payload:e}},D=function(e){return{type:h.Z.TEST_RESULT,payload:e}},x=r(54432),B=r(22253),G=r(58311),U=r(49012),L=r(40554),M=r(70807),q=r(84006),j=r(29909)},33981:(e,t,r)=>{r.d(t,{o:()=>a});var n=r(97566),a=function(e){return{type:n.Z.TOGGLE_LOADING,payload:e}}},95834:(e,t,r)=>{r.d(t,{M:()=>o,h:()=>a});var n=r(97566),a=function(e){return{type:n.Z.OPEN_MODAL,payload:e}},o=function(e){return{type:n.Z.CLOSE_MODAL,payload:e}}},48394:(e,t,r)=>{r.d(t,{N5:()=>a.N5,sc:()=>c,uX:()=>u});var n=r(56666),a=r(78505),o=r(14054);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},n);return(0,a.h4)(i({id:e,status:t,message:r},o))},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return c(e,"error",(0,o.ML)(t),r)}},84787:(e,t,r)=>{r.d(t,{$:()=>a,E:()=>o});var n=r(97566),a=function(){return{type:n.Z.PROCESS_BEGIN}},o=function(){return{type:n.Z.PROCESS_END}}},54432:(e,t,r)=>{r.d(t,{GC:()=>l,Ku:()=>f,Ro:()=>p,sP:()=>d});var n=r(34795),a=r(82841),o=r.n(a),s=r(87741),i=r(97566),c=r(84787),u=r(48394),l=function(e){return{type:i.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},p=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(o().mark((function e(r){var n,i,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,s.default.post("/reference-data-to-update",t);case 4:return n=e.sent,i=n.data,e.next=8,s.default.post("/update-reference",i);case 8:return p=e.sent,d=p.data,a&&r(l(d)),r((0,c.E)()),e.abrupt("return",d);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),r((0,u.uX)("acceptScreenshot",e.t0)),r((0,c.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:i.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},f=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(o().mark((function e(r){var n,i,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,s.default.post("/reference-data-to-update",t);case 4:return n=e.sent,i=n.data,e.next=8,s.default.post("/undo-accept-images",i);case 8:l=e.sent,p=l.data,a&&r(d(p)),r((0,c.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),r((0,u.uX)("undoScreenshot",e.t0)),r((0,c.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},22253:(e,t,r)=>{r.d(t,{B:()=>a,H:()=>o});var n=r(97566),a=function(e){return{type:n.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},o=function(e){return{type:n.Z.SET_DIFF_MODE,payload:e}}},58311:(e,t,r)=>{r.d(t,{Q:()=>a,u:()=>o});var n=r(97566),a=function(e){return{type:n.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},o=function(e){return{type:n.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},49012:(e,t,r)=>{r.d(t,{A2:()=>y,FD:()=>I,Lt:()=>C,cO:()=>_,dd:()=>b,mm:()=>O,sv:()=>R,vx:()=>S,x_:()=>T});var n=r(56666),a=r(34795),o=r(82841),s=r.n(o),i=r(87741),c=r(76635),u=r(19456),l=r.n(u),p=r(55862),d=r(14054),f=r(78272),m=r(97566),E=r(95834),v=r(48394);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){return{type:m.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},_=function(){return{type:m.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},I=function(e){return{type:m.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},S=function(e){return{type:m.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},T=function(){return(0,E.h)({id:p.types.STATIC_ACCEPTER_CONFIRM,type:p.types.STATIC_ACCEPTER_CONFIRM})},b=function(){return(0,E.M)({id:p.types.STATIC_ACCEPTER_CONFIRM})},R=function(e,t){var r=t.repositoryUrl,n=t.pullRequestUrl,o=t.serviceUrl,u=t.message,p=t.axiosRequestOptions,E=void 0===p?{}:p,h=t.meta;return function(){var t=(0,a.Z)(s().mark((function t(p){var y,_,I,S,T,R,O,C;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p({type:m.Z.PROCESS_BEGIN}),p(b()),p({type:m.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),p({type:m.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(y=new FormData).append("repositoryUrl",r),y.append("pullRequestUrl",n),y.append("message",u),(0,c.isEmpty)(h)||y.append("meta",JSON.stringify(h)),_=new(l())({concurrency:256}),I=s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.add((0,a.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.Ow)(e[r].image);case 2:n=t.sent,y.append("image",n,e[r].path),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(r+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),S=0;case 14:if(!(S<e.length)){t.next=19;break}return t.delegateYield(I(S),"t0",16);case 16:S++,t.next=14;break;case 19:return t.next=21,_.onIdle();case 21:return p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,i.default.post(o,y,g(g({},E),{},{onUploadProgress:function(e){var t;p({type:m.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(T=t.sent,R=e.map((function(e){return e.id})),O=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(T.status>=200&&T.status<400)){t.next=35;break}p({type:m.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:R}),(0,f.AM)(O),p({type:m.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),p((0,v.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw C=["Unexpected status code from the service: ".concat(T.status,"."),"Server response: '".concat(T.data,"'")].join("\n"),new Error(C);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),p((0,v.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,p({type:m.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),p({type:m.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return{type:m.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},C=function(e){return{type:m.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}}},40554:(e,t,r)=>{r.d(t,{$X:()=>l,Bq:()=>o,Gm:()=>s,KW:()=>d,Nu:()=>c,Qh:()=>m,_r:()=>a,cI:()=>i,gM:()=>f,o9:()=>u,tF:()=>E,zE:()=>p});var n=r(97566),a=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},o=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},s=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},i=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},c=function(e){return{type:n.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},u=function(e){return{type:n.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},l=function(e){return{type:n.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},p=function(e){return{type:n.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},d=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},f=function(e){return{type:n.Z.PAGE_SET_SECTION_SIZES,payload:e}},m=function(e){return{type:n.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},E=function(e){return{type:n.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},70807:(e,t,r)=>{r.d(t,{Cd:()=>g,DI:()=>o,IP:()=>v,LL:()=>h,T9:()=>E,V1:()=>c,Z$:()=>m,cd:()=>d,iB:()=>y,kF:()=>p,kR:()=>i,nS:()=>f,qz:()=>a,td:()=>s,tp:()=>l,vf:()=>u});var n=r(97566),a=function(e){return{type:n.Z.TOGGLE_STATE_RESULT,payload:e}},o=function(e){return{type:n.Z.CLOSE_SECTIONS,payload:e}},s=function(){return{type:n.Z.SELECT_ALL}},i=function(){return{type:n.Z.DESELECT_ALL}},c=function(){return{type:n.Z.VIEW_EXPAND_ALL}},u=function(){return{type:n.Z.VIEW_EXPAND_ERRORS}},l=function(){return{type:n.Z.VIEW_EXPAND_RETRIES}},p=function(){return{type:n.Z.VIEW_COLLAPSE_ALL}},d=function(e){return{type:n.Z.TOGGLE_SUITE_SECTION,payload:e}},f=function(e){return{type:n.Z.TOGGLE_BROWSER_SECTION,payload:e}},m=function(e){return{type:n.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},E=function(e){return{type:n.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},v=function(e){return{type:n.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},h=function(e){return{type:n.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},g=function(e){return{type:n.Z.TOGGLE_TESTS_GROUP,payload:e}},y=function(e){return{type:n.Z.CHANGE_TEST_RETRY,payload:e}}},84006:(e,t,r)=>{r.d(t,{Bt:()=>s,Ll:()=>a,MT:()=>i,ZD:()=>o});var n=r(97566),a=function(e){return{type:n.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:{namedImageId:e}}},o=function(e){return{type:n.Z.VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY,payload:{isVisible:e}}},s=function(e){return{type:n.Z.VISUAL_CHECKS_SET_2UP_FIT_MODE,payload:{fitMode:e}}},i=function(e){return{type:n.Z.VISUAL_CHECKS_SET_DIFF_MODE,payload:{diffModeId:e}}}},21942:(e,t,r)=>{r.d(t,{Ed:()=>f,GZ:()=>p,U2:()=>m,sy:()=>l,xj:()=>E});var n=r(68079),a=r(34795),o=r(82841),s=r.n(o),i=r(98631),c=Object.create(null),u=[];function l(e){e&&e.pluginsEnabled&&Array.isArray(e.plugins)&&e.plugins.forEach((function(e){return(0,i.b)(e.name)}))}function p(e){return d.apply(this,arguments)}function d(){return d=(0,a.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.pluginsEnabled&&Array.isArray(t.plugins)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(t.plugins.map(function(){var e=(0,a.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.O)(t.name,t.config);case 2:if(!(r=e.sent)){e.next=6;break}return c[t.name]=r,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=e.sent,u.push.apply(u,(0,n.Z)(r.filter(Boolean)));case 6:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){var t=new Set;u.forEach((function(r){var n=r.name;if(!t.has(n)){t.add(n);try{e(c[n],n)}catch(e){console.error('Error on "'.concat(n,'" plugin iteration:'),e)}}}))}function m(e,t){var r=c[e];if(!r)throw new Error('Plugin "'.concat(e,'" is not loaded.'));if(!r[t])throw new Error('"'.concat(t,'" is not defined on plugin "').concat(e,'".'));return c[e][t]}function E(){return u}},94646:(e,t,r)=>{r.d(t,{V$:()=>l,WI:()=>p,mB:()=>i,ru:()=>c});var n=r(96234),a=r(19126),o=r.n(a),s=r(76635);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),o().parse(e,{decoder:function(e,r,n,a){if("key"===a){var o=r(e,null,n);return t[o]?t[o]:o}var s=r(e,null,n);return"true"===s||"false"!==s&&(s&&!isNaN(s)?Number(s):s)}})):{}}function c(e,t){var r=new URL(e),n=r.search||"",a=(0,s.assign)(o().parse(n.slice(1)),t);return r.search=o().stringify(a,{arrayFormat:"repeat"}),r.href}function u(e){return e.map((function(e){var t=e.id,r=e.versions,n=encodeURIComponent(t);if((0,s.isEmpty)(r))return n;var a=r.map(encodeURIComponent).join(",");return"".concat(n,":").concat(a)}))}function l(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),r=(0,n.Z)(t,2),a=r[0],o=r[1],i=(void 0===o?"":o).split(",").map(decodeURIComponent);return{id:decodeURIComponent(a),versions:(0,s.compact)(i)}}))}function p(e){var t=c(window.location.href,{browser:u(e)});window.history.pushState(null,null,t)}},36666:(e,t,r)=>{r.d(t,{B:()=>s});var n=r(97698),a=r(51869),o=r(14054),s=(0,n.createSelector)(a.getKeyToGroupTestsBy,(function(e){return e?(0,o.An)(e):[]}))},51869:(e,t,r)=>{r.r(t),r.d(t,{getFilteredBrowsers:()=>n,getKeyToGroupTestsBy:()=>a});var n=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,r)=>{r.d(t,{AM:()=>h,Iv:()=>v,O$:()=>g,Yo:()=>m,fQ:()=>f});var n=r(56666),a=r(13980),o=r.n(a),s=r(76635),i=r(27202),c=r(31804);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=null,d="static-image-accepter",f=function(e,t){if(null!==p)return p;if(!e||!e.enabled||t)return p=!1;var r=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return r.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(r.join(", "),"' is(/are) missing!")),p=!1):p=!0},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.filter((function(e){return e.commitStatus===i.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(r);if(n.find((function(e){var r,n=e.imageId;return!(null!==(r=t[n].refImg)&&void 0!==r&&r.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return n.map((function(e){var r=e.imageId;return{id:r,stateNameImageId:e.stateNameImageId,image:t[r].actualImg.path,path:t[r].refImg.relativePath}}))},E=function(){var e=(0,s.get)(window,["data","date"]),t=(0,s.get)(window,["location","pathname"]),r=c.rV(d,null);return r&&r.date===e&&r.pathName===t?r.commitedImages:{}},v=function(){return Object.values(E())},h=function(e){var t=(0,s.get)(window,["data","date"]),r=(0,s.get)(window,["location","pathname"]),n=E(),a=e.reduce((function(e,t){var r=t.imageId;return e[t.stateNameImageId]=r,e}),{});c.LS(d,{date:t,pathName:r,commitedImages:l(l({},n),a)})},g=o().shape({enabled:o().bool.isRequired,accepterDelayedImages:o().arrayOf(o().shape({imageId:o().string.isRequired,stateName:o().string.isRequired,stateNameImageId:o().string.isRequired})).isRequired,acceptableImages:o().objectOf(o().shape({id:o().string.isRequired,parentId:o().string.isRequired,stateName:o().string.isRequired,commitStatus:o().oneOf([null,i.Ez,i.t6]),originalStatus:o().string.isRequired}))})},79483:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(9249),a=r(87371),o=r(56666),s=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var r;null===(r=e.cache[t])||void 0===r||r.remove(),delete e.cache[t]}}]),e}();function i(e){return s.register(e),function(){return s.dispose(e)}}(0,o.Z)(s,"cache",{})},14054:(e,t,r)=>{r.d(t,{An:()=>O,D8:()=>E,Et:()=>R,F7:()=>h,Gz:()=>T,KD:()=>y,ML:()=>I,Ow:()=>C,TV:()=>S,V_:()=>_,Xd:()=>v,h3:()=>g,kp:()=>b,rm:()=>f.rm});var n=r(86522),a=r(34795),o=r(46840),s=r(68079),i=r(82841),c=r.n(i),u=r(76635),l=r(89325),p=r(9560),d=r(27202),f=r(21990),m=Object.values(d.SA);function E(e){return(0,p.R6)(e.status)||(0,p.KM)(e.status)}function v(e){return(0,p.Cx)(e.status)}function h(e){return(0,p.Mg)(e.status)||(0,p.Cr)(e.status)||(0,p.Cx)(e.status)||(0,p.hO)(e.status)}function g(e){var t=e.status,r=e.error;return(0,p.KM)(t)&&((0,p.S5)(r)||(0,p.Ne)(r))||(0,p.R6)(t)||(0,p.sx)(t)}function y(e){var t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,r=e.image,n=e.isLastResult;return t&&r.stateName&&n&&(0,p.Cr)(r.status)}({gui:t,image:r,isLastResult:n})||function(e){var t=e.gui,r=e.image,n=e.isStaticImageAccepterEnabled;return!t&&n&&r.stateName&&(0,p.Cx)(r.status)}({gui:t,image:r,isStaticImageAccepterEnabled:a})}function _(e){if(!e)return"";var t=(0,u.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function I(e){var t=e.message,r=e.response;return r?"(".concat(r.status,") ").concat(r.data):t}function S(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.strictMatchFilter,o=n.useMatchCaseFilter,s=void 0!==o&&o,i=n.useRegexFilter,c=void 0!==i&&i,u=n.isNewUi;if(!r)return{isMatch:!0,score:1};if(!(void 0===u||u)){var p=function(e,t,r,n){if(!r)return!0;var a=r.replace(/ /g,"(?: |  )");return n?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,r,a);return{isMatch:p,score:p?1:0}}var f=s?"":"i";if(c)try{var m=new RegExp(r,f);return{isMatch:m.test(e)||m.test("".concat(e," ").concat(t)),score:0}}catch(e){return{isMatch:!1,score:0}}if(a){var E=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),v="^".concat(E.replace(/ /g,"(?: |  )"),"$");try{var h=new RegExp(v,f);return{isMatch:h.test(e)||h.test("".concat(e," ").concat(t)),score:0}}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(v,". Please file an issue at ").concat(d.WY)),{isMatch:!1,score:0}}}return r.length<256?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new l.Z(e,{keys:["title"],threshold:.4,isCaseSensitive:r,findAllMatches:!0,ignoreLocation:!0,includeScore:!0}).search(t);return 0===n.length?{isMatch:!1,score:1}:{isMatch:!0,score:1-n.reduce((function(e,t){return t.score<e.score?t:e}),n[0]).score}}([{title:"".concat(e," ").concat(t)}],{$or:[{title:r},{title:w(r)}]},s):{isMatch:"".concat(e," ").concat(t).includes(r),score:0}}function T(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return r===d.wO.ALL||(!(r!==d.wO.PASSED||!(0,p.Mg)(t))||(!(r!==d.wO.FAILED||!(0,p.R6)(t)&&!(0,p.KM)(t))||(r===d.wO.RETRIED?(0,f.xg)(e,n,"resultIds.length")>1:t===r)))}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,u.isEmpty)(t))return!0;var n=(0,u.find)(t,{id:(0,f.xg)(e,r,"name")});if(!n)return!1;var a=[].concat(n.versions).filter(Boolean);return!!(0,u.isEmpty)(a)||a.includes((0,f.xg)(e,r,"version"))}function R(e,t){var r=t.suiteCb,n=t.browserCb,a=t.browserIdsCb,o=[],i=[];return e.browserIds&&[n,a].some(u.isFunction)&&(o=a?a(e.browserIds,e):(0,u.flatMap)(e.browserIds,(function(t){return n(t,e)}))),e.suiteIds&&(0,u.isFunction)(r)&&(i=(0,u.flatMap)(e.suiteIds,(function(t){return r(t,e)}))),[].concat((0,s.Z)(o),(0,s.Z)(i))}function O(e){var t=e.split(d.QV),r=(0,o.Z)(t),n=r[0],a=r.slice(1);if(a=a.join(d.QV),!m.includes(n))throw new Error("Group section must be one of ".concat(m.join(", "),", but got ").concat(n));if(n===d.SA.RESULT&&!d.Kr.includes(a))throw new Error("Group key must be one of ".concat(d.Kr.join(", "),", but got ").concat(a));return[n,a]}function C(e){return A.apply(this,arguments)}function A(){return A=(0,a.Z)(c().mark((function e(t){var r,a,o,s,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r=i.length>1&&void 0!==i[1]?i[1]:3,o=c().mark((function e(){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,r){var n=new XMLHttpRequest;n.onload=function(){return e(n.response)},n.onerror=function(){return r(new Error("Got an error trying to download object at: ".concat(t)))},n.open("GET",t),n.responseType="blob",n.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return n=r-a,o=500*Math.pow(2,n),e.next=16,new Promise((function(e){return setTimeout(e,o)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(o(),"t0",5);case 5:if(s=e.t0,"object"!==(0,n.Z)(s)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function w(e){if(!e)return"";for(var t,r,n="`qwertyuiop[]\\asdfghjkl;'zxcvbnm,.~QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?",a="\\|,",o=!1,s=0;s<e.length;s++){var i=e[s];if(n.includes(i)){t=n,r=a,o=!0;break}if(a.includes(i)){t=a,r=n,o=!0;break}}if(!o)return e;for(var c="",u=0;u<e.length;u++){var l=e[u],p=t.indexOf(l);c+=p>=0?r[p]:l}return c}},60460:(e,t,r)=>{r.d(t,{gD:()=>n,hi:()=>a});var n=function(e){return{"--natural-width":e.width,"--natural-height":e.height,"--img-width":e.width>e.height?"100%":"auto","--img-height":e.width>e.height?"auto":"100%"}},a=function(e){var t=100*e,r=Math.ceil(100*t)/100;return t<.01?"< ".concat(.01):String(r)}},82022:(e,t,r)=>{r.d(t,{V:()=>i});var n=r(97698),a=r(40645),o=r(41984),s=r(27202),i=(0,n.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY],(function(e,t,r,n,a,s,i,c,u){var l,p,d,f=u.currentDirection,m=null!==(l=u.availableExpressions.find((function(e){return e.id===u.currentExpressionIds[0]})))&&void 0!==l?l:u.availableExpressions[0],E={results:s,images:i,suites:t,treeViewMode:c,browsersState:a,browsers:n,groups:e,currentSortDirection:f,currentSortExpression:m};if(r.length>0){var v=r.map((function(t){var r=e[t],s=r.browserIds.flatMap((function(e){return a[e].shouldBeShown?[n[e]]:[]})),i=(0,o.pH)(E,r,r.id);return{data:i,children:(0,o.ph)(E,s,i).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),h=(0,o.ow)(E,v),g=(0,o.Ll)(h);return{tree:h,allTreeNodeIds:g.allTreeNodeIds,visibleTreeNodeIds:g.visibleTreeNodeIds}}var y=(0,o.ph)(E,Object.values(n).filter((function(e){return a[e.id].shouldBeShown})));y.children=(0,o.ow)(E,null!==(p=y.children)&&void 0!==p?p:[]);var _=(0,o.Ll)([y]);return{allTreeNodeIds:_.allTreeNodeIds,visibleTreeNodeIds:_.visibleTreeNodeIds,tree:null!==(d=y.children)&&void 0!==d?d:[]}}));(0,n.createSelector)([a.O7,a.Wo],(function(e,t){var r={},n=new Set,a=0;Object.values(e).forEach((function(e){var o,s,i=e.parentId,c=e.attempt,u=e.status,l=e.timestamp;(t[i].shouldBeShown||t[i].isHiddenBecauseOfStatus)&&(c>0&&n.add(i),(!r[i]||r[i].timestamp<l)&&(a-=null!==(o=null===(s=r[i])||void 0===s?void 0:s.attempt)&&void 0!==o?o:0,a+=c,r[i]={attempt:c,status:u,timestamp:l}))}));var o={success:0,fail:0,skipped:0,total:Object.keys(r).length,retried:n.size,retries:a,idle:0};return Object.values(r).forEach((function(e){var t=e.status,r=t===s.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(o,r)&&o[r]++})),o}))},11200:(e,t,r)=>{r.d(t,{Qt:()=>p,av:()=>i,iT:()=>l,nt:()=>c});var n=r(52902),a=r(36397);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){for(var t=null,r=e;r;){if(r.entityType===n.p.Group){t=r.entityId;break}r=r.parentData}return t},c=function(e){return(0,a.og)(e)?n.p.Browser:n.p.Suite},u=function e(t,r){var n,a=o(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(r(s))return s.data;if(s.children){var i=e(s.children,r);if(i)return i}}}catch(e){a.e(e)}finally{a.f()}return null},l=function(e,t){return u(e,(function(e){return e.data.entityType===n.p.Browser&&e.data.entityId===t}))},p=function(e,t){return u(e,(function(e){return e.data.id===t}))}},40645:(e,t,r)=>{r.d(t,{Bl:()=>s,EZ:()=>n,Fn:()=>d,JK:()=>f,Jx:()=>l,LD:()=>a,O7:()=>u,Qy:()=>p,TZ:()=>i,WY:()=>m,Wo:()=>c,jA:()=>o});r(27202);var n=function(e){return e.tree.suites.allRootIds},a=function(e){return e.tree.groups.allRootIds},o=function(e){return e.tree.groups.byId},s=function(e){return e.tree.suites.byId},i=function(e){return e.tree.browsers.byId},c=function(e){return e.tree.browsers.stateById},u=function(e){return e.tree.results.byId},l=function(e){return e.tree.images.byId},p=function(e){return e.staticImageAccepter.enabled},d=function(e){return e.gui},f=function(e){return e.ui.suitesPage.treeViewMode},m=function(e){return e.app.sortTestsData}},32444:(e,t,r)=>{r.d(t,{r:()=>s});var n=r(34795),a=r(82841),o=r.n(a),s=function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/update-time-travel-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},71011:(e,t,r)=>{r.d(t,{Pz:()=>o,hk:()=>s});r(93150);var n=r(2784),a=(r(27202),r(76635)),o=function(e){return(0,a.isString)(e)?e:(0,a.isObject)(e)?JSON.stringify(e):(0,a.isNull)(e)?"null":(0,a.isUndefined)(e)?"undefined":(0,a.toString)(e)},s=function(e){var t=/https?:\/\/[^\s]*/g,r=e.split(t),a=e.match(t)||[];return n.createElement(n.Fragment,null,r.reduce((function(e,t,r){if(e.push(t),a[r]){var o=a[r].startsWith("www.")?"http://".concat(a[r]):a[r];e.push(n.createElement("a",{key:r,href:o,target:"_blank",rel:"noopener noreferrer"},a[r]))}return e}),[]))}}}]);