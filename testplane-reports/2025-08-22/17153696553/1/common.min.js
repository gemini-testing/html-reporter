(self.webpackChunk=self.webpackChunk||[]).push([[592],{82806:(e,t,r)=>{"use strict";r.d(t,{EX:()=>C,SS:()=>L,dc:()=>U,by:()=>j,qC:()=>A,Lg:()=>V,jj:()=>H,zV:()=>R,MO:()=>x,iR:()=>M,CR:()=>G,Ph:()=>F,hO:()=>_,KM:()=>T,R6:()=>b,nc:()=>S,ci:()=>D,wX:()=>k,Ne:()=>P,S5:()=>Z,sx:()=>w,Cx:()=>N,Mg:()=>I,Cr:()=>O,CB:()=>B,kg:()=>y,Fm:()=>K,e1:()=>z,G6:()=>W});var n=r(34795),a=r(96234),i=r(82841),s=r.n(i),o=(r(5634),r(76635)),c=r(883),u=r(87741),l=r(73241),d=r(8776),p="ImageDiffError",f="NoRefImageError",m="InvalidRefImageError",v="AssertViewError";function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=[l.sS,l.em,l.pn,l.ES,l.Ez,l.t6,l.SH,l.MR,l.JW,l.kb],y=(0,o.pick)(console,["log","warn","error"]),I=function(e){return e===l.MR},b=function(e){return e===l.ES},S=function(e){return e===l.JW},T=function(e){return e===l.pn},w=function(e){return e===l.kb},O=function(e){return e===l.SH},N=function(e){return e===l.Ez},_=function(e){return e===l.t6},C=function(e){if(!e.length)return l.MR;for(var t=new Set(e),r=0,n=E;r<n.length;r++){var a=n[r];if(t.has(a))return a}return console.error("Unknown statuses: "+JSON.stringify(e)),null},R=function(e,t){if((0,o.isEmpty)(t))return null!=e?e:"";try{var r=new URL(null!=e?e:"",t),n=new URL(t);r.host=n.host,r.protocol=n.protocol,r.port=n.port,r.username=n.username,r.password=n.password;var i,s=g(n.searchParams);try{for(s.s();!(i=s.n()).done;){var c=(0,a.Z)(i.value,2),u=c[0],l=c[1];r.searchParams.append(u,l)}}catch(e){s.e(e)}finally{s.f()}return r.href}catch(r){return e||t||""}},A=function(e){try{var t=new URL(e);return t.pathname+t.search}catch(t){return e}},M=function(e){return(null==e?void 0:e.name)===v},D=function(e){return(null==e?void 0:e.name)===p},Z=function(e){return(null==e?void 0:e.name)===f},P=function(e){return(null==e?void 0:e.name)===m},k=function(e){return M(e)||D(e)||Z(e)},x=function(e){return!Z(e)&&!D(e)&&!M(e)},j=function(e){if(e)return(0,o.pick)(e,["name","message","stack","stateName","snippet"])},L=function(e){var t;if(!(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(e){return e.stateName&&(T(e.status)||b(e.status)||Z(e)||D(e))}))}(e.imagesInfo)||w(e.status)||e.error&&x(e.error)))return l.MR;var r,n=(null!==(t=e.imagesInfo)&&void 0!==t?t:[]).map((function(e){var t;return null!==(t=e.error)&&void 0!==t?t:{}}));return n.some((function(e){return D(e)}))||(void 0===(r={assertViewResults:n}.assertViewResults)?[]:r).some((function(e){return Z(e)}))?l.ES:(0,o.isEmpty)(e.error)?e.status:l.pn},B=function(e){if("string"!=typeof e)return!1;var t=c.parse(e);return!!t.host&&!!t.protocol},U=function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get(t,r);case 3:return n=e.sent,a=n.data,i=n.status,e.abrupt("return",{data:a,status:i});case 9:return e.prev=9,e.t0=e.catch(0),y.warn("Error while fetching ".concat(t),e.t0),o=e.t0.response?e.t0.response.status:"unknown",e.abrupt("return",{data:null,status:o});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=new URL(t).search;return e.map((function(e){try{var n=new URL(e,t);return function(e){try{return new URL(e),!1}catch(e){return!0}}(e)&&!n.search&&(n.search=r),n.href}catch(r){return y.warn("Can not normalize url '".concat(e," for base url '").concat(t,"'"),r),e}}))},G=function(e){return Number(e)===d.ri},F=function(e){return Number(e)===d.Km},H=function(e){return G(e)?d.wT:d.ri};var V=function(e){return e.testPath.concat(e.browserId,e.attempt.toString()).join(" ")},W=function(e){for(var t=0,r=e.length;t<e.length&&!e[t];)t++;for(;r>0&&!e[r-1];)r--;return e.slice(t,r)},q=function(e){var t=e.name;if(!t&&e.stack){var r=e.stack.indexOf(":");t=-1!==r?e.stack.slice(0,r):e.stack.slice(0,e.stack.indexOf("\n"))}return t||(t="Error"),e.message?"".concat(t,": ").concat(e.message):t},Y=function(e){var t=q(e)+"\n",r=e.stack.indexOf(t);if(-1!==r)return e.stack.slice(r+t.length);var n=e.toString?e.toString()+"\n":"",a=e.stack.indexOf(n);if(n&&-1!==a)return e.stack.slice(a+n.length);var i=e.stack.indexOf(e.message),s=e.stack.indexOf("\n",i+e.message.length);return e.stack.slice(s+1)},K=function(e){if(!e||!e.snippet)return e;var t=function(e){var t=["name","message","stack"],r=new Error(e.message);t.forEach((function(e){delete r[e]}));var n=Object.getOwnPropertyNames(e);return t.concat(n).forEach((function(t){r[t]=e[t]})),r}(e);if(delete t.snippet,!e.stack)return t.stack=[q(e),e.snippet].join("\n"),t;return t.stack=[q(e),e.snippet,"[90m"+Y(e)+"[39m"].join("\n"),t}},58733:(e,t,r)=>{"use strict";r.d(t,{e:()=>n,u:()=>a});var n=function(e){return e.UNKNOWN="unknown",e}({}),a=function(e){return e.LiveSnapshotsStreaming="live-snapshots-streaming",e}({})},8776:(e,t,r)=>{"use strict";r.d(t,{Km:()=>a,ri:()=>i,wT:()=>n});var n=0,a=.5,i=1},46126:(e,t,r)=>{"use strict";r.d(t,{He:()=>c,JL:()=>s,rW:()=>o,yW:()=>i});var n="INT",a="TEXT",i=65536,s="suites",o="sqlite.db",c=[{name:"suitePath",type:a},{name:"suiteName",type:a},{name:"name",type:a},{name:"suiteUrl",type:a},{name:"metaInfo",type:a},{name:"history",type:a},{name:"description",type:a},{name:"error",type:a},{name:"skipReason",type:a},{name:"imagesInfo",type:a},{name:"screenshot",type:n},{name:"multipleTabs",type:n},{name:"status",type:a},{name:"timestamp",type:n},{name:"duration",type:n},{name:"attachments",type:a}].reduce((function(e,t,r){return e[t.name]=r,e}),{})},58270:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,W:()=>o});var n=r(58615),a=r(37487),i=r(75631),s=150,o={baseHost:"",commandsWithShortHistory:[],customGui:{},customScripts:[],defaultView:a.w.ALL,diffMode:n.n.THREE_UP.id,uiMode:null,enabled:!1,errorPatterns:[],lazyLoadOffset:null,metaInfoBaseUrls:{},path:"",plugins:[],pluginsEnabled:!1,saveErrorDetails:!1,saveFormat:i.t.SQLITE,yandexMetrika:{counterNumber:99267510},staticImageAccepter:{enabled:!1,repositoryUrl:"",pullRequestUrl:"",serviceUrl:"",meta:{},axiosRequestOptions:{}}}},58615:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={THREE_UP:{id:"3-up",title:"List",description:"List. Show images one after another in vertical layout."},THREE_UP_SCALED:{id:"3-up-scaled",title:"SbS",description:"Side by Side. Show images in one row."},THREE_UP_SCALED_TO_FIT:{id:"3-up-scaled-to-fit",title:"SbS (fit screen)",description:"Side by Side. Show images in one row and scale them down if needed to fit the screen."},ONLY_DIFF:{id:"only-diff",title:"Only Diff",description:"Only Diff. Show only diff image, click to highlight diff areas."},SWITCH:{id:"switch",title:"Switch",description:"Switch. Click to switch between expected and actual images."},SWIPE:{id:"swipe",title:"Swipe",description:"Swipe. Move the divider to compare expected and actual images."},ONION_SKIN:{id:"onion-skin",title:"Onion skin",description:"Onion Skin. Change the image opacity to compare expected and actual images."}}},72273:(e,t,r)=>{"use strict";r.d(t,{WY:()=>a,XB:()=>i,_8:()=>n});var n=200,a="https://github.com/gemini-testing/html-reporter/issues/new",i="image comparison failed"},85202:(e,t,r)=>{"use strict";r.d(t,{Lq:()=>a,Tm:()=>n,Tq:()=>s,YS:()=>i});var n="all",a="none",i="errors",s="retries"},97680:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>s,Y:()=>n,Zr:()=>a,gr:()=>i});var n="result",a="result_meta",i="menu-bar",s="root"},54077:(e,t)=>{t.SA={RESULT:"result",META:"meta"},t.wK="error",t.Kr=[t.wK],t.QV="."},73241:(e,t,r)=>{"use strict";r.d(t,{uf:()=>n.u,eb:()=>n.e,S7:()=>i.S,t6:()=>f.t6,He:()=>a.He,yW:()=>a.yW,Nv:()=>p,nx:()=>s.n,pn:()=>f.pn,B$:()=>u,ES:()=>f.ES,JW:()=>f.JW,XB:()=>o.XB,QV:()=>d.QV,WY:()=>o.WY,em:()=>f.em,Kr:()=>d.Kr,sS:()=>f.sS,Wi:()=>c,SA:()=>d.SA,kb:()=>f.kb,Ez:()=>f.Ez,MR:()=>f.MR,ih:()=>f.ih,qW:()=>l,YO:()=>m,SH:()=>f.SH,wO:()=>v.w});var n=r(58733),a=r(46126),i=r(58270),s=r(58615),o=r(72273),c={name:"run-tests"},u={name:"edit-screens"},l={name:"time-travel"},d=r(54077),p=" ",f=(r(75631),r(62602)),m=function(e){return e.Testplane="testplane",e.Playwright="playwright",e.Jest="jest",e}({}),v=r(37487)},24298:(e,t,r)=>{"use strict";r.d(t,{Fe:()=>n,HT:()=>i,IP:()=>a});var n=function(e){return e.UIMode="ui-mode",e.TimeTravelUseRecommendedSettings="time-travel-use-recommended-settings",e}({}),a="time-travel-player-visibility",i=function(e){return e.Old="old",e.New="new",e}({})},53516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={JS_EXEC:"js exec",DBS_LOADED:"dbs loaded",DBS_MERGED:"dbs merged",PLUGINS_LOADED:"plugins loaded",DB_EXTRACTED_ROWS:"db extracted rows",FULLY_LOADED:"fully loaded"}},75631:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n=function(e){return e.SQLITE="sqlite",e}({})},62602:(e,t,r)=>{"use strict";r.d(t,{ES:()=>c,Ez:()=>p,JW:()=>a,MR:()=>o,SH:()=>d,em:()=>i,ih:()=>n,kb:()=>l,pn:()=>u,sS:()=>s,t6:()=>f});var n=function(e){return e.IDLE="idle",e.QUEUED="queued",e.RUNNING="running",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error",e.SKIPPED="skipped",e.UPDATED="updated",e.STAGED="staged",e.COMMITED="commited",e.RETRY="retry",e.FAIL_ERROR="fail_error",e}({}),a=n.IDLE,i=n.QUEUED,s=n.RUNNING,o=n.SUCCESS,c=n.FAIL,u=n.ERROR,l=n.SKIPPED,d=n.UPDATED,p=(n.FAIL_ERROR,n.STAGED),f=n.COMMITED},37487:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n=function(e){return e.ALL="all",e.PASSED="passed",e.FAILED="failed",e.RETRIED="retried",e.SKIPPED="skipped",e.STAGED="staged",e.COMMITED="commited",e}({})},72161:(e,t,r)=>{"use strict";r.d(t,{xe:()=>A,vO:()=>N,fB:()=>T,pU:()=>C,xH:()=>R,By:()=>w});var n={};r.r(n),r.d(n,{fd:()=>h,jI:()=>E,c2:()=>y,Vt:()=>g});var a=r(68079),i=r(56666),s=r(96234),o=r(34795),c=r(82841),u=r.n(c),l=r(76635),d=r.n(l),p=r(82806),f=r(73241);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){return"SELECT * FROM ".concat(e)},h=function(e,t){return e[f.He.timestamp]-t[f.He.timestamp]},E=function(){var e=(0,o.Z)(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d(),e.next=3,Promise.all(t.map(function(){var e=(0,o.Z)(u().mark((function e(t){var n,i,s,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.loadDbJsonUrl(t);case 3:if((n=e.sent).data){e.next=7;break}return p.kg.warn("Cannot get data from ".concat(t)),e.abrupt("return",r.formatData?r.formatData(t,n.status):[]);case 7:return i=n.data,s=i.dbUrls,o=i.jsonUrls,c=r.prepareUrls(s,t),l=r.prepareUrls(o,t),e.next=12,Promise.all([E(l,r)].concat((0,a.Z)(c.map((function(e){return r.loadDbUrl(e,r)})))));case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(0),p.kg.warn("Error while downloading databases from ".concat(t),e.t0),e.abrupt("return",r.formatData?r.formatData(t):[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.abrupt("return",e.t0.flattenDeep.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=function(e){var t=e.db,r=e.dbPaths,n=e.getExistingTables,a=void 0===n?function(){return[]}:n;t.prepare("PRAGMA page_size = ".concat(f.yW)).run();var i,s=m(r);try{for(s.s();!(i=s.n()).done;){var o=i.value;t.prepare("ATTACH DATABASE '".concat(o,"' AS attached")).run();var c,u=m(a(t.prepare("SELECT name FROM attached.sqlite_master WHERE type='table'")));try{for(u.s();!(c=u.n()).done;){var l=c.value;t.prepare("CREATE TABLE IF NOT EXISTS ".concat(l," AS SELECT * FROM attached.").concat(l," LIMIT 0")).run(),t.prepare("INSERT OR IGNORE INTO ".concat(l," SELECT * FROM attached.").concat(l)).run()}}catch(e){u.e(e)}finally{u.f()}t.prepare("DETACH attached").run()}}catch(e){s.e(e)}finally{s.f()}};var I=r(46126);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t){var r=function(){var e=(0,o.Z)(u().mark((function e(r){var n,a,i,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={responseType:"arraybuffer"},"function"==typeof t&&(n.onDownloadProgress=function(e){t(r,e.loaded/e.total)}),e.next=4,(0,p.dc)(r,n);case 4:return a=e.sent,i=a.data,s=a.status,e.abrupt("return",{url:r,status:s,data:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return E(e,{loadDbJsonUrl:function(e){return(0,p.dc)(e)},prepareUrls:function(e,t){return(0,p.e1)(e,t)},formatData:function(e){return{url:e,status:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",data:null}},loadDbUrl:r})}function w(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(u().mark((function e(t){var r,n,i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.initSqlJs();case 2:if(r=e.sent,n=t.map((function(e){return new Uint8Array(e)})),0!==(i=n.map((function(e){return new r.Database(e)}))).length){e.next=9;break}return e.abrupt("return",null);case 9:if(1!==i.length){e.next=11;break}return e.abrupt("return",i[0]);case 11:return s=n.reduce((function(e,t){return e+t.length}),0),o=new r.Database(void 0,s),c=i.map((function(e){return e.filename})),y({db:o,dbPaths:c,getExistingTables:function(e){for(var t=[];e.step();)t.push.apply(t,(0,a.Z)(e.get()));return t}}),i.forEach((function(e){return e.close()})),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(u().mark((function e(t){var r,n,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(t),e.next=3,(0,p.dc)(r.href,{responseType:"arraybuffer"});case 3:return n=e.sent,a=n.data,e.next=7,window.initSqlJs();case 7:return i=e.sent,e.abrupt("return",new i.Database(new Uint8Array(a)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return new URL(I.rW,window.location.href)}function R(e){var t=function(e,t){var r=e.exec(g(t)),n=(0,s.Z)(r,1)[0];if(!n)return console.warn('Table "'.concat(t,'" is empty')),[];return n}(e,I.JL);if(!(0,l.isEmpty)(t))return t.values.sort(h)}function A(e){e.close()}S(S({},n.default),{},{fetchDataFromDatabases:T,mergeDatabases:w,connectToDatabase:N,getMainDatabaseUrl:C,getSuitesTableRows:R,closeDatabase:A})},70868:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={BEGIN_SUITE:"beginSuite",BEGIN_STATE:"beginState",TEST_RESULT:"testResult",RETRY:"retry",ERROR:"err",END:"end",CONNECTED:"connected",DOM_SNAPSHOTS:"DOM_SNAPSHOTS"}},26474:(e,t,r)=>{"use strict";r.d(t,{JX:()=>n.J});var n=r(70868)},4986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(56666),a=r(76635),i=r(2784),s=r(13980),o=r.n(s),c=r(4792),u=r(69875),l=function(e){var t=e.progressBar.currentRootSuiteId,r=e.visibleRootSuiteIds,s=i.useMemo((function(){return r.reduce((function(e,t,r){return(0,a.extend)(e,(0,n.Z)({},t,r))}),{})}),[r])[t],o=100/(r.length-1)*s;return(0,a.isNumber)(s)?i.createElement("div",{className:"bottom-progress-bar"},i.createElement("div",{className:"bottom-progress-bar__progress-container"},i.createElement("div",{className:"bottom-progress-bar__progress-bar",style:{width:"".concat(o,"%")}}),i.createElement("div",{className:"bottom-progress-bar__counter"},t,i.createElement("span",null," ","(",i.createElement("strong",null,s+1)," suite of ",i.createElement("strong",null,r.length),")")))):null};l.propTypes={progressBar:o().object.isRequired,visibleRootSuiteIds:o().arrayOf(o().string)};const d=(0,c.connect)((function(e){return{progressBar:e.progressBar,visibleRootSuiteIds:(0,u.getVisibleRootSuiteIds)(e)}}))(l)},33992:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(34795),a=r(9249),i=r(87371),s=r(80753),o=r(45754),c=r(11987),u=r(95058),l=r(56666),d=r(82841),p=r.n(d),f=r(2784),m=r(18717),v=r(4792),g=r(13980),h=r.n(g),E=r(32022),y=r(18553),I=r(69875),b=r(41493);function S(e){var t=T();return function(){var r,n=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var w=function(e){(0,o.Z)(r,e);var t=S(r);function r(){var e;(0,a.Z)(this,r);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"_acceptOpened",(0,n.Z)(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.context,t.next=3,null==r?void 0:r.trackOpenedScreenshotsAccept({acceptedImagesCount:e.props.acceptableOpenedImageIds.length});case 3:e.props.isStaticImageAccepterEnabled?e.props.actions.staticAccepterStageScreenshot(e.props.acceptableOpenedImageIds):e.props.actions.thunkAcceptImages({imageIds:e.props.acceptableOpenedImageIds});case 4:case"end":return t.stop()}}),t)})))),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.acceptableOpenedImageIds,r=e.processing;return f.createElement(y.Z,{label:"Accept opened",isDisabled:!t.length||r,handler:this._acceptOpened,isSuiteControl:this.props.isSuiteContol})}}]),r}(f.Component);(0,l.Z)(w,"contextType",b.f),(0,l.Z)(w,"propTypes",{isSuiteContol:h().bool,processing:h().bool.isRequired,acceptableOpenedImageIds:h().arrayOf(h().string).isRequired,isStaticImageAccepterEnabled:h().bool,actions:h().object.isRequired});const O=(0,v.connect)((function(e){return{processing:e.processing,acceptableOpenedImageIds:(0,I.getAcceptableOpenedImageIds)(e),isStaticImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,m.bindActionCreators)(E,e)}}))(w)},93941:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ae});var n=r(9249),a=r(87371),i=r(80753),s=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(13980),p=r.n(d),f=r(18717),m=r(4792),v=r(76635),g=r(32022),h=r(42874),E=r(96234),y=r(72779),I=r.n(y),b=r(20205),S=r(54077),T=r(36666),w=r(32579),O=r(93150);function N(e){var t=_();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}var C=function(e){(0,s.Z)(r,e);var t=N(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,i.Z)(e),"_groupTestsByKey",(function(t){var r=t?t[0]:void 0;r!==e.props.keyToGroupTestsBy&&e.props.actions.groupTestsByKey(r)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.selectedGroupKey,r=e.groupedTests,n=I()("select","select_type_group"),a=Object.values(S.SA).map((function(e){return{label:e,options:r[e].allKeys.map((function(t){return{value:"".concat(e,".").concat(t),content:t}}))}}));return l.createElement("div",{className:n},l.createElement(w.Z,{size:"m",pin:"round-brick"},"Group By"),l.createElement(O.PhF,{disablePortal:!0,className:"group-by-dropdown",options:a,value:[t],hasClear:!0,onUpdate:this._groupTestsByKey,pin:"brick-round",placeholder:"select key",qa:"group-by-dropdown"}))}}]),r}(l.Component);(0,u.Z)(C,"propTypes",{actions:p().object.isRequired,keyToGroupTestsBy:p().string.isRequired,groupedTests:b.M.isRequired,selectedGroupSection:p().string,selectedGroupKey:p().string});const R=(0,m.connect)((function(e){var t=e.view.keyToGroupTestsBy,r=e.groupedTests,n=(0,T.B)(e),a=(0,E.Z)(n,2);return{keyToGroupTestsBy:t,groupedTests:r,selectedGroupSection:a[0],selectedGroupKey:a[1]}}),(function(e){return{actions:(0,f.bindActionCreators)(g,e)}}))(C);function A(e){var t=M();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var D=function(e){(0,s.Z)(r,e);var t=A(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e))._onChange=a._onChange.bind((0,i.Z)(a)),a}return(0,a.Z)(r,[{key:"render",value:function(){return l.createElement(O.oil,{size:"m",className:"base-host-input",value:this.props.baseHost,placeholder:"Base host for view in browser",onChange:this._onChange,qa:"base-host"})}},{key:"_onChange",value:function(e){this.props.actions.updateBaseHost(e.target.value)}}]),r}(l.Component);(0,u.Z)(D,"propTypes",{baseHost:p().string.isRequired,actions:p().object.isRequired});const Z=(0,m.connect)((function(e){return{baseHost:e.view.baseHost}}),(function(e){return{actions:(0,f.bindActionCreators)(g,e)}}))(D);var P=r(7896),k=r(59740),x=r(16847),j=r(33109),L=r(97680),B=r(65661),U=["className"];function z(e){var t=G();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var F=function(e){(0,s.Z)(r,e);var t=z(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_getItems",value:function(e){return Object.keys(e).map((function(t,r){return l.createElement(O.v2r.Item,{key:r,onClick:function(){},className:"menu-bar__content_item"},l.createElement("a",{href:e[t]},t))}))}},{key:"render",value:function(){var e=this.props.extraItems,t=j.xj().some((function(e){return e.point===L.gr}));return(0,v.isEmpty)(e)&&!t?null:l.createElement("div",{className:"menu-bar","data-qa":"menu-bar"},l.createElement(O.h_2,{size:"m",renderSwitcher:function(e){var t=e.className,r=(0,k.Z)(e,U);return l.createElement(O.zxk,(0,P.Z)({className:I()("menu-bar__dropdown",t)},r,{view:"flat"}),l.createElement(O.JO$,{size:16,data:B.Z}))}},l.createElement(O.v2r,{size:"m",className:"menu-bar__content"},l.createElement(x.Z,{name:L.gr},this._getItems(e)))))}}]),r}(l.Component);(0,u.Z)(F,"propTypes",{extraItems:p().object.isRequired});const H=(0,m.connect)((function(e){return{extraItems:e.apiValues.extraItems}}))(F);var V=r(5429),W=r(81114),q=r(57159),Y=r(24298),K=r(63550);function J(e){var t=(0,K.z)(),r=e.gui,n=e.timestamp,a=(0,v.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],i=new Date(n).toLocaleString(a),s=(0,q.Z)(Y.Fe.UIMode,Y.HT.New),o=(0,E.Z)(s,2)[1];return l.createElement("div",{className:"report-info"},l.createElement(O.zxk,{className:"new-ui-button",onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to new UI"}),o(Y.HT.New);var e=new URL(window.location.href);e.pathname=e.pathname.replace(/\/(index\.html)?$/,(function(e,t){return t?"/new-ui.html":"/new-ui"})),e.searchParams.set("switched-from-old-ui","1"),window.location.href=e.href}},l.createElement("div",{className:"new-ui-button__glow"}),l.createElement(O.JO$,{data:V.Z}),"Try New UI"),l.createElement(O.__J,{qa:"version-label",size:"m",className:"label"},"Version",l.createElement("div",{className:"detail"},W.i8)),!r&&l.createElement(O.__J,{qa:"created-at-label",size:"m",className:"label"},"Created at",l.createElement("div",{className:"detail"},i)))}J.propTypes={gui:p().bool.isRequired,timestamp:p().number.isRequired};const X=(0,m.connect)((function(e){return{gui:e.gui,timestamp:e.timestamp}}))(J);var Q=r(37487),$=r(58615),ee=r(85202);function te(e){var t=re();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}var ne=function(e){(0,s.Z)(r,e);var t=te(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,i.Z)(e),"_onUpdateExpand",(function(t){var r,n=e.props.actions;(r={},(0,u.Z)(r,ee.Tm,n.expandAll),(0,u.Z)(r,ee.Lq,n.collapseAll),(0,u.Z)(r,ee.YS,n.expandErrors),(0,u.Z)(r,ee.Tq,n.expandRetries),r)[t].call()})),e}return(0,a.Z)(r,[{key:"_getShowTestsOptions",value:function(){var e=Object.values(Q.w).map((function(e){return{value:e,content:(0,v.capitalize)(e)}}));return this.props.isStatisImageAccepterEnabled?e:e.filter((function(e){return![Q.w.STAGED,Q.w.COMMITED].includes(e.value)}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.app;return l.createElement(l.Fragment,null,l.createElement(h.Z,{size:"s",label:"Show tests",value:n.suitesPage.viewMode,handler:function(e){return t.changeViewMode({data:e,page:"suitesPage"})},options:this._getShowTestsOptions()}),l.createElement(h.Z,{size:"m",label:"Expand",value:r.expand,handler:this._onUpdateExpand,qa:"expand-dropdown",options:[{value:ee.Tm,content:"All"},{value:ee.Lq,content:"None"},{value:ee.YS,content:"Errors"},{value:ee.Tq,content:"Retries"}],extendClassNames:"expand-dropdown",extendPopupClassNames:"expand-popup"}),l.createElement(R,null),l.createElement(h.Z,{size:"m",label:"Diff mode",value:r.diffMode,handler:function(e){return t.setDiffMode({diffModeId:e})},options:Object.values($.n).map((function(e){return{value:e.id,content:e.title}})),extendClassNames:"diff-mode"}),l.createElement(Z,null),l.createElement(H,null),l.createElement(X,null))}}]),r}(l.Component);(0,u.Z)(ne,"propTypes",{view:p().shape({expand:p().string.isRequired,viewMode:p().string.isRequired,diffMode:p().string.isRequired}),app:p().object.isRequired,isStatisImageAccepterEnabled:p().bool,actions:p().object.isRequired});const ae=(0,m.connect)((function(e){return{view:e.view,app:e.app,isStatisImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,f.bindActionCreators)(g,e)}}))(ne)},91695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(2784),a=r(13980),i=r.n(a),s=r(18717),o=r(4792),c=r(32022),u=r(96234),l=r(76635),d=r(93150),p=function(e){var t=e.actions,r=e.testNameFilter,a=(0,n.useState)(r),i=(0,u.Z)(a,2),s=i[0],o=i[1],c=(0,n.useCallback)((0,l.debounce)((function(e){return t.updateNameFilter({data:e,page:"suitesPage"})}),500,{maxWait:3e3}),[]);return n.createElement(d.oil,{size:"m",className:"test-name-filter",value:s,placeholder:"Filter by test name or regexp",onChange:function(e){o(e.target.value),c(e.target.value)},qa:"header-test-name-filter"})};p.propTypes={testNameFilter:i().string.isRequired,actions:i().object.isRequired};const f=(0,o.connect)((function(e){return{testNameFilter:e.app.suitesPage.nameFilter}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(p);var m=function(e){var t=e.strictMatchFilter,r=e.actions,a=(0,n.useState)(t),i=(0,u.Z)(a,2),s=i[0],o=i[1];return n.createElement(d.rsf,{size:"m",content:"Strict match",checked:s,onChange:function(){var e=!s;o(e),r.setStrictMatchFilter(e)},qa:"header-strict-match"})};m.propTypes={strictMatchFilter:i().bool.isRequired,actions:i().object.isRequired};const v=(0,o.connect)((function(e){return{strictMatchFilter:e.view.strictMatchFilter}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(m);var g=r(57159);const h=function(){var e=(0,g.Z)("showCheckboxes",!1),t=(0,u.Z)(e,2),r=t[0],a=t[1];return n.createElement(d.rsf,{content:"Checkboxes",onChange:function(){return a(!r)},checked:r})};var E=r(72779),y=r.n(E),I={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function b(e){var t=function(e){return n.createElement("i",{className:"fa fa-".concat(e),"aria-hidden":"true"})};if(!(0,l.isString)(e))return t("browser");var r=e.toLowerCase();for(var a in I)if(r.includes(a))return t(I[a]);return t("browser")}function S(e,t){return t?"".concat(e," (").concat(t,")"):e}var T=function(e){var t,r=e.available,a=e.onChange,i=e.selected,s=(0,n.useMemo)((function(){var e,t={},a="other",i=!1;if(r.forEach((function(e){var r=e.id,s=e.versions;if(!s||s.length<2)return t[a]=t[a]||[],void t[a].push({value:S(r),content:n.createElement("div",{className:"browser-name"},b(r),S(r))});i=!0,s.forEach((function(e){t[r]=t[r]||[],t[r].push({value:S(r,e),content:n.createElement("div",{className:"browser-name"},b(r),S(r,e))})}))})),i){var s=[];return Object.keys(t).forEach((function(e){s.push({label:e,options:t[e]})})),s}return null!==(e=t[a])&&void 0!==e?e:[]}),[r]),o=function e(t){var r=[];return t.forEach((function(t){t.label?e(t.options).forEach((function(e){return r.push(e)})):r.push(t.value)})),r},c=(0,n.useMemo)((function(){return o(s)}),[s]),p=(0,d.nwW)({options:s}),f=(0,n.useMemo)((function(){var e={};return r.forEach((function(t){var r=t.id,n=t.versions;n&&n.length?n.length<2?e[S(r)]={id:r,version:n[0]}:n.forEach((function(t){e[S(r,t)]={id:r,version:t}})):e[S(r)]={id:r}})),e}),[r]),m=(0,n.useState)((t=[],i&&i.length?(i.forEach((function(e){var r=e.id,n=e.versions;!n||n.length<2?t.push(S(r)):n.forEach((function(e){t.push(S(r,e))}))})),t):[])),v=(0,u.Z)(m,2),g=v[0],h=v[1],E=function(){h(c)};return(0,n.useEffect)((function(){var e;a&&a((e={},g.forEach((function(t){if(f[t]&&f[t].id){var r=f[t],n=r.id,a=r.version;e[n]=e[n]||[],e[n].push(a)}})),Object.entries(e).map((function(e){var t=(0,u.Z)(e,2),r=t[0],n=t[1];return{id:r,versions:(0,l.compact)(n)}}))))}),[g]),n.createElement(d.PhF,{disablePortal:!0,value:g,options:p,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return n.createElement("div",{className:"browserlist__filter"},n.createElement(d.zxk,{onClick:E,width:"max"},"Select All"))},renderOption:function(e){var t=g.includes(e.value)&&1===g.length;return n.createElement("div",{className:"browserlist__row"},n.createElement("div",{className:"browserlist__row_content"},e.content),n.createElement(d.zxk,{size:"s",onClick:t?function(t){t.preventDefault(),t.stopPropagation(),h(c.filter((function(t){return t!==e.value})))}:function(t){t.preventDefault(),t.stopPropagation(),h([e.value])},className:y()("regular-button","action-button")},t?"Except":"Only"))},onUpdate:h,popupClassName:"browserlist__popup",className:"browserlist"})};T.propTypes={available:i().arrayOf(i().shape({id:i().string,versions:i().arrayOf(i().string)})).isRequired,selected:i().arrayOf(i().shape({id:i().string,versions:i().arrayOf(i().string)})),onChange:i().func.isRequired};const w=T;var O=r(18553),N=r(33992),_=r(78272),C=function(e){var t,r=function(){e.actions.staticAccepterOpenConfirm()};return n.createElement("div",{className:"control-container control-filters"},n.createElement(w,{available:e.browsers,selected:e.filteredBrowsers,onChange:function(t){return e.actions.selectBrowsers({data:t,page:"suitesPage"})}}),n.createElement(f,null),n.createElement(v,null),e.gui&&n.createElement(h,null),(t=e.staticImageAccepter).enabled?n.createElement("div",{className:"static-image-accepter"},n.createElement(N.Z,{isSuiteContol:!0}),n.createElement(O.Z,{label:"Commit ".concat(t.imagesToCommitCount," images"),title:"Send request with imagesInfo to 'staticImageAccepter.serviceUrl'",isDisabled:0===t.imagesToCommitCount,isSuiteControl:!0,handler:r})):null)};C.propTypes={gui:i().bool.isRequired,browsers:i().arrayOf(i().shape({id:i().string,versions:i().arrayOf(i().string)})).isRequired,filteredBrowsers:i().arrayOf(i().shape({id:i().string,versions:i().arrayOf(i().string)})),staticImageAccepter:_.O$,actions:i().object.isRequired};const R=(0,o.connect)((function(e){var t=e.app,r=e.browsers,n=e.gui,a=e.staticImageAccepter;return{filteredBrowsers:t.suitesPage.filteredBrowsers,browsers:r,gui:n,staticImageAccepter:a}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(C)},18553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(72779),f=r.n(p),m=r(93150);function v(e){var t=g();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var h=function(e){(0,i.Z)(r,e);var t=v(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.label,r=e.title,n=e.handler,a=e.isActive,i=e.isAction,s=e.isSuiteControl,o=e.isDisabled,c=void 0!==o&&o,l=e.isRunning,d=void 0!==l&&l,p=e.extendClassNames,v=e.dataTestId,g=f()({"button_type_suite-controls":s},p);return u.createElement(m.zxk,{title:r,view:a?"outlined-action":i?"action":"outlined",loading:d,onClick:n,className:g,disabled:c,qa:null==v?void 0:v.toString()},t)}}]),r}(u.Component);(0,c.Z)(h,"propTypes",{label:d().oneOfType([d().string,d().object]).isRequired,title:d().string,handler:d().func.isRequired,isActive:d().bool,isAction:d().bool,isDisabled:d().bool,isSuiteControl:d().bool,isControlGroup:d().bool,isRunning:d().bool,extendClassNames:d().oneOfType([d().array,d().string]),dataTestId:d().oneOfType([d().string,d().number])})},42874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(9249),a=r(87371),i=r(80753),s=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(13980),p=r.n(d),f=r(72779),m=r.n(f),v=r(93150),g=r(32579);function h(e){var t=E();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var y=function(e){(0,s.Z)(r,e);var t=h(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,i.Z)(e),"_onUpdate",(function(t){t.length&&e.props.handler(t[0])})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.size,r=e.value,n=e.label,a=e.options,i=e.extendClassNames,s=e.extendPopupClassNames,o=e.qa,c=m()("select","select_type_control",i),u=m()(s);return l.createElement("div",{className:c},l.createElement(g.Z,{size:"m",pin:"round-brick"},n),l.createElement(v.PhF,{disablePortal:!0,className:"select__dropdown-".concat(t||"s"),selection:!0,options:a,value:[r],onUpdate:this._onUpdate,pin:"brick-round",qa:o,popupClassName:u}))}}]),r}(l.Component);(0,u.Z)(y,"propTypes",{size:p().string,label:p().string.isRequired,value:p().string.isRequired,handler:p().func.isRequired,options:p().arrayOf(p().shape({value:p().string,text:p().string})).isRequired,extendClassNames:p().oneOfType([p().array,p().string]),extendPopupClassNames:p().oneOfType([p().array,p().string]),qa:p().string})},32579:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(7896),a=r(59740),i=r(2784),s=r(13980),o=r.n(s),c=r(93150),u=r(72779),l=r.n(u),d=["className"],p=function(e){var t=e.className,r=(0,a.Z)(e,d);return i.createElement(c.__J,(0,n.Z)({className:l()("custom-label",t)},r))};p.propTypes={className:o().string};const f=p},922:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(7896),a=r(96234),i=r(2784),s=r(13980),o=r.n(s),c=r(72779),u=r.n(c),l=r(76635),d=r(93150),p=r(97407);function f(e){var t=(0,i.useState)(!1),r=(0,a.Z)(t,2),s=r[0],o=r[1],c=function(){var t=e.content;return(0,l.isFunction)(t)?t():t},f=e.title,m=e.content,v=e.extendClassNames,g=u()("details",v),h=(0,i.useContext)(p.O).measure;return(0,i.useLayoutEffect)((function(){null==h||h()}),[s]),(0,l.isEmpty)(m)&&!(0,l.isFunction)(m)?i.createElement("div",{className:g},f):i.createElement(d.pJF,{className:g,onUpdate:function(){var t,r=!s;o(r),null===(t=e.onClick)||void 0===t||t.call(e,{isOpened:r})},size:"l",expanded:s},i.createElement(d.pJF.Summary,null,(function(e,t){return i.createElement("div",{className:u()(g,"details__summary"),"aria-controls":e.ariaControls,onClick:e.onClick,id:e.id},i.createElement("div",{className:"details__expand-button",onClick:function(e){return e.stopPropagation()}},t),f)})),function(){if(!s)return null;var t=e.asHtml?null:c(),r=e.asHtml?{dangerouslySetInnerHTML:{__html:c()}}:{};return i.createElement("div",(0,n.Z)({className:"details__content"},r),t)}())}f.propTypes={id:o().string,ariaControls:o().arrayOf(o().string),title:o().oneOfType([o().element,o().string]).isRequired,content:o().oneOfType([o().func,o().string,o().element,o().array]).isRequired,extendClassNames:o().oneOfType([o().array,o().string]),onClick:o().func,asHtml:o().bool}},16847:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(59740),a=r(9249),i=r(87371),s=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(13980),p=r.n(d),f=r(80753);function m(e){var t=v();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){(0,s.Z)(r,e);var t=m(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,f.Z)(e),"state",{hasError:!1}),e}return(0,i.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("Something failed but catched by error boundary."),console.error(e),console.error(t)}},{key:"render",value:function(){return this.state.hasError?this.props.fallback||null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(l.Component);(0,u.Z)(g,"propTypes",{fallback:p().oneOfType([p().element,p().string]),children:p().oneOfType([p().element,p().string])});var h=r(33109),E=["name","children"];function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=S();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}var T=function(e){(0,s.Z)(r,e);var t=b(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){var e=h.xj();if(e.length){var t=this.props,r=t.name,a=t.children,i=(0,n.Z)(t,E),s=function(e,t){return e.map((function(e){try{var t=h.U2(e.name,e.component);return{PluginComponent:t,name,point:O(t,e),position:N(t,e),config:e}}catch(e){return console.error(e),{}}})).filter((function(e){var r=e.point,n=e.position;return r&&n&&r===t}))}(e,r);return function(e,t,r){var n,a=t,i=y(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;a=w(s.PluginComponent,r,a,s.position,s.config)}}catch(e){i.e(e)}finally{i.f()}return a}(s,a,i)}return this.props.children}}]),r}(l.Component);function w(e,t,r,n,a){switch(n){case"wrap":return l.createElement(g,{fallback:r},l.createElement(e,t,r));case"before":return l.createElement(l.Fragment,null,l.createElement(g,null,l.createElement(e,t)),r);case"after":return l.createElement(l.Fragment,null,r,l.createElement(g,null,l.createElement(e,t)));default:return console.error("".concat(C(a),' unexpected position "').concat(n,'" specified.')),r}}function O(e,t){return _(e,t,"point")}function N(e,t){return _(e,t,"position")}function _(e,t,r){return e[r]&&t[r]&&e[r]!==t[r]?(console.error("".concat(C(t),' "').concat(r,'" field does not match the one from the config: "').concat(l.Component[r],'" vs "').concat(t[r],'".')),null):e[r]||t[r]?e[r]||t[r]:(console.error("".concat(C(t),' "').concat(r,'" field is not set.')),null)}function C(e){return'Component "'.concat(e.component,'" of "').concat(e.name,'" plugin')}(0,u.Z)(T,"propTypes",{name:p().string.isRequired,children:p().oneOfType([p().element,p().string,p().array])})},77803:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(4792),d=r(13980),p=r.n(d),f=r(69875);function m(e){var t=v();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){(0,i.Z)(r,e);var t=m(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e)).favicon=document.getElementById("dynamic-favicon"),a}return(0,a.Z)(r,[{key:"_changeFavicon",value:function(e){this.favicon.href=e}},{key:"render",value:function(){var e=this.props,t=e.isRunning,r=e.hasFailedRootSuites,n=e.allRootSuitesIdle;return t?this._changeFavicon("icons/favicon-running.png"):r?this._changeFavicon("icons/favicon-failure.png"):n||this._changeFavicon("icons/favicon-success.png"),null}}]),r}(u.Component);(0,c.Z)(g,"propTypes",{isRunning:p().bool.isRequired,hasFailedRootSuites:p().bool.isRequired,allRootSuitesIdle:p().bool.isRequired});const h=(0,l.connect)((function(e){var t=Boolean(e.tree.suites.failedRootIds.length),r=!!e.gui&&(!t&&(0,f.areAllRootSuitesIdle)(e));return{isRunning:e.running,hasFailedRootSuites:t,allRootSuitesIdle:r}}))(g)},20205:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(13980),a=r.n(n),i=a().shape({result:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired,meta:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired})},89288:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(9249),a=r(87371),i=r(80753),s=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(4792),p=r(18717),f=r(13980),m=r.n(f),v=r(72779),g=r.n(v),h=r(66414),E=r(34871),y=r(32022),I=r(82806);function b(e){var t=S();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}var T=function(e){(0,s.Z)(r,e);var t=b(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,i.Z)(e),"onViewInBrowser",(function(t){t.stopPropagation(),e.props.actions.viewInBrowser()})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.suiteUrl,r=e.baseHost,n=e.extendClassNames,a=g()("view-in-browser",t?"view-in-browser_active":"view-in-browser_disabled",n);return t?l.createElement("a",{className:a,href:(0,I.zV)(t,r),onClick:this.onViewInBrowser,title:"view in browser",target:"_blank","data-qa":"view-in-browser",rel:"noreferrer"},l.createElement(E.Z,{color:"black"})):l.createElement("i",{className:a,"aria-hidden":"true"},l.createElement(h.Z,{color:"black"}))}}]),r}(l.Component);(0,u.Z)(T,"propTypes",{resultId:m().string.isRequired,extendClassNames:m().oneOfType([m().array,m().string]),suiteUrl:m().string,baseHost:m().string,actions:m().object.isRequired});const w=(0,d.connect)((function(e,t){var r,n,a=e.tree,i=e.view,s=t.resultId,o=a.results.byId[s];return{suiteUrl:null!==(r=null===(n=o.metaInfo)||void 0===n?void 0:n.url)&&void 0!==r?r:o.suiteUrl,baseHost:i.baseHost}}),(function(e){return{actions:(0,p.bindActionCreators)(y,e)}}))(T)},67985:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(56834),f=r(9340);function m(e){var t=v();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){(0,i.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.active,n=e.content,a=void 0===n?"Loading...":n;return u.createElement(p.Z.Dimmable,{dimmed:r},u.createElement(p.Z,{active:r,inverted:!0,page:!0},u.createElement(f.Z,{size:"large",content:a})),t)}}]),r}(u.Component);(0,c.Z)(g,"propTypes",{active:d().bool,content:d().string,children:d().oneOfType([d().element,d().string])})},24501:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Zt});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(4792),d=r(13980),p=r.n(d),f=r(96234),m=r(80753),v=r(18717),g=r(72779),h=r.n(g),E=r(32022),y=r(76635),I=r(52392),b=r(94646),S=r(37487),T=r(85202),w=r(82806),O=r(89288),N=r(8776),_=r(57159),C=r(93150),R=r(13432),A=function(e){var t=e.status,r=e.onClick,n=e.className,a=(0,_.Z)("showCheckboxes",!1),i=(0,f.Z)(a,1)[0],s=u.useCallback((function(e){e.stopPropagation(),r(e)}));return i?u.createElement("div",{onClick:s,className:"bullet-container"},u.createElement(C.XZJ,{className:h()("bullet_type-checkbox",n),checked:(0,w.CR)(t),indeterminate:(0,w.Ph)(t)})):u.createElement("div",{className:"bullet-container"},u.createElement(R.Z,{className:h()(n,"bullet_type-simple"),"data-qa":"bullet-icon"}))};A.propTypes={status:p().oneOf([N.ri,N.wT,N.Km]),onClick:p().func,bulletClassName:p().string,className:p().string};const M=A;var D=r(7896),Z=r(59740),P=["text","icon","size","view","title","onClick"],k=function(e){var t=e.text,r=e.icon,n=e.size,a=void 0===n?"s":n,i=e.view,s=void 0===i?"flat":i,o=e.title,c=void 0===o?"Copy to clipboard":o,l=e.onClick,d=(0,Z.Z)(e,P),p=(0,u.useState)("pending"),m=(0,f.Z)(p,2),v=m[0],g=m[1],h=(0,u.useRef)(),E=(0,u.useCallback)((function(e){try{var t=document.createElement("input");t.style.position="fixed",t.style.left="-9999px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999);var r=document.execCommand("copy");return document.body.removeChild(t),r}catch(e){return console.error("Failed to copy text: ",e),!1}}),[]),y=(0,u.useCallback)((function(e){E(t)?(g("success"),h.current&&clearTimeout(h.current),h.current=setTimeout((function(){g("pending")}),1e3)):(g("error"),setTimeout((function(){g("pending")}),1e3)),null==l||l(e)}),[t,l,E]);return u.useEffect((function(){return function(){h.current&&clearTimeout(h.current)}}),[]),u.createElement(C.zxk,(0,D.Z)({size:a,view:s,title:c,onClick:y},d),u.createElement(C.zxk.Icon,null,r||u.createElement(C.Kmg,{status:v})))},x=r(5028),j=function(e){var t=u.useMemo((function(){return(0,b.ru)(window.location.href,{browser:(0,y.escapeRegExp)(e.browserName),testNameFilter:(0,y.escapeRegExp)(e.testName),strictMatchFilter:!0,retryIndex:e.retryIndex,viewModes:S.w.ALL,expand:T.Tm})}),[e.browserName,e.testName,e.retryIndex]);return u.createElement("div",{className:"section__title section__title_type_browser",onClick:e.handler},u.createElement(M,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,w.jj)(e.checkStatus)})}}),e.title,u.createElement(O.Z,{resultId:e.lastResultId}),u.createElement(k,{text:t,title:"copy test link",icon:u.createElement(x.Z,{width:16,height:16}),onClick:function(e){e.stopPropagation()}}))};j.propTypes={title:p().node.isRequired,browserId:p().string.isRequired,browserName:p().string.isRequired,lastResultId:p().string.isRequired,handler:p().func.isRequired,checkStatus:p().number.isRequired,testName:p().string.isRequired,retryIndex:p().number.isRequired,suiteUrl:p().string,actions:p().object.isRequired};const L=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.stateById[n];return{checkStatus:a.checkStatus,testName:r.browsers.byId[n].parentId,retryIndex:(0,y.get)(a,"retryIndex",0)}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(j);var B=function(e){return u.createElement("div",{className:"section__title section__title_skipped"},u.createElement(M,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,w.jj)(e.checkStatus)})}}),e.title)};B.propTypes={title:p().object.isRequired,browserId:p().string.isRequired,checkStatus:p().number.isRequired,actions:p().object.isRequired};const U=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId;return{checkStatus:r.browsers.stateById[n].checkStatus}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(B);var z=r(33751),G=r(18553),F=r(28978),H=r(922);function V(e){var t=W();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var q=function(e){(0,i.Z)(r,e);var t=V(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,m.Z)(e),"onToggleMetaInfo",(function(){e.props.actions.toggleMetaInfo()})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.resultId;return u.createElement(H.Z,{title:"Meta",content:u.createElement(C.Zbd,{className:"details__card",view:"filled"},u.createElement(F.o,{resultId:e,qa:"meta-info"})),onClick:this.onToggleMetaInfo})}}]),r}(u.Component);(0,c.Z)(q,"propTypes",{resultId:p().string.isRequired,actions:p().object.isRequired});const Y=(0,l.connect)(null,(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(q);var K=r(61394),J=function(e){var t=e.history;function r(e,t){var n=Object.assign({},e);n[K.z.Name]="".concat("\t".repeat(t)).concat(n[K.z.Name]);var a=n[K.z.Args];return a&&a.length>0&&(n[K.z.Name]+="(".concat(a.map((function(e){return'"'.concat(e,'"')})).join(", "),")")),n[K.z.Children]?[n].concat(n[K.z.Children].map((function(e){return r(e,t+1)}))):[n]}var n=t.map((function(e){return r(e,0)})).flat(1/0);return(0,y.isEmpty)(t)?null:u.createElement(H.Z,{title:"History",content:u.createElement(C.Zbd,{className:"details__card",view:"filled"},u.createElement("div",{style:{display:"flex"}},u.createElement(C.aVo,{items:n,renderItem:function(e){return u.createElement("div",{className:"history-item"},u.createElement("span",{className:"history-item__name"},e[K.z.Name]),u.createElement("span",{className:"history-item__time"},e[K.z.Duration]," ms"))},filterable:!1,virtualized:!1}))),extendClassNames:"history"})};J.propTypes={resultId:p().string.isRequired,history:p().arrayOf(p().object)};const X=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n].history;return{history:void 0===a?[]:a}}))(J);var Q=r(88100),$=r.n(Q);function ee(e){var t=te();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}var re=function(e){(0,i.Z)(r,e);var t=ee(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,m.Z)(e),"_renderDescription",(function(){return u.createElement($(),null,e.props.content)})),e}return(0,a.Z)(r,[{key:"render",value:function(){return u.createElement(H.Z,{title:"Description",content:this._renderDescription})}}]),r}(u.Component);(0,c.Z)(re,"propTypes",{content:p().string.isRequired});var ne=r(69875),ae=r(46840),ie=r(73199),se=r(48439),oe=r.n(se),ce=r(57807),ue=r.n(ce),le=r(84673),de=r.n(le);function pe(e){var t=fe();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}var me=function(e){(0,i.Z)(r,e);var t=pe(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.errorDetails,t=e.title,r=e.filePath,n=u.createElement("div",{className:"toggle-open__item"},u.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},t));return u.createElement(H.Z,{title:"Error details",content:n})}}]),r}(u.Component);(0,c.Z)(me,"propTypes",{errorDetails:p().object.isRequired});var ve=r(72273),ge=r(81845);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e){var t=Ie();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ie=function(){return!!e})()}ue().setColors({reset:["#","#"],cyan:"ff6188",yellow:"5cb008",magenta:"8e81cd",green:"aa8720"});var be=function(e){(0,i.Z)(r,e);var t=ye(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,m.Z)(e),"_wrapInDiv",(function(e){return e?"<div>".concat(e,"</div>"):e})),e}return(0,a.Z)(r,[{key:"_getErrorPattern",value:function(){var e=this.props,t=e.errorPatterns,r=e.error;return t.find((function(e){var t,n=e.regexp;return null==r||null===(t=r.message)||void 0===t?void 0:t.match(n)}))}},{key:"_drawImage",value:function(){var e=this.props,t=e.image,r=e.error;return t.actualImg&&((0,w.S5)(r)||(0,w.Ne)(r))?u.createElement(ge.w,{image:t.actualImg}):null}},{key:"_errorToElements",value:function(e){var t=this;return(0,y.isEmpty)(e)?"Unknown error":(0,y.map)(e,(function(e,r){if(!e)return null;var n,a,i,s="",o="";if("string"==typeof e){if(e.match(/\n/)){var c=e.split("\n"),l=(0,ae.Z)(c);s=l[0],o=l.slice(1),o=(0,w.G6)(o)}else if(e.length<ve._8)s=e;else{var d=(a=(n=e).slice(0,ve._8).lastIndexOf(" "),i=-1===a?ve._8:a,[n.slice(0,i),n.slice(i+1)]),p=(0,ae.Z)(d);s=p[0],o=p.slice(1)}Array.isArray(o)&&(o=o.join("\n")),o=t._wrapInDiv(ue()(oe()(o)))}else s=u.createElement("span",null,"show more"),o=(0,y.isFunction)(e)?e:function(){return e};var f=u.createElement(u.Fragment,null,u.createElement("span",{className:"error__item-key"},r,": "),de()(s)),m="string"==typeof o;return u.createElement(H.Z,{key:r,asHtml:m,title:f,content:o,extendClassNames:"error__item"})}))}},{key:"_shouldDrawErrorInfo",value:function(e){return!(0,w.ci)(e)&&!(0,w.iR)(e)}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.errorDetails,n=this._getErrorPattern(),a=(0,y.isEmpty)(n)?t:Ee(Ee({},t),{},{message:"".concat(n.name,"\n").concat(null==t?void 0:t.message),hint:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?(0,ie.ZP)(e):null;return Array.isArray(t)&&1===t.length?t[0]:t}(n.hint)}});return u.createElement("div",null,this._shouldDrawErrorInfo(a)?u.createElement(C.Zbd,{view:"filled",className:"error"},this._errorToElements((0,w.Fm)(a))):null,r&&u.createElement(me,{errorDetails:r}),this._drawImage())}}]),r}(u.Component);(0,c.Z)(be,"propTypes",{result:p().shape({error:p().object,errorDetails:p().object}).isRequired,image:p().shape({stateName:p().string,error:p().object,actualImg:p().object}).isRequired,error:p().object.isRequired,errorDetails:p().object,errorPatterns:p().array.isRequired});const Se=(0,l.connect)((function(e,t){var r=e.config.errorPatterns,n=t.result,a=t.image;return{error:a.error||n.error,errorDetails:a.stateName?null:n.errorDetails,errorPatterns:r}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(be);function Te(e){var t=we();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var Oe=function(e){(0,i.Z)(r,e);var t=Te(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.status,r=e.expectedImg;return u.createElement(ge.w,{disableCache:(0,w.Cr)(t),image:r})}}]),r}(u.Component);(0,c.Z)(Oe,"propTypes",{status:p().string.isRequired,expectedImg:p().object.isRequired});var Ne=r(24805),_e=r(99086);function Ce(e){var t=Re();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Re=function(){return!!e})()}var Ae=function(e){(0,i.Z)(r,e);var t=Ce(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,m.Z)(e),"_findSameDiffs",(function(){var t=e.props,r=t.actions,n=t.imageId,a=t.failedOpenedImageIds,i=t.browserName;r.thunkFindSameDiffs(n,a,i)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.isDisabled;return u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(_e.Z,null),"Find same diffs"),isSuiteControl:!0,isDisabled:e,handler:this._findSameDiffs,dataTestId:"find-same-diffs"})}}]),r}(u.Component);(0,c.Z)(Ae,"propTypes",{imageId:p().string,browserId:p().string.isRequired,isDisabled:p().bool.isRequired,browserName:p().string.isRequired,failedOpenedImageIds:p().arrayOf(p().string).isRequired,actions:p().object.isRequired});const Me=(0,l.connect)((function(e,t){var r=t.browserId;return{browserName:e.tree.browsers.byId[r].name,failedOpenedImageIds:(0,ne.getFailedOpenedImageIds)(e)}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(Ae);var De=r(58154),Ze=r(14054),Pe=r(47486),ke=r(37010),xe=r(27060),je=r(60460),Le=r(41493);function Be(e){var t=Ue();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ue=function(){return!!e})()}var ze=function(e){(0,i.Z)(r,e);var t=Be(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,c.Z)((0,m.Z)(a),"toggleModal",(function(){var e=a.props,t=e.actions,r=e.image;t.openModal({id:De.types.SCREENSHOT_ACCEPTER,type:De.types.SCREENSHOT_ACCEPTER,className:"screenshot-accepter",data:{image:r}})})),(0,c.Z)((0,m.Z)(a),"onToggleStateResult",(function(){var e=a.props,t=e.imageId,r=e.image,n=e.shouldImageBeOpened;r.stateName&&a.props.actions.toggleStateResult({imageId:t,shouldBeOpened:!n})})),(0,c.Z)((0,m.Z)(a),"onTestAccept",(function(){var e;null===(e=a.analytics)||void 0===e||e.trackScreenshotsAccept(),a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterStageScreenshot([a.props.imageId]):a.props.actions.thunkAcceptImages({imageIds:[a.props.imageId]})})),(0,c.Z)((0,m.Z)(a),"onScreenshotUndo",(function(){a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterUnstageScreenshot([a.props.imageId]):a.props.actions.thunkRevertImages({imageIds:[a.props.imageId]})})),a.analytics=a.context,a}return(0,a.Z)(r,[{key:"_drawFailImageControls",value:function(){var e=this;if(!this.props.gui&&!this.props.isStaticImageAccepterEnabled)return null;var t=this.props,r=t.node,n=t.imageId,a=t.result,i=t.isScreenshotAccepterDisabled,s=t.isStaticImageAccepterEnabled,o=t.isStaticAccepterAcceptDisabled,c=!(0,Ze.h3)(r)||s&&o,l=!(0,w.R6)(r.status)||s;return c&&l&&i?null:u.createElement("div",{className:"state-controls"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(Pe.Z,null),"Accept"),isSuiteControl:!0,isDisabled:c,handler:this.onTestAccept,dataTestId:"test-accept"}),u.createElement(Me,{imageId:n,browserId:a.parentId,isDisabled:l}),u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(ke.Z,null),"Switch accept mode"),title:"Open mode with fast screenshot accepting",isSuiteControl:!0,isDisabled:i,extendClassNames:"screenshot-accepter__arrows-open-btn",handler:function(){return e.toggleModal()},"data-qa":"test-switch-accept-mode"}))}},{key:"_drawUpdatedImageControls",value:function(){var e=this.props,t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return(0,Ze.KD)({image:r,gui:t,isLastResult:n,isStaticImageAccepterEnabled:a})?u.createElement("div",{className:"state-controls"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(xe.Z,null),"Undo"),isSuiteControl:!0,handler:this.onScreenshotUndo,dataTestId:"test-undo"})):null}},{key:"_getStateTitleWithDiffCount",value:function(){var e=this.props.image;if(!e.stateName)return null;var t=h()("state-title","state-title_".concat(e.status)),r=e.stateName;if(e.differentPixels&&e.diffRatio){var n=(0,je.h)(e.diffRatio);r+=" (diff: ".concat(e.differentPixels,"px, ").concat(n,"%)")}return u.createElement("div",{className:t},r)}},{key:"render",value:function(){var e=this.props,t=e.node,r=e.result,n=e.image,a=t.status,i=t.error,s=null;return(0,w.KM)(a)?s=u.createElement(Se,{result:r,image:n}):(0,w.Mg)(a)||(0,w.Cr)(a)||(0,w.nc)(a)&&(0,y.get)(n.expectedImg,"path")?s=u.createElement(Oe,{status:a,expectedImg:n.expectedImg}):(0,w.Cx)(a)||(0,w.hO)(a)?s=u.createElement(Oe,{status:a,expectedImg:n.actualImg}):(0,w.R6)(a)&&(s=i?u.createElement(Se,{result:r,image:n}):u.createElement(Ne.Z,{image:n})),u.createElement(u.Fragment,null,u.createElement("hr",{className:"tab__separator"}),this._getStateTitleWithDiffCount()?u.createElement(C.pJF,{summary:this._getStateTitleWithDiffCount(),onUpdate:this.onToggleStateResult,size:"l",defaultExpanded:this.props.shouldImageBeOpened},this._drawFailImageControls(),this._drawUpdatedImageControls(),s?u.createElement("div",{className:"image-box__container"},s):null):u.createElement(u.Fragment,null,this._drawFailImageControls(),this._drawUpdatedImageControls(),s?u.createElement("div",{className:"image-box__container"},s):null))}}]),r}(u.Component);(0,c.Z)(ze,"contextType",Le.f),(0,c.Z)(ze,"propTypes",{result:p().shape({status:p().string.isRequired,error:p().object,parentId:p().string}).isRequired,imageId:p().string,gui:p().bool.isRequired,image:p().shape({status:p().string,error:p().object,stateName:p().string,expectedImg:p().object,actualImg:p().object,diffRatio:p().number,differentPixels:p().number}).isRequired,node:p().shape({error:p().object,status:p().string}),shouldImageBeOpened:p().bool.isRequired,isScreenshotAccepterDisabled:p().bool.isRequired,isStaticImageAccepterEnabled:p().bool.isRequired,isStaticAccepterAcceptDisabled:p().bool,isLastResult:p().bool.isRequired,actions:p().object.isRequired});const Ge=(0,l.connect)((function(){var e=(0,ne.mkGetLastImageByStateName)();return function(t,r){var n=r.imageId,a=r.result,i=t.gui,s=t.tree,o=t.staticImageAccepter.enabled,c=s.images.byId[n]||{},u=!c.stateName||s.images.stateById[n].shouldBeOpened,l=n?c:a,d=t.tree.browsers.byId[a.parentId],p=(0,y.last)(d.resultIds)===a.id,f=!0,m=!0;if((i||o)&&n){var v=e(t,{imageId:n})||{};f=(0,Ze.F7)(v)||!(0,Ze.h3)(l),m=(0,Ze.F7)(v)&&!(0,Ze.Xd)(v)||!(0,Ze.h3)(l)}return{gui:i,image:c,node:l,shouldImageBeOpened:u,isScreenshotAccepterDisabled:f,isStaticImageAccepterEnabled:o,isStaticAccepterAcceptDisabled:m,isLastResult:p}}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(ze);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){var t=Ve();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ve=function(){return!!e})()}var We=function(e){(0,i.Z)(r,e);var t=He(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_shouldAddErrorTab",value:function(){var e=this.props.result;return(0,w.KM)(e.status)}},{key:"_drawTab",value:function(e){var t=e.key,r=e.imageId,n=void 0===r?null:r,a=this.props.result;return u.createElement("div",{key:t,className:"tab"},u.createElement("div",{className:"tab__item tab__item_active"},u.createElement(Ge,{result:a,imageId:n})))}},{key:"render",value:function(){var e=this,t=this.props.result,r="".concat(t.id,"_error");if((0,y.isEmpty)(t.imageIds))return(0,w.Mg)(t.status)||(0,w.sx)(t.status)&&(0,y.isEmpty)(t.error)?null:this._drawTab({key:r});var n=t.imageIds.map((function(t){return e._drawTab({key:t,imageId:t})}));return this._shouldAddErrorTab()?n.concat(this._drawTab({key:r})):n}}]),r}(u.Component);(0,c.Z)(We,"propTypes",{result:p().shape({id:p().string.isRequired,status:p().string.isRequired,imageIds:p().array.isRequired,screenshot:p().bool.isRequired,error:p().object}).isRequired});const qe=(0,l.connect)((function(e,t){var r=e.tree,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.result);return n.imageIds=n.imageIds.filter((function(e){return r.images.byId[e].stateName})),{result:n}}))(We);var Ye=r(16847),Ke=r(97680);function Je(e){var t=Xe();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}var Qe=function(e){(0,i.Z)(r,e);var t=Je(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return u.createElement(H.Z,{title:"Page screenshot",content:function(){return u.createElement(ge.w,{image:e.props.image})}})}}]),r}(u.Component),$e=p().shape({path:p().string.isRequired,size:p().shape({height:p().number.isRequired,width:p().number.isRequired}).isRequired});function et(e){var t=tt();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tt=function(){return!!e})()}var rt=function(e){(0,i.Z)(r,e);var t=et(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.result,r=e.resultId,n=e.testName,a=e.pageScreenshot;return u.createElement(u.Fragment,null,u.createElement(Ye.Z,{name:Ke.Zr,result:t,testName:n},u.createElement(Y,{resultId:r}),u.createElement(X,{resultId:r})),t.description&&u.createElement(re,{content:t.description}),u.createElement(qe,{result:t}),a&&u.createElement("hr",{className:"tab__separator"}),a&&u.createElement(Qe,{image:a.actualImg}))}}]),r}(u.Component);(0,c.Z)(rt,"propTypes",{resultId:p().string.isRequired,testName:p().string.isRequired,result:p().shape({status:p().string.isRequired,imageIds:p().array.isRequired,description:p().string}).isRequired,pageScreenshot:p().shape({actualImg:$e.isRequired})});const nt=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n];return{result:a,pageScreenshot:Object.values((0,y.pick)(r.images.byId,a.imageIds)).find((function(e){return!e.stateName&&e.actualImg}))}}))(rt);var at=r(68891),it=r(17068),st=r(97407);function ot(e){var t,r,n=function(t){var r=e.browserId;t!==e.retryIndex&&e.actions.changeTestRetry({browserId:r,retryIndex:t})},a=function(){var t=e.testName,r=e.browserName;e.actions.thunkRunTest({test:{testName:t,browserName:r}})},i=e.testName,s=e.resultIds[e.retryIndex],o=(0,u.useContext)(st.O).measure,c=(0,u.useRef)(null);return(0,it.Z)(c,(function(){o()})),u.createElement("div",{className:"section__body",ref:c},u.createElement("div",{className:"image-box"},u.createElement("div",{className:"controls"},function(){var t=e.resultIds,r=e.retryIndex;if(!(t.length<=1))return u.createElement("div",{className:"controls__item"},u.createElement(z.Z,{resultIds:t,retryIndex:r,onChange:n}))}(),(t=e.gui,r=e.running,t?u.createElement("div",{className:"controls__item"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(at.Z,null),"Retry"),isSuiteControl:!0,isDisabled:r,handler:a,dataTestId:"test-retry"})):null)),u.createElement(Ye.Z,{name:Ke.Y,resultId:s,testName:i},u.createElement(nt,{resultId:s,testName:i}))))}ot.propTypes={browserId:p().string.isRequired,browserName:p().string.isRequired,testName:p().string.isRequired,resultIds:p().array.isRequired,onResize:p().func,gui:p().bool.isRequired,running:p().bool.isRequired,retryIndex:p().number,actions:p().object.isRequired};const ct=(0,l.connect)((function(e,t){var r=e.gui,n=e.running,a=e.view.retryIndex,i=e.tree,s=t.browserId,o=i.browsers.stateById[s]||{},c=o.retryIndex,u=o.lastMatchedRetryIndex;return{gui:r,running:n,retryIndex:"number"==typeof a?Math.min(a,c):(0,y.isNumber)(u)?u:c}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(ot);var ut=function(e){var t,r=e.status,n=e.shouldBeOpened,a=e.sectionRoot,i=["section",{section_collapsed:!n}];return h()(i,(t={},(0,c.Z)(t,"section_status_".concat(r),r),(0,c.Z)(t,"section_root",a),t))},lt=r(71011);function dt(e){var t=e.browser,r=e.shouldBeOpened,n=e.shouldBeShown,a=e.lastResult,i=(0,u.useContext)(st.O).measure;if((0,u.useLayoutEffect)((function(){null==i||i()}),[n,r]),!n)return null;var s,o=(0,w.sx)(a.status),c=t.resultIds.length>1,l=o?(s=a.skipReason,u.createElement(u.Fragment,null,"[skipped] ",e.browser.name,s&&", reason: ",s&&(0,lt.hk)(s))):t.name,d=c||!(0,y.isEmpty)(a.history)||a.error||a.imageIds.length>0,p=o&&!d,f=p||!r?null:u.createElement("div",null,u.createElement(ct,{browserId:t.id,browserName:t.name,testName:t.parentId,resultIds:t.resultIds})),m=p?u.createElement(U,{title:l,browserId:t.id}):u.createElement(u.Fragment,null,u.createElement(L,{title:l,browserId:t.id,browserName:t.name,lastResultId:a.id,handler:function(){var t=e.browserId,r=e.shouldBeOpened;e.actions.toggleBrowserSection({browserId:t,shouldBeOpened:!r})}}),f);return u.createElement("div",{className:ut({status:a.status,shouldBeOpened:r})},m)}dt.propTypes={browserId:p().string.isRequired,browser:p().shape({id:p().string.isRequired,name:p().string.isRequired,resultIds:p().arrayOf(p().string).isRequired,parentId:p().string.isRequired}).isRequired,lastResult:p().shape({id:p().string.isRequired,status:p().string.isRequired,error:p().object,imageIds:p().arrayOf(p().string).isRequired,skipReason:p().string,history:p().arrayOf(p().string)}).isRequired,shouldBeShown:p().bool.isRequired,shouldBeOpened:p().bool.isRequired,actions:p().object.isRequired};const pt=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.byId[n],i=r.browsers.stateById[n],s=i.shouldBeOpened,o=i.shouldBeShown;return{browser:a,lastResult:r.results.byId[(0,y.last)(a.resultIds)],shouldBeShown:o,shouldBeOpened:s}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(dt);var ft=r(73241),mt=function(e){var t=e.name,r=e.suiteId,n=e.handler,a=e.gui,i=e.checkStatus,s=e.suiteTests,o=e.actions,c=e.running,l=e.runningThis,d=function(e){e.stopPropagation(),o.thunkRunSuite({tests:s})},p=function(e){e.stopPropagation()};return u.createElement("div",{className:"section__title",onClick:n},u.createElement(M,{status:i,onClick:function(e){e.stopPropagation(),o.toggleSuiteCheckbox({suiteId:r,checkStatus:(0,w.jj)(i)})}}),t,u.createElement(k,{size:"s",text:r,onClick:p}),a&&(l?u.createElement(C.yCA,{size:"xs"}):u.createElement(C.zxk,{size:"s",view:"flat",title:"retry suite",onClick:d,disabled:c},u.createElement(C.zxk.Icon,null,u.createElement(at.Z,null)))))};mt.propTypes={name:p().string.isRequired,suiteId:p().string.isRequired,handler:p().func.isRequired,gui:p().bool.isRequired,checkStatus:p().number,suiteTests:p().arrayOf(p().shape({testName:p().string,browserName:p().string})).isRequired,running:p().bool,runningThis:p().bool,actions:p().object.isRequired};const vt=(0,l.connect)((function(){var e=(0,ne.mkGetTestsBySuiteId)();return function(t,r){var n=r.suiteId;return{gui:t.gui,running:t.running,runningThis:t.tree.suites.byId[n].status===ft.ih.RUNNING,checkStatus:t.tree.suites.stateById[n].checkStatus,suiteTests:e(t,{suiteId:n})}}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(mt);function gt(e){var t=e.suiteId,r=e.suiteName,n=e.suiteStatus,a=e.suiteChildIds,i=e.suiteBrowserIds,s=e.sectionRoot,o=e.shouldBeOpened,c=e.shouldBeShown,l=(0,u.useContext)(st.O).measure;if((0,u.useLayoutEffect)((function(){null==l||l()}),[c,o]),!c)return null;var d=function(){var t=e.suiteId,r=e.shouldBeOpened;e.actions.toggleSuiteSection({suiteId:t,shouldBeOpened:!r})};if(!o)return u.createElement("div",{className:ut({status:n,shouldBeOpened:o,sectionRoot:s})},u.createElement(vt,{name:r,suiteId:t,handler:d}));var p=a&&a.map((function(e){return u.createElement(ht,{key:e,suiteId:e,sectionRoot:!1})})),f=i&&i.map((function(e){return u.createElement(pt,{key:e,browserId:e})}));return u.createElement("div",{className:ut({status:n,shouldBeOpened:o,sectionRoot:s})},u.createElement(vt,{name:r,suiteId:t,handler:d}),u.createElement("div",{className:"section__body"},p,f))}gt.propTypes={suiteId:p().string.isRequired,sectionRoot:p().bool.isRequired,suiteName:p().string.isRequired,suiteStatus:p().string.isRequired,suiteChildIds:p().array,suiteBrowserIds:p().array,shouldBeShown:p().bool.isRequired,shouldBeOpened:p().bool.isRequired,actions:p().object.isRequired};var ht=(0,l.connect)((function(e,t){var r=e.tree,n=t.suiteId,a=r.suites.byId[n],i=r.suites.stateById[n],s=i.shouldBeOpened,o=i.shouldBeShown;return{suiteName:a.name,suiteStatus:a.status,suiteChildIds:a.suiteIds,suiteBrowserIds:a.browserIds,shouldBeShown:o,shouldBeOpened:s}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(gt);const Et=ht;var yt=(0,u.forwardRef)((function(e,t){return u.createElement("div",{ref:t,style:e.style,className:"virtualized__row"},u.createElement(Et,e.sectionProps))}));function It(e){var t=new I.t1({fixedWidth:!0,defaultHeight:30}),r=function(r){var n=r.index,a=r.key,i=r.style,s=r.parent,o=e.visibleRootSuiteIds[n],c={key:o,suiteId:o,sectionRoot:!0};return u.createElement(I.Z8,{key:a,cache:t,parent:s,columnIndex:0,rowIndex:n},(function(e){var t=e.measure,r=e.registerChild;return u.createElement(st.O.Provider,{value:{measure:t}},u.createElement(yt,{ref:r,key:a,style:i,sectionProps:c}))}))},n=(0,y.throttle)((function(){var r=e.actions,n=Array.from(document.querySelectorAll(".virtualized__row")),a=(0,y.find)(n.slice().reverse(),(function(e){var r=e.getBoundingClientRect(),n=document.documentElement.clientHeight-t.defaultHeight;return r.top>0&&r.top<=n}));if(a||(a=(0,y.find)(n,(function(e){return e.getBoundingClientRect().bottom>0}))),a){var i=a.querySelector(".section__title").textContent;r.updateBottomProgressBar({currentRootSuiteId:i})}}),100),a=(0,y.once)((function(){return setTimeout(n,0)})),i=e.visibleRootSuiteIds;if(e.isReportEmpty)return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests to show. Please, try the following:",u.createElement("ul",null,u.createElement("li",null,"Check if your project contains any tests;"),u.createElement("li",null,"Check if the tool you are using is configured correctly and is able to find your tests;"),u.createElement("li",null,"Check if some critical error has occurred in logs that prevented HTML reporter from collecting any results.")));if((0,y.isEmpty)(i)){var s=function(){var t=e.viewMode,r=e.filteredBrowsers,n=e.testNameFilter,a=e.strictMatchFilter,i=[];if(n&&i.push('test name should match to "'.concat(n,'" ').concat(a?"":"not ","strictly;")),t!==S.w.ALL&&i.push("test should be ".concat(t," due to selected view mode;")),r){var s=(0,y.flatMap)(r,(function(e){var t=e.id,r=e.versions;return(0,y.isEmpty)(r)?t:r.map((function(e){return"".concat(t,"@").concat(e)}))}));i.push("test should run in selected browsers: ".concat(s.join(", "),";"))}return i}();return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests that match to selected filters:",u.createElement("ul",null,s.map((function(e,t){return u.createElement("li",{key:t},e)}))),"Try to change your search filters to see tests.")}return u.createElement("div",{className:"sections"},u.createElement(I._K,{onScroll:n},(function(e){var n=e.height,s=e.isScrolling,o=e.onChildScroll,c=e.scrollTop,l=e.registerChild;return u.createElement(I.qj,{disableHeight:!0},(function(e){var d=e.width;return u.createElement("div",{ref:function(e){return e&&l(e)}},u.createElement(I.aV,{autoHeight:!0,height:n,width:d,isScrolling:s,onScroll:o,scrollTop:c,onRowsRendered:a,deferredMeasurementCache:t,rowHeight:t.rowHeight,rowCount:i.length,rowRenderer:r,style:{willChange:"auto"}}))}))})))}yt.propTypes={onInit:p().func,style:p().object,sectionProps:p().object},It.propTypes={visibleRootSuiteIds:p().arrayOf(p().string),viewMode:p().string,actions:p().object.isRequired,testNameFilter:p().string,strictMatchFilter:p().bool,isReportEmpty:p().bool,filteredBrowsers:p().arrayOf(p().shape({id:p().string,versions:p().arrayOf(p().string)}))};const bt=(0,l.connect)((function(e){return{visibleRootSuiteIds:(0,ne.getVisibleRootSuiteIds)(e),viewMode:e.app.suitesPage.viewMode,filteredBrowsers:e.app.suitesPage.filteredBrowsers,testNameFilter:e.app.suitesPage.nameFilter,strictMatchFilter:e.view.strictMatchFilter,isReportEmpty:(0,y.isEmpty)(e.tree.browsers.byId)}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(It);var St=function(e){var t=e.group,r=e.isActive,n=e.onClick,a=e.checkStatus,i=e.actions,s=t.name,o=t.pattern,c=t.testCount,l=t.resultCount,d=r?u.createElement("div",{className:"tests-group__body"},u.createElement(bt,null)):null,p=h()("tests-group",{"tests-group_collapsed":!r});return u.createElement("div",{className:p},u.createElement("div",{className:"tests-group__title",onClick:n,title:o},u.createElement(M,{status:a,onClick:function(e){e.stopPropagation(),i.toggleGroupCheckbox({browserIds:t.browserIds,checkStatus:(0,w.jj)(a)})},className:"tests-group__bullet"}),u.createElement("span",{className:"tests-group__name"},s),u.createElement("span",{className:"tests-group__count"}," (","tests: ".concat(c,", runs: ").concat(l),")")),d)};St.propTypes={actions:p().object.isRequired,group:p().object.isRequired,isActive:p().bool.isRequired,onClick:p().func.isRequired,checkStatus:p().number};const Tt=(0,l.connect)((function(e,t){var r=e.tree,n=t.group,a=n.browserIds.length,i=n.browserIds.reduce((function(e,t){return e+r.browsers.stateById[t].checkStatus}),0);return{checkStatus:Number(i===a||i&&N.Km)}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(St);var wt=r(20205),Ot=r(36666);function Nt(e){var t=_t();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function _t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_t=function(){return!!e})()}var Ct=function(e){(0,i.Z)(r,e);var t=Nt(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,m.Z)(e),"state",{activeGroupIndex:null}),(0,c.Z)((0,m.Z)(e),"onGroupChange",(function(t){var r=e.props,n=r.groupedTests,a=r.selectedGroupSection,i=r.selectedGroupKey,s=e.state.activeGroupIndex===t?null:t,o=null!==s;e.setState({activeGroupIndex:s},(function(){var r=n[a].byKey[i],s=o?r[t]:{},c=s.browserIds,u=void 0===c?[]:c,l=s.resultIds,d=void 0===l?[]:l;e.props.actions.toggleTestsGroup({browserIds:u,resultIds:d,isActive:o})}))})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.groupedTests,n=t.selectedGroupSection,a=t.selectedGroupKey,i=r[n].byKey[a],s=this.state.activeGroupIndex;if(0===i.length){var o='No tests match the key "'.concat(a,'" in the section "').concat(n,'". ')+'Try to clear "Group by" to see more results.';return u.createElement("div",{className:"grouped-tests"},o)}return u.createElement("div",{className:"grouped-tests"},i.map((function(t,r){var n=r===s;return u.createElement(Tt,{key:t.name,group:t,isActive:n,onClick:function(){return e.onGroupChange(r)}})})))}}]),r}(u.Component);(0,c.Z)(Ct,"propTypes",{groupedTests:wt.M.isRequired,selectedGroupSection:p().string.isRequired,selectedGroupKey:p().string.isRequired,actions:p().object.isRequired});const Rt=(0,l.connect)((function(e){var t=(0,Ot.B)(e),r=(0,f.Z)(t,2),n=r[0],a=r[1];return{groupedTests:e.groupedTests,selectedGroupSection:n,selectedGroupKey:a}}),(function(e){return{actions:(0,v.bindActionCreators)(E,e)}}))(Ct);function At(e){var t=Mt();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function Mt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mt=function(){return!!e})()}var Dt=function(e){(0,i.Z)(r,e);var t=At(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){return this.props.keyToGroupTestsBy?u.createElement(Rt,{key:this.props.keyToGroupTestsBy}):u.createElement(bt,null)}}]),r}(u.Component);(0,c.Z)(Dt,"propTypes",{keyToGroupTestsBy:p().string.isRequired});const Zt=(0,l.connect)((function(e){return{keyToGroupTestsBy:e.view.keyToGroupTestsBy}}))(Dt)},97407:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n=(0,r(2784).createContext)({measure:function(){}})},58154:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FindSameDiffs:()=>g,ScreenshotAccepter:()=>le,StaticAccepterConfirm:()=>me,types:()=>ve});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(13980),l=r.n(u),d=r(2784),p=r(49330),f=r(50479);function m(e){var t=v();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){(0,i.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.browserId,n=e.equalImages,a=e.comparedImages;return d.createElement(p.Z,{size:"small",open:!0,onClose:t},d.createElement(p.Z.Header,{content:"Find same diffs result"}),d.createElement(p.Z.Content,{scrolling:!0},d.createElement("p",null,"Search was carried out in: ",d.createElement("b",null,r)),d.createElement("p",null,"Found ",d.createElement("b",null,n)," equal images from ",d.createElement("b",null,a))),d.createElement(p.Z.Actions,null,d.createElement(f.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),r}(d.Component);(0,c.Z)(g,"propTypes",{onClose:l().func.isRequired,browserId:l().string.isRequired,equalImages:l().number.isRequired,comparedImages:l().number.isRequired});var h=r(68079),E=r(34795),y=r(80753),I=r(82841),b=r.n(I),S=r(4792),T=r(18717),w=r(76635),O=r(32022),N=r(39961),_=function(e){var t=e.done,r=e.total,n=e.dataTestId,a=100*(t/r).toFixed(2);return d.createElement("span",{className:"progress-bar","data-content":"".concat(t,"/").concat(r),"data-qa":n},d.createElement("span",{className:"progress-bar__container",style:{width:"".concat(a,"%")}}))};_.propTypes={done:l().number.isRequired,total:l().number.isRequired,dataTestId:l().string};const C=_;var R=r(18553),A=r(42874),M=r(33751),D=r(58615),Z=r(81146),P=r(10479),k=r(47486),x=r(27060),j=r(37010),L=r(78272);function B(e){var t=U();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}var z=function(e){(0,i.Z)(r,e);var t=B(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,c.Z)((0,y.Z)(a),"handlePrevScreenshot",(function(e){e.preventDefault();var t=a.props,r=t.stateNameImageIds,n=t.activeImageIndex;(0,t.onActiveImageChange)(G(n,r.length))})),(0,c.Z)((0,y.Z)(a),"handleNextScreenshot",(function(e){e.preventDefault();var t=a.props,r=t.stateNameImageIds,n=t.activeImageIndex;(0,t.onActiveImageChange)(F(n,r.length))})),(0,c.Z)((0,y.Z)(a),"handlePrevRetry",(function(){var e=a.props,t=e.images,r=e.retryIndex;(0,e.onRetryChange)(G(r,t.length))})),(0,c.Z)((0,y.Z)(a),"handleNextRetry",(function(){var e=a.props,t=e.images,r=e.retryIndex;(0,e.onRetryChange)(F(r,t.length))})),(0,c.Z)((0,y.Z)(a),"handleScreenshotAccept",(function(e){e.preventDefault();var t=a.props,r=t.images,n=t.retryIndex,i=t.onScreenshotAccept;null!==n&&i(r[n].id)})),(0,c.Z)((0,y.Z)(a),"handleScreenUndo",(function(e){e.preventDefault(),a.props.onScreenshotUndo()})),a._keyMap={PREV_SCREENSHOT:["up","w"],NEXT_SCREENSHOT:["down","s"],PREV_RETRY:["left","a"],NEXT_RETRY:["right","d"],ACCEPT_SCREENSHOT:["space","enter"],UNDO_SCREEN:"backspace",CLOSE_MODAL:"escape",IGNORE_META_UP:"meta+up",IGNORE_META_DOWN:"meta+down",IGNORE_META_S:"meta+s"},a._keyHandlers={PREV_SCREENSHOT:a.handlePrevScreenshot,NEXT_SCREENSHOT:a.handleNextScreenshot,PREV_RETRY:a.handlePrevRetry,NEXT_RETRY:a.handleNextRetry,ACCEPT_SCREENSHOT:a.handleScreenshotAccept,UNDO_SCREEN:a.handleScreenUndo,CLOSE_MODAL:a.props.onClose,IGNORE_META_UP:function(){},IGNORE_META_DOWN:function(){},IGNORE_META_S:function(){}},a}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.images,a=e.stateNameImageIds,i=e.retryIndex,s=e.showMeta,o=e.onClose,c=e.onRetryChange,u=e.onShowMeta,l=e.onCommitChanges,p=e.totalImages,f=e.acceptedImages,m=e.staticImageAccepter,v=(0,w.uniqBy)(n,"id").map((function(e){return e.parentId})),g=a.length<=1,h=m.accepterDelayedImages.length,E=m.imagesToCommitCount+h,y=m.enabled?Boolean(m.accepterDelayedImages.length):Boolean(f);return d.createElement(d.Fragment,null,d.createElement(N.GlobalHotKeys,{keyMap:this._keyMap,handlers:this._keyHandlers}),d.createElement("header",{className:"screenshot-accepter__header container"},d.createElement("div",{className:"screenshot-accepter__controls state-controls"},d.createElement(R.Z,{label:d.createElement(Z.Z,null),title:"Show previous image (↑,w)",isSuiteControl:!0,isDisabled:g,extendClassNames:"screenshot-accepter__arrow-up-btn",handler:this.handlePrevScreenshot}),d.createElement(R.Z,{label:d.createElement(P.Z,null),title:"Show next image (↓,s)",isSuiteControl:!0,isDisabled:g,extendClassNames:"screenshot-accepter__arrow-down-btn",handler:this.handleNextScreenshot}),d.createElement(R.Z,{label:d.createElement(d.Fragment,null,d.createElement(k.Z,null),"Accept"),title:"Accept image (Space,Enter)",isSuiteControl:!0,isDisabled:0===n.length,extendClassNames:"screenshot-accepter__accept-btn",handler:this.handleScreenshotAccept,dataTestId:"screenshot-accepter-accept"}),d.createElement(R.Z,{label:d.createElement(d.Fragment,null,d.createElement(x.Z,null),"Undo"),title:"Revert last updated screenshot",isDisabled:!y,isSuiteControl:!0,extendClassNames:"screenshot-accepter__undo-btn",handler:this.handleScreenUndo,dataTestId:"screenshot-accepter-undo"}),d.createElement(R.Z,{label:"Show meta",title:"Show test meta info",isActive:s,isDisabled:0===n.length,isSuiteControl:!0,extendClassNames:"screenshot-accepter__show-meta-btn",handler:u}),d.createElement(A.Z,{size:"m",label:"Diff mode",value:r.diffMode,handler:function(e){return t.setDiffMode({diffModeId:e})},options:Object.values(D.n).map((function(e){return{value:e.id,content:e.title}})),extendClassNames:"screenshot-accepter__diff-mode-select"}),d.createElement(M.Z,{title:"Switch to selected attempt (left: ←,a; right: →,d)",resultIds:v,retryIndex:i,onChange:c}),d.createElement(R.Z,{label:d.createElement(d.Fragment,null,d.createElement(j.Z,null),"Switch accept mode"),title:"Close mode with fast screenshot accepting (Escape)",isSuiteControl:!0,extendClassNames:"screenshot-accepter__arrows-close-btn",handler:o,dataTestId:"screenshot-accepter-switch-accept-mode"}),m.enabled&&d.createElement(R.Z,{label:"Commit ".concat(E," images"),title:"Send request with imagesInfo to 'staticImageAccepter.serviceUrl'",isDisabled:0===E,isSuiteControl:!0,handler:l}),d.createElement(C,{done:f,total:p,dataTestId:"screenshot-accepter-progress-bar"}))))}}]),r}(d.Component);function G(e,t){return e>0?e-1:t-1}function F(e,t){return e<t-1?e+1:0}(0,c.Z)(z,"propTypes",{view:l().shape({diffMode:l().string.isRequired}),images:l().arrayOf(l().shape({id:l().string,parentId:l().string})),stateNameImageIds:l().arrayOf(l().string),retryIndex:l().number,activeImageIndex:l().number,showMeta:l().bool.isRequired,totalImages:l().number.isRequired,acceptedImages:l().number.isRequired,onClose:l().func.isRequired,onRetryChange:l().func.isRequired,onActiveImageChange:l().func.isRequired,onScreenshotAccept:l().func.isRequired,onScreenshotUndo:l().func.isRequired,onShowMeta:l().func.isRequired,onCommitChanges:l().func.isRequired,staticImageAccepter:L.O$,actions:l().object.isRequired});var H=r(28978);function V(e){var t=W();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var q=function(e){(0,i.Z)(r,e);var t=V(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.showMeta,r=e.image;return t&&r?d.createElement(d.Fragment,null,d.createElement("div",{className:"screenshot-accepter__meta container"},d.createElement(H.o,{resultId:r.parentId,qa:"meta-info"})),d.createElement("hr",{className:"tab__separator"})):null}}]),r}(d.Component);(0,c.Z)(q,"propTypes",{showMeta:l().bool.isRequired,image:l().shape({parentId:l().string})});var Y=r(24805),K=r(82806),J=r(89288),X=r(81845);function Q(e){var t=$();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}var ee=function(e){(0,i.Z)(r,e);var t=Q(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_renderImages",value:function(){var e=this.props.image;return d.createElement("div",{className:"image-box__container"},(0,K.S5)(e.error)?this._renderImageBox(e.actualImg):d.createElement(Y.Z,{image:e}))}},{key:"_renderImageBox",value:function(e){return d.createElement(X.w,{image:e})}},{key:"_renderTitle",value:function(){var e=this.props,t=e.testName,r=e.browserName,n=e.image,a=n.stateName,i=n.parentId,s=n.error,o=(0,K.S5)(s)?"actual":"expected, actual, diff";return d.createElement("div",{className:"screenshot-accepter__title"},d.createElement("span",{className:"screenshot-accepter__test-name","data-qa":"screenshot-accepter-test-name"},t),d.createElement("span",{className:"screenshot-accepter__title-divider"},"/"),d.createElement("span",{className:"screenshot-accepter__browser-name"},r),d.createElement("span",{className:"screenshot-accepter__title-divider"},"/"),d.createElement("span",{className:"screenshot-accepter__state-name"},a),d.createElement("span",{className:"screenshot-accepter__images-desc"}," (",o,")"),d.createElement(J.Z,{extendClassNames:"screenshot-accepter__icon_view-in-browser",resultId:i}))}},{key:"render",value:function(){return d.createElement("div",{className:"screenshot-accepter__body container"},this.props.image?d.createElement(d.Fragment,null,this._renderTitle(),this._renderImages()):d.createElement("div",{className:"screenshot-accepter__completion-info"},"All screenshots are accepted. Well done! 🎉"))}}]),r}(d.Component);(0,c.Z)(ee,"propTypes",{image:l().shape({stateName:l().string.isRequired,expectedImg:l().object,actualImg:l().object,diffImg:l().object,error:l().object,parentId:l().string}),testName:l().string,browserName:l().string});const te=(0,S.connect)((function(e,t){var r=e.tree,n=t.image,a=n?r.results.byId[n.parentId]:{},i=n?r.browsers.byId[a.parentId]:{};return{testName:i.parentId,browserName:i.name}}))(ee);var re=r(69875),ne=r(41493),ae=r(79483);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e){var t=ce();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ce=function(){return!!e})()}var ue=function(e){(0,i.Z)(s,e);var t,r=oe(s);function s(e){var t;(0,n.Z)(this,s),t=r.call(this,e),(0,c.Z)((0,y.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,c.Z)((0,y.Z)(t),"onActiveImageChange",(function(e){var r=t._getActiveImages(e);t.setState({retryIndex:r.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,c.Z)((0,y.Z)(t),"onScreenshotAccept",function(){var e=(0,E.Z)(b().mark((function e(r){var n,a,i,s,o,c,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t._getActiveImages(),a=n[0].stateName,i=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===r}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(r,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(r,a);case 9:e.t0=e.sent;case 10:if(null!==(s=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[i],ind:i,imageId:s}),o=t.state.stateNameImageIds.filter((function(e,t){return t!==i})),!(0,w.isEmpty)(o)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:o,retryIndex:null}));case 17:c=Math.min(t.state.activeImageIndex,o.length-1),u=t._getActiveImages(c,o),t.setState({activeImageIndex:c,stateNameImageIds:o,retryIndex:u.length-1}),t._preloadAdjacentImages(c,o);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.Z)((0,y.Z)(t),"onScreenshotUndo",(0,E.Z)(b().mark((function e(){var r,n,a,i,s,o,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,w.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(r=t.state.stateNameImageIds,n=t.acceptedImages.pop(),a=n.stateNameImageId,i=n.ind,s=n.imageId,o=[].concat((0,h.Z)(r.slice(0,i)),[a],(0,h.Z)(r.slice(i))),c=t._getActiveImages(i,o),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[s],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:i,stateNameImageIds:o,retryIndex:c.length-1}),t._preloadAdjacentImages(i,o);case 15:case"end":return e.stop()}}),e)})))),(0,c.Z)((0,y.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,c.Z)((0,y.Z)(t),"onClose",(function(){if((0,w.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,w.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,c.Z)((0,y.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,i=a.image,o=a.activeImageIndex,u=a.stateNameImageIds,l=a.imagesByStateName,p=t._getActiveImages(o,u),f=(0,w.findIndex)(p,{id:i.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:u,activeImageIndex:o,retryIndex:f,showMeta:!1,disposables:{}},t.topRef=d.createRef(),t.totalImagesCount=(0,w.size)(l);for(var m=1;m<=3;m++)t._preloadAdjacentImages(o,u,m);return t.analytics=t.context,t}return(0,a.Z)(s,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,w.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,E.Z)(b().mark((function e(t,r){var n,a,i,s,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(n=this.analytics)||void 0===n||n.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),i=(0,w.get)(a,"[0].images",[]),s=i.find((function(e){return e.stateName===r}))||{},o=s.id,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var r=this,n=this.props.stateNameImageIds.find((function(t){return r.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:n}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,w.size)(t);[(a+e-n)%a,(e+n)%a].filter((function(e){return e>=0})).forEach((function(e){var n=t[e],a=(0,w.last)(r.props.imagesByStateName[n]),i=a.expectedImg,s=a.actualImg,o=a.diffImg,c={};[i,s,o].filter(Boolean).forEach((function(e){var t=e.path,r=(0,ae.p)(t);c[t]=r})),r.setState({disposables:se(se({},r.state.disposables),c)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.staticImageAccepter,a=this.state,i=a.retryIndex,s=a.stateNameImageIds,o=a.activeImageIndex,c=a.showMeta,u=this._getActiveImages(),l=(0,w.isNumber)(i)?u[i]:null,p=this.totalImagesCount-s.length;return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.topRef}),d.createElement(z,{actions:t,view:r,images:u,stateNameImageIds:s,retryIndex:i,activeImageIndex:o,showMeta:c,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:p,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:n}),d.createElement(q,{showMeta:c,image:l}),d.createElement(te,{image:l}))}}]),s}(d.Component);(0,c.Z)(ue,"contextType",ne.f),(0,c.Z)(ue,"propTypes",{view:l().shape({diffMode:l().string.isRequired}),image:l().shape({id:l().string.isRequired,parentId:l().string.isRequired,stateName:l().string.isRequired}).isRequired,onClose:l().func.isRequired,imagesByStateName:l().object.isRequired,stateNameImageIds:l().arrayOf(l().string).isRequired,activeImageIndex:l().number.isRequired,staticImageAccepter:L.O$,actions:l().object.isRequired});const le=(0,S.connect)((function(e,t){var r=t.image,n=(0,re.getAcceptableImagesByStateName)(e),a=Object.keys(n),i=e.tree.results.byId[r.parentId].parentId,s="".concat(i," ").concat(r.stateName),o=a.indexOf(s),c=e.staticImageAccepter;return{view:e.view,imagesByStateName:n,stateNameImageIds:a,activeImageIndex:o,staticImageAccepter:c}}),(function(e){return{actions:(0,T.bindActionCreators)(O,e)}}))(ue);var de=r(93150);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const me=(0,S.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,T.bindActionCreators)(O,e)}}))((function(e){var t=e.toolName,r=e.staticImageAccepter,n=e.staticAccepterConfig,a=e.imagesById,i=e.actions,s="chore: update ".concat(t," screenshot references"),o=n.pullRequestUrl,c=(0,d.useRef)(null);(0,d.useEffect)((function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var u=(0,d.useMemo)((function(){return(0,L.Yo)(Object.values(r.acceptableImages),a,r.accepterDelayedImages)}),[r,a]),l=function(){var e=(0,E.Z)(b().mark((function e(){var t,r,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=c.current)||void 0===t?void 0:t.value)||s,a=fe(fe({},(0,w.pick)(n,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:r}),e.next=4,i.staticAccepterCommitScreenshot(u,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement(de.Zbd,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},d.createElement(de.xvT,null,"You are commiting ",u.length," images to Pull Request:"),d.createElement("br",null),d.createElement(de.rUS,{href:o,target:"_blank"},o),d.createElement("br",null),d.createElement("br",null),d.createElement("br",null),d.createElement(de.xvT,null,"Enter commit message:"),d.createElement(de.Kx8,{autoFocus:!0,defaultValue:s,controlRef:c,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),d.createElement("div",{className:"static-accepter-confirm__controls"},d.createElement(de.zxk,{className:"static-accepter-confirm__cancel",onClick:function(){i.staticAccepterCloseConfirm()}},"Cancel"),d.createElement(de.zxk,{view:"action",className:"static-accepter-confirm__confirm",onClick:l},"Commit")))}));var ve={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},33751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(9249),a=r(87371),i=r(45754),s=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(13583);function f(e){var t=m();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var v=function(e){(0,i.Z)(r,e);var t=f(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.resultIds,r=e.retryIndex,n=e.title,a=e.onChange;return t.length<=1?null:u.createElement("div",{className:"tab-switcher"},t.map((function(e,t){var i=t===r;return u.createElement(p.j,{key:e,resultId:e,isActive:i,title:n,onClick:function(){return a(t)}})})))}}]),r}(u.Component);(0,c.Z)(v,"propTypes",{resultIds:d().arrayOf(d().string).isRequired,retryIndex:d().number,title:d().string,onChange:d().func.isRequired})},24805:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(96234),a=r(93150),i=r(13980),s=r.n(i),o=r(2784),c=r(4792),u=r(73241),l=r(35682),d=r(74677),p=r(44049),f=r(7065),m=r(55476),v=r(50929),g=r(64714),h=r(58154),E=function(e){var t=e.image,r=e.diffMode,i=e.isScreenshotAccepterOpened,s=(0,o.useState)(r),c=(0,n.Z)(s,2),h=c[0],E=c[1];(0,o.useEffect)((function(){E(r)}),[r,E]);var y=function(e,t){return i?null:o.createElement("div",{className:"image-box__title"},"".concat(e," (").concat(t.size.width,"x").concat(t.size.height,")"))};return o.createElement(o.Fragment,null,!i&&o.createElement("div",{className:"diff-modes"},o.createElement(a.sMk,{value:h,onUpdate:E},o.createElement(a.tdY,{size:"m"},Object.values(u.nx).map((function(e){return o.createElement(a.OK9,{key:e.id,value:e.id},e.label)}))))),function(){var e=Object.assign({},t.expectedImg,{label:y("Expected",t.expectedImg)}),r=Object.assign({},t.actualImg,{label:y("Actual",t.actualImg)}),n=Object.assign({},t.diffImg,{label:y("Diff",t.diffImg),diffClusters:t.diffClusters});switch(h){case u.nx.ONLY_DIFF.id:return o.createElement(f._,{diff:n});case u.nx.SWITCH.id:return o.createElement(l.H,{expected:e,actual:r});case u.nx.SWIPE.id:return o.createElement(d.p,{expected:e,actual:r});case u.nx.ONION_SKIN.id:return o.createElement(p.n,{expected:e,actual:r});case u.nx.THREE_UP_SCALED.id:return o.createElement(v.P,{expected:e,actual:r,diff:n});case u.nx.THREE_UP_SCALED_TO_FIT.id:var a=i?"100cqh":"calc(100vh - 180px)";return o.createElement(m.g,{desiredHeight:a,expected:e,actual:r,diff:n});case u.nx.THREE_UP.id:default:return o.createElement(g.t,{expected:e,actual:r,diff:n})}}())};E.propTypes={image:s().shape({expectedImg:s().object.isRequired,actualImg:s().object.isRequired,diffImg:s().object.isRequired,diffClusters:s().array,size:s().shape({width:s().number,height:s().number})}).isRequired,diffMode:s().string,isScreenshotAccepterOpened:s().bool.isRequired};const y=(0,c.connect)((function(e){var t=e.modals;return{diffMode:e.view.diffMode,isScreenshotAccepterOpened:t.some((function(e){return e.id===h.types.SCREENSHOT_ACCEPTER}))}}))(E)},50243:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(96234),a=r(2784),i=r(76635),s=r(13980),o=r.n(s),c=r(51033),u=function(e){var t=e.children,r=(0,a.useState)(0),s=(0,n.Z)(r,2),o=s[0],u=s[1],l=o>10,d=(0,a.useCallback)((0,i.throttle)((function(){var e=function(e){return function(e){return e<10&&window.scrollY>30}(e)||function(e){return e>30&&window.scrollY<10}(e)};u((function(t){return e(t)?window.scrollY:t}))}),100),[u]);return(0,c.Z)("scroll",d),a.createElement("div",{className:"sticky-header sticky-header_".concat(l?"wrapped":"unwrapped")},a.createElement("div",{className:"sticky-header__wrap"}),a.createElement("div",{className:"sticky-header__content"},t))};u.propTypes={children:o().oneOfType([o().element,o().string])};const l=/^9(29|83)$/.test(r.j)?u:null},28165:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(7896),a=r(9249),i=r(87371),s=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(4792),p=r(18717),f=r(13980),m=r.n(f),v=r(76635),g=r(93150);function h(e){var t=E();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var y=function(e){(0,s.Z)(r,e);var t=h(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){document.body.classList.add("modal-open")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("modal-open")}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.children;return l.createElement(g.h_i,null,l.createElement("div",{className:t},r))}}]),r}(l.Component);y.propTypes={className:m().string,children:m().oneOfType([m().element,m().string])};const I=y;var b=r(32022),S=r(58154);function T(e){var t=w();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}var O=function(e){(0,s.Z)(r,e);var t=T(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.modals,r=e.actions;return(0,v.isEmpty)(t)?null:t.map((function(e){var t=e.id,a=e.type,i=e.className,s=e.data,o=void 0===s?{}:s,c=S[a];return l.createElement(I,{key:t,className:i},l.createElement(c,(0,n.Z)({},o,{onClose:function(){return r.closeModal({id:t})}})))}))}}]),r}(l.Component);(0,u.Z)(O,"propTypes",{modals:m().arrayOf(m().shape({id:m().string,type:m().string,className:m().string,data:m().object})).isRequired,actions:m().object.isRequired});const N=(0,d.connect)((function(e){return{modals:e.modals}}),(function(e){return{actions:(0,p.bindActionCreators)(b,e)}}))(O)},51033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2784);function a(e,t,r,a){var i=(0,n.useRef)(t);(0,n.useLayoutEffect)((function(){i.current=t}),[t]),(0,n.useEffect)((function(){var t=r&&r.current||window;if(t&&t.addEventListener){var n=function(e){return i.current(e)};return t.addEventListener(e,n,a),function(){t.removeEventListener(e,n,a)}}}),[e,r,a])}},57159:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(96234),a=r(2784),i=r(51033),s=r(31804);function o(e,t){var r=(0,a.useCallback)((function(){return s.rV(e,t)}),[e,t]),o=(0,a.useState)(r),c=(0,n.Z)(o,2),u=c[0],l=c[1],d=(0,a.useCallback)((function(t){var r=Object.assign(new Event("local-storage"),{key:e}),n=t instanceof Function?t(u):t;s.LS(e,n),l(n),window.dispatchEvent(r)}),[]);(0,a.useEffect)((function(){l(r())}),[]);var p=(0,a.useCallback)((function(t){t&&t.key===e&&l(r())}),[e,r]);return(0,i.Z)("storage",p),(0,i.Z)("local-storage",p),[u,d]}},97566:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES"}},48907:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(97566),a=function(e){return{type:n.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},32022:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeTestRetry:()=>x,changeViewMode:()=>g,closeModal:()=>L,closeSections:()=>S,collapseAll:()=>C,commitAcceptedImagesToTree:()=>Ve.GC,commitRevertedImagesToTree:()=>Ve.sP,createNotification:()=>c.sc,createNotificationError:()=>c.uX,deselectAll:()=>w,dismissNotification:()=>c.N5,expandAll:()=>O,expandErrors:()=>N,expandRetries:()=>_,finGuiReport:()=>Ne,finStaticReport:()=>_e,groupTestsByKey:()=>U,openModal:()=>j,processBegin:()=>Ce.$,processEnd:()=>Ce.E,revealTreeNode:()=>lt.o9,runAllTests:()=>Ae,runCustomGui:()=>u,runFailedTests:()=>De,runSuite:()=>Pe,runTest:()=>xe,selectAll:()=>T,selectBrowsers:()=>v,setAllTreeNodesState:()=>lt.Nu,setBackupSectionSizes:()=>lt.Qh,setBrowserFeatures:()=>pt,setCurrentGroupByExpression:()=>z,setCurrentHighlightStep:()=>lt.Gm,setCurrentSortByExpression:()=>Ye.Q,setCurrentStep:()=>lt.Bq,setCurrentTreeNode:()=>lt._r,setDiffMode:()=>qe,setGuiServerConnectionStatus:()=>G.o,setMatchCaseFilter:()=>f,setSectionExpandedState:()=>lt.$X,setSectionSizes:()=>lt.gM,setSortByDirection:()=>Ye.u,setStepsExpandedState:()=>lt.zE,setStrictMatchFilter:()=>lt.tF,setTreeNodeExpandedState:()=>lt.cI,setTreeViewMode:()=>lt.KW,setUseRegexFilter:()=>m,staticAccepterCloseConfirm:()=>st,staticAccepterCommitScreenshot:()=>ot,staticAccepterDelayScreenshot:()=>tt,staticAccepterOpenConfirm:()=>it,staticAccepterStageScreenshot:()=>nt,staticAccepterUndoDelayScreenshot:()=>rt,staticAccepterUnstageScreenshot:()=>at,staticAccepterUpdateCommitMessage:()=>ut,staticAccepterUpdateToolbarOffset:()=>ct,stopTests:()=>Le,suiteBegin:()=>Ge,testBegin:()=>Fe,testResult:()=>He,testsEnd:()=>Ue,thunkAcceptImages:()=>Ve.Ro,thunkFindSameDiffs:()=>B,thunkInitGuiReport:()=>Te,thunkInitStaticReport:()=>Oe,thunkRevertImages:()=>Ve.Ku,thunkRunAllTests:()=>Me,thunkRunCustomGuiAction:()=>l,thunkRunFailedTests:()=>Ze,thunkRunSuite:()=>ke,thunkRunTest:()=>je,thunkRunTests:()=>Re,thunkStopTests:()=>Be,thunkTestsEnd:()=>ze,toggleBrowserCheckbox:()=>M,toggleBrowserSection:()=>A,toggleGroupCheckbox:()=>Z,toggleLoading:()=>I,toggleStateResult:()=>b,toggleSuiteCheckbox:()=>D,toggleSuiteSection:()=>R,toggleTestsGroup:()=>k,updateBaseHost:()=>We,updateBottomProgressBar:()=>P,updateNameFilter:()=>p,visualChecksPageSetCurrentNamedImage:()=>dt});var n=r(34795),a=r(82841),i=r.n(a),s=r(87741),o=r(97566),c=r(48394),u=function(e){return{type:o.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},l=function(e){return function(){var t=(0,n.Z)(i().mark((function t(r){var n,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.sectionName,a=e.groupIndex,o=e.controlIndex,t.next=4,s.Z.post("/run-custom-gui-action",{sectionName:n,groupIndex:a,controlIndex:o});case 4:r(u(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r((0,c.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},d=r(94646),p=function(e){return{type:o.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},f=function(e){return{type:o.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},m=function(e){return{type:o.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},v=function(e){return(0,d.WI)(e.data),{type:o.Z.BROWSERS_SELECTED,payload:e}},g=function(e){return{type:o.Z.CHANGE_VIEW_MODE,payload:e}},h=r(76635),E=r.n(h),y=r(58154),I=function(e){return{type:o.Z.TOGGLE_LOADING,payload:e}},b=function(e){return{type:o.Z.TOGGLE_STATE_RESULT,payload:e}},S=function(e){return{type:o.Z.CLOSE_SECTIONS,payload:e}},T=function(){return{type:o.Z.SELECT_ALL}},w=function(){return{type:o.Z.DESELECT_ALL}},O=function(){return{type:o.Z.VIEW_EXPAND_ALL}},N=function(){return{type:o.Z.VIEW_EXPAND_ERRORS}},_=function(){return{type:o.Z.VIEW_EXPAND_RETRIES}},C=function(){return{type:o.Z.VIEW_COLLAPSE_ALL}},R=function(e){return{type:o.Z.TOGGLE_SUITE_SECTION,payload:e}},A=function(e){return{type:o.Z.TOGGLE_BROWSER_SECTION,payload:e}},M=function(e){return{type:o.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},D=function(e){return{type:o.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},Z=function(e){return{type:o.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},P=function(e){return{type:o.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},k=function(e){return{type:o.Z.TOGGLE_TESTS_GROUP,payload:e}},x=function(e){return{type:o.Z.CHANGE_TEST_RETRY,payload:e}},j=function(e){return{type:o.Z.OPEN_MODAL,payload:e}},L=function(e){return{type:o.Z.CLOSE_MODAL,payload:e}},B=function(e,t,r){return function(){var a=(0,n.Z)(i().mark((function n(a){var o,c,u,l,d;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(I({active:!0,content:"Find same diffs..."})),o=t.filter((function(t){return t.includes(r)&&t!==e})),c=[],n.prev=3,(0,h.isEmpty)(o)){n.next=13;break}return n.next=7,s.Z.post("/get-find-equal-diffs-data",[e].concat(o));case 7:if(u=n.sent,l=u.data,(0,h.isEmpty)(l)){n.next=13;break}return n.next=12,s.Z.post("/find-equal-diffs",l);case 12:c=n.sent.data;case 13:d=(0,h.difference)(t,[].concat(e,c)),(0,h.isEmpty)(d)||a(S(d)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),console.error("Error while trying to find equal diffs:",n.t0);case 20:return n.prev=20,a(I({active:!1})),a(j({id:y.types.FIND_SAME_DIFFS,type:y.types.FIND_SAME_DIFFS,data:{browserId:r,equalImages:c.length,comparedImages:o.length}})),n.finish(20);case 24:case"end":return n.stop()}}),n,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()},U=function(e){return{type:o.Z.GROUP_TESTS_BY_KEY,payload:e}},z=function(e){return{type:o.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}},G=r(48907),F=r(56666),H=r(53516),V=r(72161),W=r(33109),q=r(9249),Y=r(87371),K=r(45754),J=r(11987),X=r(95058),Q=r(68079),$=r(82806),ee=r(73241),te=function(){function e(t){(0,q.Z)(this,e),this._options=t}return(0,Y.Z)(e,[{key:"transform",value:function(e){var t,r,n,a,i,s=(0,$.zV)(e.url,this._options.baseHost),o=E().merge(E().cloneDeep(e.meta),{url:null!==(t=null!==(r=null===(n=e.meta)||void 0===n?void 0:n.url)&&void 0!==r?r:s)&&void 0!==t?t:"",file:e.file,sessionId:e.sessionId}),c=E().omitBy(o,E().isEmpty);return{suitePath:e.testPath,suiteName:E().last(e.testPath),name:e.browserId,suiteUrl:s,metaInfo:c,history:e.history,description:e.description,error:(0,$.by)(e.error),skipReason:e.skipReason,imagesInfo:null!==(a=e.imagesInfo)&&void 0!==a?a:[],screenshot:Boolean(e.screenshot),multipleTabs:e.multipleTabs,status:e.status,timestamp:null!==(i=e.timestamp)&&void 0!==i?i:Date.now(),duration:e.duration,attachments:e.attachments}}}]),e}();function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,F.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(){function e(t){(0,q.Z)(this,e),this._transformer=new te(t)}return(0,Y.Z)(e,[{key:"transform",value:function(e){var t=this._transformer.transform(e);return ne(ne({},E().omit(t,"imagesInfo")),{},{attempt:e.attempt,errorDetails:e.errorDetails})}}]),e}();function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,F.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,q.Z)(this,e),this._transformer=new ae(t),this._tree={suites:{byId:{},allIds:[],allRootIds:[]},browsers:{byId:{},allIds:[]},results:{byId:{},allIds:[]},images:{byId:{},allIds:[]}}}return(0,Y.Z)(e,[{key:"tree",get:function(){return this._tree}},{key:"sortTree",value:function(){var e=this;this._tree.suites.allRootIds.sort().forEach((function t(r){var n=e._tree.suites.byId[r];n.suiteIds&&n.suiteIds.sort().forEach(t),n.browserIds&&n.browserIds.sort()}))}},{key:"addTestResult",value:function(e){var t=this,r=e.testPath,n=e.browserId,a=e.attempt,i=e.imagesInfo,s=void 0===i?[]:i,o=e.meta.browserVersion,c=void 0===o?ee.eb.UNKNOWN:o,u=this._buildId(r),l=this._buildId(u,n),d=this._buildId(l,a.toString()),p=s.map((function(e,r){return t._buildId(d,e.stateName||"".concat(e.status,"_").concat(r))}));this._addSuites(r,l),this._addBrowser({id:l,parentId:u,name:n,version:c},d,a),this._addResult({id:d,parentId:l,result:e},p),this._addImages(p,{imagesInfo:s,parentId:d}),this._setStatusForBranch(r)}},{key:"_buildId",value:function(){return[].concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).join(ee.Nv)}},{key:"_addSuites",value:function(e,t){var r=this;e.reduce((function(e,n,a,i){var s=0===a,o=s?[n]:i.slice(0,a+1),c=r._buildId(o);if(!e.byId[c]){var u={id:c,parentId:s?null:r._buildId(o.slice(0,-1)),name:n,suitePath:o,root:s};r._addSuite(u)}if(a!==i.length-1){var l=r._buildId(c,i[a+1]);r._addNodeId(c,l,{fieldName:"suiteIds"})}else r._addNodeId(c,t,{fieldName:"browserIds"});return e}),this._tree.suites)}},{key:"_addSuite",value:function(e){var t=this._tree.suites;t.byId[e.id]=e,t.allIds.push(e.id),e.root&&t.allRootIds.push(e.id)}},{key:"_addNodeId",value:function(e,t,r){var n,a=r.fieldName,i=this._tree.suites;i.byId[e][a]?this._isNodeIdExists(e,t,{fieldName:a})||null===(n=i.byId[e][a])||void 0===n||n.push(t):i.byId[e][a]=[t]}},{key:"_isNodeIdExists",value:function(e,t,r){var n=r.fieldName;return E().includes(this._tree.suites.byId[e][n],t)}},{key:"_addBrowser",value:function(e,t,r){var n=e.id,a=e.parentId,i=e.name,s=e.version,o=this._tree.browsers;o.byId[n]||(o.byId[n]={id:n,parentId:a,name:i,resultIds:[],version:s},o.allIds.push(n)),this._addResultIdToBrowser(n,t,r)}},{key:"_addResultIdToBrowser",value:function(e,t,r){this._tree.browsers.byId[e].resultIds[r]=t}},{key:"_addResult",value:function(e,t){var r=e.id,n=e.parentId,a=e.result,i=this._transformer.transform(a);this._tree.results.byId[r]||this._tree.results.allIds.push(r),this._tree.results.byId[r]=se(se({attempt:0,id:r,parentId:n},i),{},{imageIds:t})}},{key:"_addImages",value:function(e,t){var r=this,n=t.imagesInfo,a=t.parentId;e.forEach((function(e,t){r._tree.images.byId[e]=se(se({},n[t]),{},{id:e,parentId:a}),r._tree.images.allIds.push(e)}))}},{key:"_setStatusForBranch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this._buildId(t);if(r){var n=this._tree.suites.byId[r],a=E().compact([].concat(n.browserIds)).map((function(t){var r=e._tree.browsers.byId[t],n=E().last(r.resultIds);return e._tree.results.byId[n].status})),i=E().compact([].concat(n.suiteIds)).map((function(t){return e._tree.suites.byId[t].status})),s=(0,$.EX)(E().compact([].concat((0,Q.Z)(a),(0,Q.Z)(i))));n.status!==s&&(n.status=s||void 0,this._setStatusForBranch(t.slice(0,-1)))}}}],[{key:"create",value:function(){return new this(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}]),e}(),ce=function(e){try{return JSON.parse(e)}catch(e){return}},ue=function(){function e(t,r){(0,q.Z)(this,e),this._testResult=t,this._parsedTestResult={attempt:r}}return(0,Y.Z)(e,[{key:"assertViewResults",get:function(){return[]}},{key:"attempt",get:function(){return this._parsedTestResult.attempt}},{key:"browserId",get:function(){return this._testResult[ee.He.name]}},{key:"description",get:function(){var e;return null!==(e=this._testResult[ee.He.description])&&void 0!==e?e:void 0}},{key:"error",get:function(){return E().has(this._parsedTestResult,"error")||(this._parsedTestResult.error=ce(this._testResult[ee.He.error])),this._parsedTestResult.error}},{key:"errorDetails",get:function(){return null}},{key:"file",get:function(){var e;return E().has(this._parsedTestResult,"meta")||(this._parsedTestResult.meta=ce(this._testResult[ee.He.metaInfo])),null===(e=this._parsedTestResult.meta)||void 0===e?void 0:e.file}},{key:"fullName",get:function(){return E().has(this._parsedTestResult,"fullName")||(this._parsedTestResult.fullName=this.testPath.join(ee.Nv)),this._parsedTestResult.fullName}},{key:"history",get:function(){return E().has(this._parsedTestResult,"history")||(this._parsedTestResult.history=ce(this._testResult[ee.He.history])),this._parsedTestResult.history}},{key:"id",get:function(){return this.testPath.concat(this.browserId,this.attempt.toString()).join(" ")}},{key:"imageDir",get:function(){return(0,$.Lg)(this)}},{key:"imagesInfo",get:function(){return E().has(this._parsedTestResult,"imagesInfo")||(this._parsedTestResult.imagesInfo=ce(this._testResult[ee.He.imagesInfo])),this._parsedTestResult.imagesInfo}},{key:"meta",get:function(){var e;E().has(this._parsedTestResult,"meta")||(this._parsedTestResult.meta=null!==(e=ce(this._testResult[ee.He.metaInfo]))&&void 0!==e?e:{});return this._parsedTestResult.meta}},{key:"multipleTabs",get:function(){return Boolean(this._testResult[ee.He.multipleTabs])}},{key:"screenshot",get:function(){var e;return null===(e=this.error)||void 0===e?void 0:e.screenshot}},{key:"sessionId",get:function(){var e;return E().has(this._parsedTestResult,"meta")||(this._parsedTestResult.meta=ce(this._testResult[ee.He.metaInfo])),null===(e=this._parsedTestResult.meta)||void 0===e?void 0:e.sessionId}},{key:"skipReason",get:function(){return this._testResult[ee.He.skipReason]}},{key:"state",get:function(){return{name:this.testPath.at(-1)}}},{key:"status",get:function(){return this._testResult[ee.He.status]}},{key:"testPath",get:function(){return E().has(this._parsedTestResult,"testPath")||(this._parsedTestResult.testPath=ce(this._testResult[ee.He.suitePath])),this._parsedTestResult.testPath}},{key:"timestamp",get:function(){return Number(this._testResult[ee.He.timestamp])}},{key:"url",get:function(){return this._testResult[ee.He.suiteUrl]}},{key:"duration",get:function(){return this._testResult[ee.He.duration]}},{key:"attachments",get:function(){return E().has(this._parsedTestResult,"attachments")||(this._parsedTestResult.attachments=ce(this._testResult[ee.He.attachments])),this._parsedTestResult.attachments}}]),e}();function le(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return de(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,F.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e){var t=ve();return function(){var r,n=(0,X.Z)(e);if(t){var a=(0,X.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,J.Z)(this,r)}}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}var ge=function(e){(0,K.Z)(r,e);var t=me(r);function r(e){var n;return(0,q.Z)(this,r),(n=t.call(this,e))._stats=fe(fe({},{total:0,passed:0,failed:0,skipped:0,retries:0}),{},{perBrowser:{}}),n._skips=[],n._failedTestIds={},n._passedTestIds={},n._skippedTestIds={},n}return(0,Y.Z)(r,[{key:"build",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=new Map,n={},a=le(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,s=JSON.parse(i[ee.He.suitePath]),o=i[ee.He.name],c=this._buildId(s),u=this._buildId(c,o);r.set(u,r.has(u)?r.get(u)+1:0);var l=r.get(u),d=new ue(i,l);he(n,d),this.addTestResult(d),this._calcStats(d,{testId:c,browserName:o})}}catch(e){a.e(e)}finally{a.f()}return this.sortTree(),{tree:this.tree,stats:this._stats,skips:this._skips,browsers:E().map(n,(function(e,t){return{id:t,versions:Array.from(e)}}))}}},{key:"_addResultIdToBrowser",value:function(e,t){this._tree.browsers.byId[e].resultIds.push(t)}},{key:"_calcStats",value:function(e,t){var r=t.testId,n=t.browserName,a=this._buildId(r,n),i=e.status,s=e.meta.browserVersion||ee.eb.UNKNOWN;switch(this._stats.perBrowser[n]||(this._stats.perBrowser[n]={}),this._stats.perBrowser[n][s]||(this._stats.perBrowser[n][s]={total:0,passed:0,failed:0,skipped:0,retries:0}),i){case ee.ih.FAIL:case ee.ih.ERROR:return this._passedTestIds[a]?(delete this._passedTestIds[a],this._failedTestIds[a]=!0,this._stats.passed--,this._stats.failed++,this._stats.retries++,this._stats.perBrowser[n][s].passed--,this._stats.perBrowser[n][s].failed++,void this._stats.perBrowser[n][s].retries++):this._failedTestIds[a]?(this._stats.retries++,void this._stats.perBrowser[n][s].retries++):this._skippedTestIds[a]?(delete this._skippedTestIds[a],this._failedTestIds[a]=!0,this._stats.skipped--,this._stats.failed++,this._stats.retries++,this._stats.perBrowser[n][s].skipped--,this._stats.perBrowser[n][s].failed++,void this._stats.perBrowser[n][s].retries++):(this._failedTestIds[a]=!0,this._stats.failed++,this._stats.total++,this._stats.perBrowser[n][s].failed++,void this._stats.perBrowser[n][s].total++);case ee.ih.SUCCESS:return this._passedTestIds[a]?(this._stats.retries++,void this._stats.perBrowser[n][s].retries++):this._failedTestIds[a]?(delete this._failedTestIds[a],this._passedTestIds[a]=!0,this._stats.failed--,this._stats.passed++,this._stats.retries++,this._stats.perBrowser[n][s].failed--,this._stats.perBrowser[n][s].passed++,void this._stats.perBrowser[n][s].retries++):this._skippedTestIds[a]?(delete this._skippedTestIds[a],this._passedTestIds[a]=!0,this._stats.skipped--,this._stats.passed++,this._stats.retries++,this._stats.perBrowser[n][s].skipped--,this._stats.perBrowser[n][s].passed++,void this._stats.perBrowser[n][s].retries++):(this._passedTestIds[a]=!0,this._stats.passed++,this._stats.total++,this._stats.perBrowser[n][s].passed++,void this._stats.perBrowser[n][s].total++);case ee.ih.SKIPPED:if(this._failedTestIds[a])return delete this._failedTestIds[a],this._skippedTestIds[a]=!0,this._stats.failed--,this._stats.skipped++,this._stats.retries++,this._stats.perBrowser[n][s].failed--,this._stats.perBrowser[n][s].skipped++,this._stats.perBrowser[n][s].retries++,void this._skips.push({browser:n,suite:r,comment:e.skipReason});if(this._passedTestIds[a])return delete this._passedTestIds[a],this._skippedTestIds[a]=!0,this._stats.passed--,this._stats.skipped++,this._stats.retries++,this._stats.perBrowser[n][s].passed--,this._stats.perBrowser[n][s].skipped++,this._stats.perBrowser[n][s].retries++,void this._skips.push({browser:n,suite:r,comment:e.skipReason});if(this._skippedTestIds[a])return this._stats.retries++,void this._stats.perBrowser[n][s].retries++;this._skippedTestIds[a]=!0,this._skips.push({browser:n,suite:r,comment:e.skipReason}),this._stats.skipped++,this._stats.perBrowser[n][s].skipped++,this._stats.total++,this._stats.perBrowser[n][s].total++}}}]),r}(oe);function he(e,t){var r=t.browserId;e[r]||(e[r]=new Set);var n=t.meta.browserVersion,a=void 0===n?ee.eb.UNKNOWN:n;e[r].add(a)}var Ee=r(24298),ye=r(31804),Ie=r(32444);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,F.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isNewUi;return function(){var t=(0,n.Z)(i().mark((function t(r){var n,a,u,l,d,p,f,m,v,g,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(n=performance)||void 0===n||null===(a=n.mark)||void 0===a||a.call(n,H.Z.JS_EXEC),t.prev=1,t.next=4,s.Z.get("/init");case 4:if((f=t.sent).data){t.next=7;break}throw new Error("Could not load app data. The report might be broken. Please check your project settings or try deleting results folder and relaunching UI server.");case 7:if(!f.data.features.some((function(e){return e.name===ee.qW.name}))){t.next=11;break}return m=Boolean(ye.rV(Ee.Fe.TimeTravelUseRecommendedSettings,!0)),t.next=11,(0,Ie.r)({useRecommendedSettings:m});case 11:return v=(0,V.pU)(),t.next=14,(0,V.vO)(v.href);case 14:return g=t.sent,null===(u=performance)||void 0===u||null===(l=u.mark)||void 0===l||l.call(u,H.Z.DBS_LOADED),t.next=18,W.GZ(f.data.config);case 18:null===(d=performance)||void 0===d||null===(p=d.mark)||void 0===p||p.call(d,H.Z.PLUGINS_LOADED),r((i=Se(Se({},f.data),{},{db:g,isNewUi:e}),{type:o.Z.INIT_GUI_REPORT,payload:i})),f.data.customGuiError&&(h=f.data.customGuiError,r((0,c.uX)("initGuiReport",{name:"CustomGuiError",message:null==h?void 0:h.response.data})),delete f.data.customGuiError),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),r((0,c.uX)("initGuiReport",t.t0));case 26:case"end":return t.stop()}var i}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return{type:o.Z.INIT_STATIC_REPORT,payload:e}},Oe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isNewUi;return function(){var t=(0,n.Z)(i().mark((function t(r){var n,a,s,u,l,d,p,f,m,v,g,E,y,I,b,S,T,w,O,N,_,C,R;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(n=performance)||void 0===n||null===(a=n.mark)||void 0===a||a.call(n,H.Z.JS_EXEC),p=window.data||{},f=[],m=null,t.prev=4,I=new URL("databaseUrls.json",window.location.href),t.next=8,(0,V.fB)([I.href],(function(e,t){r({type:o.Z.UPDATE_LOADING_PROGRESS,payload:(0,F.Z)({},e,t)})}));case 8:return b=t.sent,null===(v=performance)||void 0===v||null===(g=v.mark)||void 0===g||g.call(v,H.Z.DBS_LOADED),W.sy(p.config),f=b.map((function(e){return{url:e.url,status:e.status,success:!!e.data}})),S=b.map((function(e){return e.data})).filter((function(e){return e})),t.next=15,(0,V.By)(S);case 15:m=t.sent,null===(E=performance)||void 0===E||null===(y=E.mark)||void 0===y||y.call(E,H.Z.DBS_MERGED),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),r((0,c.uX)("thunkInitStaticReport",t.t0));case 22:return t.next=24,W.GZ(p.config);case 24:if(null===(s=performance)||void 0===s||null===(u=s.mark)||void 0===u||u.call(s,H.Z.PLUGINS_LOADED),T=ge.create(),m&&!(0,h.isEmpty)(f)){t.next=29;break}return r(we(Se(Se({},p),{},{db:m,fetchDbDetails:f,tree:T.build([]).tree,stats:null,skips:[],browsers:[],isNewUi:e}))),t.abrupt("return");case 29:w=(0,V.xH)(m),null===(l=performance)||void 0===l||null===(d=l.mark)||void 0===d||d.call(l,H.Z.DB_EXTRACTED_ROWS),O=T.build(w),N=O.tree,_=O.stats,C=O.skips,R=O.browsers,r(we(Se(Se({},p),{},{db:m,fetchDbDetails:f,tree:N,stats:_,skips:C,browsers:R,isNewUi:e})));case 33:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(e){return t.apply(this,arguments)}}()},Ne=function(){return{type:o.Z.FIN_GUI_REPORT}},_e=function(){return{type:o.Z.FIN_STATIC_REPORT}},Ce=r(84787),Re=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tests,t=void 0===e?[]:e;return(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/run",t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error while running tests:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},Ae=function(){return{type:o.Z.RUN_ALL_TESTS}},Me=function(){return function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ae()),e.next=3,t(Re());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=function(){return{type:o.Z.RUN_FAILED_TESTS}},Ze=function(e){var t=e.tests;return function(){var e=(0,n.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(De()),e.next=3,r(Re({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Pe=function(){return{type:o.Z.RETRY_SUITE}},ke=function(e){var t=e.tests;return function(){var e=(0,n.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Pe()),e.next=3,r(Re({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xe=function(){return{type:o.Z.RETRY_TEST}},je=function(e){var t=e.test;return function(){var e=(0,n.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(xe()),e.next=3,r(Re({tests:[t]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Le=function(){return{type:o.Z.STOP_TESTS}},Be=function(){return function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/stop");case 3:t(Le()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error while stopping tests:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},Ue=function(e){return{type:o.Z.TESTS_END,payload:e}},ze=function(){return function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,V.pU)(),e.next=4,(0,V.vO)(r.href);case 4:n=e.sent,t(Ue({db:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((0,c.uX)("testsEnd",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Ge=function(e){return{type:o.Z.SUITE_BEGIN,payload:e}},Fe=function(e){return{type:o.Z.TEST_BEGIN,payload:e}},He=function(e){return{type:o.Z.TEST_RESULT,payload:e}},Ve=r(54432),We=function(e){return{type:o.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},qe=function(e){return{type:o.Z.SET_DIFF_MODE,payload:e}},Ye=r(58311),Ke=r(19456),Je=r.n(Ke),Xe=r(14054),Qe=r(78272);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,F.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt=function(e){return{type:o.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},rt=function(){return{type:o.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},nt=function(e){return{type:o.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},at=function(e){return{type:o.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},it=function(){return j({id:y.types.STATIC_ACCEPTER_CONFIRM,type:y.types.STATIC_ACCEPTER_CONFIRM})},st=function(){return L({id:y.types.STATIC_ACCEPTER_CONFIRM})},ot=function(e,t){var r=t.repositoryUrl,a=t.pullRequestUrl,u=t.serviceUrl,l=t.message,d=t.axiosRequestOptions,p=void 0===d?{}:d,f=t.meta;return function(){var t=(0,n.Z)(i().mark((function t(d){var m,v,g,E,y,I,b,S;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d({type:o.Z.PROCESS_BEGIN}),d(st()),d({type:o.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),d({type:o.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),d({type:o.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(m=new FormData).append("repositoryUrl",r),m.append("pullRequestUrl",a),m.append("message",l),(0,h.isEmpty)(f)||m.append("meta",JSON.stringify(f)),v=new(Je())({concurrency:256}),g=i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.add((0,n.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Xe.Ow)(e[r].image);case 2:n=t.sent,m.append("image",n,e[r].path),d({type:o.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(r+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),E=0;case 14:if(!(E<e.length)){t.next=19;break}return t.delegateYield(g(E),"t0",16);case 16:E++,t.next=14;break;case 19:return t.next=21,v.onIdle();case 21:return d({type:o.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,s.Z.post(u,m,et(et({},p),{},{onUploadProgress:function(e){var t;d({type:o.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(y=t.sent,I=e.map((function(e){return e.id})),b=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(y.status>=200&&y.status<400)){t.next=35;break}d({type:o.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:I}),(0,Qe.AM)(b),d({type:o.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),d({type:o.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),d((0,c.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw S=["Unexpected status code from the service: ".concat(y.status,"."),"Server response: '".concat(y.data,"'")].join("\n"),new Error(S);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),d((0,c.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,d({type:o.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),d({type:o.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},ct=function(e){return{type:o.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},ut=function(e){return{type:o.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}},lt=r(40554),dt=function(e){return{type:o.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:{namedImageId:e}}},pt=function(e){return{type:o.Z.SET_BROWSER_FEATURES,payload:e}}},48394:(e,t,r)=>{"use strict";r.d(t,{N5:()=>a.N5,sc:()=>c,uX:()=>u});var n=r(56666),a=r(78505),i=r(14054);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},n);return(0,a.h4)(o({id:e,status:t,message:r},i))},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return c(e,"error",(0,i.ML)(t),r)}},84787:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,E:()=>i});var n=r(97566),a=function(){return{type:n.Z.PROCESS_BEGIN}},i=function(){return{type:n.Z.PROCESS_END}}},54432:(e,t,r)=>{"use strict";r.d(t,{GC:()=>l,Ku:()=>f,Ro:()=>d,sP:()=>p});var n=r(34795),a=r(82841),i=r.n(a),s=r(87741),o=r(97566),c=r(84787),u=r(48394),l=function(e){return{type:o.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},d=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(i().mark((function e(r){var n,o,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,s.Z.post("/reference-data-to-update",t);case 4:return n=e.sent,o=n.data,e.next=8,s.Z.post("/update-reference",o);case 8:return d=e.sent,p=d.data,a&&r(l(p)),r((0,c.E)()),e.abrupt("return",p);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),r((0,u.uX)("acceptScreenshot",e.t0)),r((0,c.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return{type:o.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},f=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(i().mark((function e(r){var n,o,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,s.Z.post("/reference-data-to-update",t);case 4:return n=e.sent,o=n.data,e.next=8,s.Z.post("/undo-accept-images",o);case 8:l=e.sent,d=l.data,a&&r(p(d)),r((0,c.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),r((0,u.uX)("undoScreenshot",e.t0)),r((0,c.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},58311:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a,u:()=>i});var n=r(97566),a=function(e){return{type:n.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},i=function(e){return{type:n.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},40554:(e,t,r)=>{"use strict";r.d(t,{$X:()=>l,Bq:()=>i,Gm:()=>s,KW:()=>p,Nu:()=>c,Qh:()=>m,_r:()=>a,cI:()=>o,gM:()=>f,o9:()=>u,tF:()=>v,zE:()=>d});var n=r(97566),a=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},i=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},s=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},o=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},c=function(e){return{type:n.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},u=function(e){return{type:n.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},l=function(e){return{type:n.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},d=function(e){return{type:n.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},p=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},f=function(e){return{type:n.Z.PAGE_SET_SECTION_SIZES,payload:e}},m=function(e){return{type:n.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},v=function(e){return{type:n.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},31804:(e,t,r)=>{"use strict";r.d(t,{LS:()=>i,rV:()=>s});var n="html-reporter";function a(e){return"".concat(n,":").concat(e)}function i(e,t){window.localStorage.setItem(a(e),JSON.stringify(t))}function s(e,t){if(!function(e){return window.localStorage.hasOwnProperty(a(e))}(e))return t;var r=window.localStorage.getItem(a(e));try{return JSON.parse(r)}catch(e){return r}}},33109:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>V,U2:()=>W,xj:()=>q,GZ:()=>F,sy:()=>G});var n={};r.r(n),r.d(n,{stats:()=>w,tree:()=>O,view:()=>N});var a=r(68079),i=r(34795),s=r(82841),o=r.n(s),c=r(2784),u=r(18717),l=r(4792),d=r(76635),p=r.n(d),f=r(13980),m=r.n(f),v=r(72779),g=r.n(v),h=r(84780),E=r(88100),y=r.n(E),I=r(90408),b=r(15729),S=r(97698),T=r(87741),w=r(47039),O=r(69875),N=r(51869),_=r(97566),C=r(922),R={react:c,redux:u,"react-redux":l,lodash:p(),"prop-types":m(),classnames:g(),"semantic-ui-react":h,"react-markdown":y(),"reduce-reducers":I.Z,immer:b.ZP,reselect:S,axios:T.Z,components:{Details:C.Z}},A={},M={},D=function(e){return"plugins/".concat(encodeURIComponent(e),"/plugin.js")};function Z(e,t){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M[t]){e.next=2;break}return e.abrupt("return",M[t]);case 2:return n=A[t]||L(t),e.abrupt("return",M[t]=n.then(j).then((function(e){return k(e,t,r)})).then(null,(function(e){return console.error('Plugin "'.concat(t,'" failed to load.'),e),null})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,r){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(o().mark((function e(t,i,s){var c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p().isObject(t)){e.next=3;break}return e.abrupt("return",null);case 3:if("function"==typeof(t=t.default||t)&&(t=[t]),!Array.isArray(t)){e.next=13;break}return c=t.slice(0,-1),t=p().last(t),u=c.map((function(e){return R[e]})),e.next=11,Promise.resolve().then(r.bind(r,32022));case 11:return l=e.sent,e.abrupt("return",t.apply(void 0,(0,a.Z)(u).concat([{pluginName:i,pluginConfig:s,actions:l,actionNames:_.Z,selectors:n}])));case 13:return e.abrupt("return",t);case 16:return e.prev=16,e.t0=e.catch(0),console.error('Error on "'.concat(i,'" plugin initialization:'),e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function j(e){var t=function(e){return"function __".concat(e,"_html_reporter_register_plugin__(p) {return p;};")};return new Function("".concat(t("testplane")," ").concat(t("hermione")," return ").concat(e,";"))()}function L(e){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,T.Z.get(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=Object.create(null),z=[];function G(e){e&&e.pluginsEnabled&&Array.isArray(e.plugins)&&e.plugins.forEach((function(e){return t=e.name,void(A[t]=A[t]||L(t));var t}))}function F(e){return H.apply(this,arguments)}function H(){return H=(0,i.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.pluginsEnabled&&Array.isArray(t.plugins)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(t.plugins.map(function(){var e=(0,i.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t.name,t.config);case 2:if(!(r=e.sent)){e.next=6;break}return U[t.name]=r,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=e.sent,z.push.apply(z,(0,a.Z)(r.filter(Boolean)));case 6:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function V(e){var t=new Set;z.forEach((function(r){var n=r.name;if(!t.has(n)){t.add(n);try{e(U[n],n)}catch(e){console.error('Error on "'.concat(n,'" plugin iteration:'),e)}}}))}function W(e,t){var r=U[e];if(!r)throw new Error('Plugin "'.concat(e,'" is not loaded.'));if(!r[t])throw new Error('"'.concat(t,'" is not defined on plugin "').concat(e,'".'));return U[e][t]}function q(){return z}},94646:(e,t,r)=>{"use strict";r.d(t,{V$:()=>l,WI:()=>d,mB:()=>o,ru:()=>c});var n=r(96234),a=r(19126),i=r.n(a),s=r(76635);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),i().parse(e,{decoder:function(e,r,n,a){if("key"===a){var i=r(e,null,n);return t[i]?t[i]:i}var s=r(e,null,n);return"true"===s||"false"!==s&&(s&&!isNaN(s)?Number(s):s)}})):{}}function c(e,t){var r=new URL(e),n=r.search||"",a=(0,s.assign)(i().parse(n.slice(1)),t);return r.search=i().stringify(a,{arrayFormat:"repeat"}),r.href}function u(e){return e.map((function(e){var t=e.id,r=e.versions,n=encodeURIComponent(t);if((0,s.isEmpty)(r))return n;var a=r.map(encodeURIComponent).join(",");return"".concat(n,":").concat(a)}))}function l(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),r=(0,n.Z)(t,2),a=r[0],i=r[1],o=(void 0===i?"":i).split(",").map(decodeURIComponent);return{id:decodeURIComponent(a),versions:(0,s.compact)(o)}}))}function d(e){var t=c(window.location.href,{browser:u(e)});window.history.pushState(null,null,t)}},36666:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(97698),a=r(51869),i=r(14054),s=(0,n.createSelector)(a.getKeyToGroupTestsBy,(function(e){return e?(0,i.An)(e):[]}))},47039:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getStatsFilteredByBrowsers:()=>s});var n=r(97698),a=r(76635),i=r(51869),s=(0,n.createSelector)((function(e){return e.stats}),i.getFilteredBrowsers,(function(e,t){if((0,a.isEmpty)(t)||(0,a.isEmpty)(e.perBrowser))return e.all;var r={},n=t.map((function(t){var r=t.id,n=t.versions;return(0,a.isEmpty)(n)?(0,a.keys)(e.perBrowser[r]).map((function(t){return e.perBrowser[r][t]})):n.map((function(t){return e.perBrowser[r][t]}))}));return(0,a.flatten)(n).forEach((function(e){(0,a.forEach)(e,(function(e,t){r[t]=void 0===r[t]?e:r[t]+e}))})),r}))},69875:(e,t,r)=>{"use strict";r.r(t),r.d(t,{areAllRootSuitesIdle:()=>U,getAcceptableImagesByStateName:()=>y,getAcceptableOpenedImageIds:()=>w,getCheckedTests:()=>E,getFailedOpenedImageIds:()=>O,getFailedSuiteResults:()=>x,getFailedTests:()=>h,getSelectedBrowserIds:()=>_,getSelectedImages:()=>A,getSuiteResults:()=>D,getVisibleBrowserIds:()=>N,getVisibleImages:()=>R,getVisibleRootSuiteIds:()=>M,mkGetLastImageByStateName:()=>g,mkGetTestsBySuiteId:()=>v});var n=r(76635),a=r(97698),i=r(37487),s=r(82806),o=r(14054),c=r(40645),u=r(8776),l=function(e){return e.tree.suites.stateById},d=function(e){return e.tree.browsers.allIds},p=function(e){return e.tree.browsers.stateById},f=function(e,t){var r=t.suiteId;return e.tree.suites.byId[r]},m=function(e,t){var r=t.imageId;return e.tree.images.byId[r]},v=function(){return(0,a.createSelector)(f,c.Bl,c.TZ,(function(e,t,r){return P(e,{suites:t,browsers:r}).map((function(e){return{testName:e.parentId,browserName:e.name}}))}))},g=function(){return(0,a.createSelector)(m,c.TZ,c.O7,c.Jx,L)},h=(0,a.createSelector)(c.Bl,c.TZ,c.O7,(function(e){return e.tree.suites.failedRootIds}),(function(e,t,r,a){return(0,n.flatMap)(a,(function(a){return D(e[a],{suites:e,browsers:t,results:r},n.last)})).filter((function(e){return(0,o.D8)(e)})).map((function(e){var r=e.parentId,n=t[r];return{testName:n.parentId,browserName:n.name,metaInfo:e.metaInfo}}))})),E=(0,a.createSelector)(d,c.TZ,p,(function(e,t,r){return e.filter((function(e){return r[e].checkStatus})).map((function(e){return{testName:t[e].parentId,browserName:t[e].name}}))})),y=(0,a.createSelector)(p,c.TZ,c.O7,c.Jx,(function(e,t,r,a){var i=function(e){var n=B(e,t,r);return{suiteId:n.parentId,browserName:n.name}},s=Object.keys(e).filter((function(t){return e[t].shouldBeShown})).map((function(e){return t[e]}));return(0,n.flatMap)(s,(function(e){return k(e,{results:r,images:a})})).filter(o.h3).sort((function(e,t){var r=i(e),n=r.suiteId,a=r.browserName,s=i(t),o=s.suiteId,c=s.browserName,u=n.localeCompare(o);return 0===u?a.localeCompare(c):u})).reduce((function(e,n){var i=L(n,t,r,a);if((0,o.F7)(i))return e;var s=r[n.parentId],c="".concat(s.parentId," ").concat(n.stateName);return e[c]?e[c].push(n):e[c]=[n],e}),{})})),I=(0,a.createSelector)(c.EZ,c.Bl,l,(function(e,t,r){var a=function(e){var t=r[e.id],n=t.shouldBeShown,a=t.shouldBeOpened;return n&&a},i=e.map((function(e){return t[e]})).filter(a);return(0,n.flatMap)(i,(function(e){return Z(e,{suites:t},a)}))})),b=(0,a.createSelector)(I,c.TZ,p,I,(function(e,t,r){return(0,n.flatMap)(e,(function(e){return e.browserIds})).filter((function(e){var t=r[e],n=t.shouldBeShown,a=t.shouldBeOpened;return n&&a})).map((function(e){return t[e]}))})),S=(0,a.createSelector)(b,p,c.O7,(function(e,t,r){return e.map((function(e){var n=t[e.id].retryIndex,a=e.resultIds[n];return r[a]}))})),T=(0,a.createSelector)(S,c.Jx,(function(e){return e.tree.images.stateById}),(function(e,t,r){return(0,n.flatMap)(e,(function(e){return e.imageIds.filter((function(e){return r[e].shouldBeOpened})).map((function(e){return t[e]}))}))})),w=(0,a.createSelector)(T,(function(e){return e.filter(o.h3).map((function(e){return e.id}))})),O=(0,a.createSelector)(T,(function(e){return e.filter(o.D8).map((function(e){return e.id}))})),N=(0,a.createSelector)(d,p,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))})),_=(0,a.createSelector)(d,c.TZ,p,(function(e,t,r){return e.filter((function(e){return r[e].checkStatus===u.ri}))})),C=function(e,t,r,a,i,s){return e.map((function(e){return(0,n.last)(t[e].resultIds)})).flatMap((function(e){return r[e].imageIds.map((function(e){return a[e]})).filter((function(e){return(0,o.h3)(e)||(0,o.KD)({image:e,isLastResult:!0,isStaticImageAccepterEnabled:i,gui:s})}))}))},R=(0,a.createSelector)(N,c.TZ,c.O7,c.Jx,c.Qy,c.Fn,C),A=(0,a.createSelector)(_,c.TZ,c.O7,c.Jx,c.Qy,c.Fn,C),M=(0,a.createSelector)((function(e){return e.app.suitesPage.viewMode===i.w.FAILED?e.tree.suites.failedRootIds:e.tree.suites.allRootIds}),l,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))}));function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.identity,a=t.suites,i=t.browsers,s=t.results;return(0,o.Et)(e,{suiteCb:function(e){return D(a[e],t,r)},browserCb:function(e){return[].concat(r(i[e].resultIds)).map((function(e){return s[e]}))}})}function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.identity;return r(e)?(0,o.Et)(e,{suiteCb:function(e){return Z(t.suites[e],t,r)},browserIdsCb:function(e,t){return[t]}}):[]}function P(e,t){var r=t.suites,a=t.browsers;return e.browserIds?e.browserIds.map((function(e){return a[e]})):(0,n.flatMap)(e.suiteIds,(function(e){return P(r[e],t)}))}function k(e,t){var r=t.results,a=t.images;return e.imageIds?[].concat(e.imageIds).map((function(e){return a[e]})):(0,n.flatMap)(e.resultIds,(function(e){return k(r[e],t)}))}function x(e){var t=e.suites.failedRootIds.map((function(t){return e.suites.byId[t]})),r=(0,n.compact)((0,n.flatMap)(t,(function(t){return j(t,e.suites.byId)})));return(0,n.flatMap)(r,(function(t){return(0,o.Et)(t,{browserCb:function(t){return e.browsers.byId[t].resultIds.map((function(t){return e.results.byId[t]}))}})}))}function j(e,t){return(0,o.D8)(e)?(0,o.Et)(e,{suiteCb:function(e){return j(t[e],t)},browserIdsCb:function(e,t){return[t]}}):[]}function L(e,t,r,a){var i=B(e,t,r),s=(0,n.flatMap)(i.resultIds,(function(e){return r[e].imageIds.map((function(e){return a[e]}))}));return(0,n.findLast)(s,{stateName:e.stateName})}function B(e,t,r){return t[r[e.parentId].parentId]}var U=(0,a.createSelector)(c.EZ,c.Bl,(function(e,t){return!e.some((function(e){return!(0,s.nc)(t[e].status)}))}))},51869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getFilteredBrowsers:()=>n,getKeyToGroupTestsBy:()=>a});var n=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,r)=>{"use strict";r.d(t,{AM:()=>h,Iv:()=>g,O$:()=>E,Yo:()=>m,fQ:()=>f});var n=r(56666),a=r(13980),i=r.n(a),s=r(76635),o=r(73241),c=r(31804);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=null,p="static-image-accepter",f=function(e,t){if(null!==d)return d;if(!e||!e.enabled||t)return d=!1;var r=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return r.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(r.join(", "),"' is(/are) missing!")),d=!1):d=!0},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.filter((function(e){return e.commitStatus===o.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(r);if(n.find((function(e){var r,n=e.imageId;return!(null!==(r=t[n].refImg)&&void 0!==r&&r.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return n.map((function(e){var r=e.imageId;return{id:r,stateNameImageId:e.stateNameImageId,image:t[r].actualImg.path,path:t[r].refImg.relativePath}}))},v=function(){var e=(0,s.get)(window,["data","date"]),t=(0,s.get)(window,["location","pathname"]),r=c.rV(p,null);return r&&r.date===e&&r.pathName===t?r.commitedImages:{}},g=function(){return Object.values(v())},h=function(e){var t=(0,s.get)(window,["data","date"]),r=(0,s.get)(window,["location","pathname"]),n=v(),a=e.reduce((function(e,t){var r=t.imageId;return e[t.stateNameImageId]=r,e}),{});c.LS(p,{date:t,pathName:r,commitedImages:l(l({},n),a)})},E=i().shape({enabled:i().bool.isRequired,accepterDelayedImages:i().arrayOf(i().shape({imageId:i().string.isRequired,stateName:i().string.isRequired,stateNameImageId:i().string.isRequired})).isRequired,acceptableImages:i().objectOf(i().shape({id:i().string.isRequired,parentId:i().string.isRequired,stateName:i().string.isRequired,commitStatus:i().oneOf([null,o.Ez,o.t6]),originalStatus:i().string.isRequired}))})},82979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Sr});var n,a,i=r(18717),s=r(43292),o=r(90408),c=r(76635),u=r.n(c),l=r(56666),d=r(58270),p=r(37487),f=r(58615),m=r(85202),v=r(54077),g=r(73241),h=r(36397),E=r(45037);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b=Object.assign({config:d.W},{gui:!0,running:!1,processing:!1,stopping:!1,autoRun:!1,skips:[],browsers:[],groupedTests:{result:{byKey:v.Kr.reduce((function(e,t){return I(I({},e),{},(0,l.Z)({},t,[]))}),{}),allKeys:v.Kr},meta:{byKey:{},allKeys:[]}},tree:{groups:{byId:{},allRootIds:[]},suites:{byId:{},allIds:[],allRootIds:[],failedRootIds:[],stateById:{}},browsers:{byId:{},stateById:{},allIds:[]},results:{byId:{},stateById:{},allIds:[]},images:{byId:{},stateById:{},allIds:[]}},closeIds:[],apiValues:{toolName:g.YO.Testplane,extraItems:{},metaInfoExtenders:{},imagesSaver:{saveImg:function(){return""}},reportsSaver:{saveReportData:function(){return""}},snapshotsSaver:{saveSnapshot:function(){return""}}},loading:{},modals:[],stats:{all:{total:0,updated:0,passed:0,failed:0,skipped:0,retries:0,warned:0},perBrowser:{}},view:{diffMode:f.n.THREE_UP.id,expand:m.YS,baseHost:"",strictMatchFilter:!1,keyToGroupTestsBy:""},db:void 0,fetchDbDetails:[],progressBar:{currentRootSuiteId:null},notifications:[],staticImageAccepter:{enabled:!1,acceptableImages:{},accepterDelayedImages:[],imagesToCommitCount:0},app:(n={isNewUi:!1,isInitialized:!1,availableFeatures:[]},(0,l.Z)(n,h.T3.suitesPage,{currentBrowserId:null,currentTreeNodeId:null,currentGroupId:null,currentStepId:null,currentHighlightedStepId:null,viewMode:p.w.ALL,nameFilter:"",useRegexFilter:!1,useMatchCaseFilter:!1,filteredBrowsers:[]}),(0,l.Z)(n,h.T3.visualChecksPage,{currentNamedImageId:null,viewMode:p.w.ALL,nameFilter:"",useRegexFilter:!1,useMatchCaseFilter:!1,filteredBrowsers:[]}),(0,l.Z)(n,"loading",{taskTitle:"Loading Testplane UI",isVisible:!0,isInProgress:!0,progress:{}}),(0,l.Z)(n,"staticImageAccepterModal",{commitMessage:"chore: update screenshot references"}),(0,l.Z)(n,"groupTestsData",{availableSections:[],availableExpressions:[],currentExpressionIds:[]}),(0,l.Z)(n,"sortTestsData",{availableExpressions:[],currentExpressionIds:[],currentDirection:h.Sr.Asc,previousExpressionIds:[],previousDirection:h.Sr.Asc}),(0,l.Z)(n,"guiServerConnection",{isConnected:!1}),(0,l.Z)(n,"snapshotsPlayer",{isActive:!1,highlightStartTime:0,highlightEndTime:0,goToTime:0}),n),ui:(a={},(0,l.Z)(a,h.T3.suitesPage,{treeViewMode:h.xW.Tree,retryIndexByTreeNodeId:{},expandedSectionsById:{},expandedStepsByResultId:{},expandedTreeNodesById:{},sectionSizes:[E.p,100-E.p],backupSectionSizes:[E.p,100-E.p],isSnapshotsPlayerVisible:!0}),(0,l.Z)(a,h.T3.visualChecksPage,{sectionSizes:[E.p,100-E.p],backupSectionSizes:[E.p,100-E.p]}),(0,l.Z)(a,"staticImageAccepterToolbar",{offset:{x:0,y:0}}),a),timestamp:0,browserFeatures:{}});var S=r(78505);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=r(97566);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=r(21990);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=r(31804),x=r(94646),j=new Set(Object.values(p.w));function L(e){var t=(0,x.mB)(e,{browser:"filteredBrowsers"});return t.filteredBrowsers=(0,x.V$)(t.filteredBrowsers),(0,c.has)(t,"viewMode")&&!j.has(t.viewMode)&&(t.viewMode=d.W.defaultView),(0,c.pick)(t,["filteredBrowsers","testNameFilter","strictMatchFilter","retryIndex","viewMode","expand"])}var B=function(e,t,r){return(0,A.rm)(e,{app:(0,l.Z)({},t,r)})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=r(14054);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=r(72161);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=r(68079),ne=r(15729),ae=r(69875),ie=r(82806),se=r(96234),oe=r(8776);function ce(e,t){return e.browsers.byId[t].parentId}function ue(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.browsers.allIds.forEach((function(n){le(e,n,t,r)}))}function le(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,A.FZ)(n,["browsers","stateById"]),Ie(e.browsers.stateById,t,r,n.browsers.stateById)}function de(e,t){(0,c.isEmpty)(t)&&(t=e.browsers.allIds),[].concat(t).forEach((function(t){var r=function(e,t){return e.browsers.byId[t].resultIds.length-1}(e,t);le(e,t,{retryIndex:r})}))}function pe(e){var t=e.tree,r=e.view,n=e.app,a=void 0===n?{}:n,i=e.browserIds,s=void 0===i?[]:i,o=e.diff,u=void 0===o?t:o;(0,A.FZ)(u,["browsers","byId"]),(0,c.isEmpty)(s)&&(s=t.browsers.allIds);var l=r.strictMatchFilter,d=a.suitesPage?a.suitesPage:{},p=d.viewMode,f=d.filteredBrowsers,m=d.nameFilter,v=d.useMatchCaseFilter,g=d.useRegexFilter,h=a.isNewUi,E=void 0!==h&&h;s.forEach((function(e){(0,A.FZ)(u.browsers.byId,[e]);var r=t.browsers.byId[e],n=u.browsers.byId[e],a=(0,A.xg)(r,n,"parentId"),i=(0,c.last)((0,A.xg)(r,n,"resultIds")),s=(0,A.xg)(t,u,["results","byId",i,"status"]),o=!0,d=!1,h=(0,G.TV)(a,r.name,m,{strictMatchFilter:l,useMatchCaseFilter:v,useRegexFilter:g,isNewUi:E});(0,G.kp)(r,f,u)?(0,G.Gz)(r,s,p,u)?h.isMatch||(o=!1):(o=!1,d=!0):o=!1;var y=o?t.browsers.stateById[e].checkStatus:oe.wT;le(t,e,{shouldBeShown:o,isHiddenBecauseOfStatus:d,checkStatus:y,fuzzyMatchScore:h.score},u)}))}function fe(e){var t=e.tree,r=e.expand,n=e.browserIds,a=void 0===n?[]:n,i=e.diff,s=void 0===i?t:i;(0,c.isEmpty)(a)&&(a=t.browsers.allIds),a.forEach((function(e){var n=t.browsers.byId[e],a=function(e,t,r,n){var a=function(){return(0,G.D8)(t)},i=function(){return[].concat((0,c.initial)(e.resultIds)).map((function(e){return n.results.byId[e]})).some((function(e){return(0,G.D8)(e)}))};return be(r,{errorsCb:a,retriesCb:i})}(n,t.results.byId[(0,c.last)(n.resultIds)],r,t);le(t,e,{shouldBeOpened:a},s)}))}function me(e){var t=e.tree,r=e.expand,n=e.imageIds,a=void 0===n?[]:n,i=e.diff,s=void 0===i?t:i;u().isEmpty(a)&&(a=t.images.allIds),a.forEach((function(e){var n=he(t.images.byId[e],r);ve(t,e,{shouldBeOpened:n},s)}))}function ve(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,A.FZ)(n,["images","stateById"]),Ie(e.images.stateById,t,r,n.images.stateById)}function ge(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,A.FZ)(n,["images","byId"]),Ie(e.images.byId,t,{status:r},n.images.byId)}function he(e,t){var r=function(){return(0,G.D8)(e)};return be(t,{errorsCb:r,retriesCb:r})}function Ee(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ie(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;Object.keys(r).forEach((function(a){(0,c.get)(e[t],a)!==r[a]&&(0,c.set)(n,[t,a],r[a])}))}function be(e,t){var r=t.errorsCb,n=t.retriesCb;return e===m.YS?r():e===m.Tq?n():e===m.Tm}function Se(e,t,r){for(var n=function(){var e=i[a];if(!(0,ie.Cr)(e.status))return"continue";var n=(0,ie.SS)({status:e.status,error:e.error,imagesInfo:Object.values((0,c.pick)(t,e.imageIds))});e.status=n;var s,o=Ee(Object.entries(r).filter((function(t){var r=(0,se.Z)(t,2)[1];return e.id.startsWith(r.id)&&(0,ie.Cr)(r.status)})).map((function(e){return(0,se.Z)(e,1)[0]})));try{for(o.s();!(s=o.n()).done;){var u=s.value;r[u].status=n}}catch(e){o.e(e)}finally{o.f()}},a=0,i=Object.values(e);a<i.length;a++)n()}function Te(e){var t=e.tree,r=e.view,n=e.app,a=e.images,i=e.imageIdsArray,s=e.newStatus,o=e.diff,u=void 0===o?t:o,l=[],d=[];if((0,A.FZ)(u,["results","byId"]),a){var p,f=Ee(a);try{for(f.s();!(p=f.n()).done;){var m=p.value;ge(t,m.id,m.status,u),l.push(t.images.byId[m.id].parentId)}}catch(e){f.e(e)}finally{f.f()}}else{var v,h=Ee(i);try{for(h.s();!(v=h.n()).done;){var E=v.value;ge(t,E,s,u),l.push(t.images.byId[E].parentId)}}catch(e){h.e(e)}finally{h.f()}}var y,I=Ee((0,c.uniq)(l));try{for(I.s();!(y=I.n()).done;){var b=y.value,S=t.results.byId[b],T=S.imageIds.filter((function(e){return Boolean(t.images.byId[e].stateName)})).map((function(e){return(0,A.xg)(t,u,["images","byId",e,"status"])})),w=(0,ie.EX)(T),O=(0,ie.wX)(S.error)&&w===g.pn?g.ES:w;(0,ie.wX)(S.error)&&O!==S.status&&(d.push(S.parentId),Ie(t.results.byId,b,{status:O},u.results.byId))}}catch(e){I.e(e)}finally{I.f()}var N=(0,c.uniq)(d),_=(0,c.uniq)(N.map((function(e){return t.browsers.byId[e].parentId})));Fe(t,_,n.suitesPage.filteredBrowsers,u),!(0,c.isEmpty)(_)&&Pe({tree:t,expand:r.expand,suiteIds:_,diff:u}),!(0,c.isEmpty)(N)&&fe({tree:t,expand:r.expand,browserIds:N,diff:u}),!(0,c.isEmpty)(i)&&me({tree:t,expand:r.expand,imageIds:i,diff:u}),!(0,c.isEmpty)(N)&&pe({tree:t,view:r,app:n,browserIds:N,diff:u}),!(0,c.isEmpty)(_)&&Ze({tree:t,suiteIds:_,diff:u})}var we=r(62602);function Oe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.suites.allIds.forEach((function(n){Ce(e,n,t,r)}))}function Ce(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,A.FZ)(n,["suites","stateById"]),Ie(e.suites.stateById,t,r,n.suites.stateById)}function Re(e,t){t.forEach((function(t){var r=t.id,n=t.status;e.suites.byId[r].status!==n&&(e.suites.byId[r].status=n)}))}function Ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=[].concat(t).filter((function(e){return e})).map((function(t){return e.suites.byId[t]})),a=function(t){var n=ze(t,e,r);Ce(e,t.id,{checkStatus:n},r)};n.forEach(a),xe(n,e,a)}function Me(e){return e.allRootIds.filter((function(t){return(0,G.D8)(e.byId[t])}))}function De(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=u()(e.browsers.allIds).map((function(t){return e.browsers.byId[t].parentId})).uniq().value();return Fe(e,n,t,r)}function Ze(e){var t=e.tree,r=e.suiteIds,n=void 0===r?[]:r,a=e.diff,i=void 0===a?t:a,s=u().isEmpty(n)?je(t):n.map((function(e){return t.suites.byId[e]}));s.forEach((function(e){var r=e.browserIds.some((function(e){return(0,A.xg)(t,i,["browsers","stateById",e,"shouldBeShown"])})),n=ze(e,t,i);Ce(t,e.id,{shouldBeShown:r,checkStatus:n},i)}));xe(s,t,(function(e){Ce(t,e.id,{shouldBeShown:Be(e,t,i),checkStatus:ze(e,t,i)},i)}))}function Pe(e){var t=e.tree,r=e.expand,n=e.suiteIds,a=void 0===n?[]:n,i=e.diff,s=void 0===i?t:i;if(r!==m.Tq)return u().isEmpty(a)&&(a=t.suites.allIds),void a.forEach((function(e){var n=Le(t.suites.byId[e],r,t);Ce(t,e,{shouldBeOpened:n},s)}));var o=u().isEmpty(a)?je(t):[].concat(a).map((function(e){return t.suites.byId[e]}));o.forEach((function(e){var n=Le(e,r,t);Ce(t,e.id,{shouldBeOpened:n},s)}));xe(o,t,(function(e){Ce(t,e.id,{shouldBeOpened:Ue(e,t,s)},s)}))}function ke(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=[].concat(t);for(a.suites||(a.suites={}),(r=a.suites).byId||(r.byId={}),(n=a.suites).failedRootIds||(n.failedRootIds=[].concat(e.suites.failedRootIds));!u().isEmpty(i);){var s=i.pop(),o=e.suites.byId[s];(0,ie.R6)(o.status)||(u().set(a,["suites","byId",s,"status"],we.ES),o.parentId||a.suites.failedRootIds.includes(o.id)?o.parentId&&i.push(o.parentId):a.suites.failedRootIds.push(o.id))}}function xe(e,t,r){var n,a=new Set,i=[];if((n=(0,re.Z)(e),n.sort((function(e,t){return t.suitePath.length-e.suitePath.length}))).forEach((function(e){if(e.parentId){var r=t.suites.byId[e.parentId],n=r.suitePath.join("|")+"|";i.some((function(e){return e.startsWith(n)}))||(a.add(r),i.push(n))}})),!u().isEmpty(a)){var s,o=Oe(a);try{for(o.s();!(s=o.n()).done;){r(s.value)}}catch(e){o.e(e)}finally{o.f()}xe(a,t,r)}}function je(e){return e.suites.allIds.filter((function(t){var r=e.suites.byId[t];return u().isEmpty(r.suiteIds)&&!u().isEmpty(r.browserIds)})).map((function(t){return e.suites.byId[t]}))}function Le(e,t,r){return be(t,{errorsCb:function(){return(0,G.D8)(e)},retriesCb:function(){var t={suites:r.suites.byId,browsers:r.browsers.byId,results:r.results.byId};return(0,ae.getSuiteResults)(e,t,u().initial).some((function(e){return(0,G.D8)(e)}))}})}function Be(e,t,r){return Ge(e,t,"shouldBeShown",r)}function Ue(e,t,r){return Ge(e,t,"shouldBeOpened",r)}function ze(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=(t.suites.byId[e.id].suiteIds||[]).reduce((function(e,n){return e+(0,A.xg)(t,r,["suites","stateById",n,"shouldBeShown"])}),0)+(t.suites.byId[e.id].browserIds||[]).reduce((function(e,n){return e+(0,A.xg)(t,r,["browsers","stateById",n,"shouldBeShown"])}),0),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=e.suites.byId[t],a=n.suiteIds,i=void 0===a?[]:a,s=n.browserIds;return(void 0===s?[]:s).reduce((function(t,n){var a=(0,A.xg)(e,r,["browsers","stateById",n,"shouldBeShown"]),i=(0,A.xg)(e,r,["browsers","stateById",n,"checkStatus"]);return t+(a&&i)}),0)+i.reduce((function(t,n){var a=(0,A.xg)(e,r,["suites","stateById",n,"shouldBeShown"]),i=(0,A.xg)(e,r,["suites","stateById",n,"checkStatus"]);return t+(a&&i)}),0)}(t,e.id,r);return Number(a===n||a&&oe.Km)}function Ge(e,t,r,n){return(e.suiteIds||[]).some((function(e){return(0,A.xg)(t,n,["suites","stateById",e,r])}))||(e.browserIds||[]).some((function(e){return(0,A.xg)(t,n,["browsers","stateById",e,r])}))}function Fe(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(r&&r.length){a.suites||(a.suites={}),(t=a.suites).failedRootIds||(t.failedRootIds=[].concat(e.suites.failedRootIds));var i=r.map((function(t){return e.suites.byId[t]})),s=new Set;i.forEach((function(t){var r=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,a=[];t.suiteIds&&(a=t.suiteIds.map((function(t){return(0,A.xg)(e,n,["suites","byId",t,"status"])})));if(t.browserIds){var i=t.browserIds.map((function(t){return e.browsers.byId[t]})).filter((function(e){var t=e.name,n=e.version;return r.some((function(e){var r=e.id,a=e.versions;return r===t&&(a.includes(n)||!a.length)}))})).map((function(t){var r=t.resultIds;return(0,A.xg)(e,n,["results","byId",u().last(r),"status"])}));a=a.concat(i)}return(0,ie.EX)(a)}(e,t,n,a);if(r!==(0,A.xg)(e,a,["suites","byId",t.id,"status"])){u().set(a,["suites","byId",t.id,"status"],r);var i=(0,A.xg)(e,a,["suites","byId",t.id,"parentId"]);if(i)s.add(i);else{var o=(0,ie.KM)(r)||(0,ie.R6)(r),c=a.suites.failedRootIds.includes(t.id);o&&!c?a.suites.failedRootIds.push(t.id):!o&&c&&(a.suites.failedRootIds=a.suites.failedRootIds.filter((function(e){return e!==t.id})))}}})),Fe(e,Array.from(s),n,a)}}function He(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.results.allIds.forEach((function(n){Ve({tree:e,resultId:n,state:t,diff:r})}))}function Ve(e){var t=e.tree,r=e.resultId,n=e.state,a=e.diff,i=void 0===a?t:a;(0,A.FZ)(i,["results","stateById"]),Ie(t.results.stateById,r,n,i.results.stateById)}function We(e,t){e.results.byId[t.id]=t;var r=t.parentId;e.browsers.byId[r].resultIds.includes(t.id)||(e.results.allIds.push(t.id),e.browsers.byId[r].resultIds.push(t.id))}function qe(e,t){!function(e,t){e.images.allIds=e.images.allIds.filter((function(e){return!t.includes(e)})),t.forEach((function(t){delete e.images.byId[t],delete e.images.stateById[t]}))}(e,e.results.byId[t].imageIds),function(e,t){var r=e.results.byId[t],n=e.browsers.byId[r.parentId],a=e.browsers.stateById[n.id].retryIndex;n.resultIds=n.resultIds.filter((function(e){return e!==t})),e.browsers.stateById[n.id].retryIndex=Math.min(a,n.resultIds.length-1)}(e,t),e.results.allIds=e.results.allIds.filter((function(e){return e!==t})),delete e.results.byId[t],delete e.results.stateById[t]}var Ye=r(78272);function Ke(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;_e(e,t,r),ue(e,t,r),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.images.allIds.forEach((function(n){ve(e,n,t,r)}))}(e,t,r)}var et=r(58733);function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=r(59740),st=["perBrowser"];function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt=r(33109),pt=function(e){return e};var ft=r(86522);function mt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return vt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gt(e){var t=e.tree,r=void 0===t?{}:t,n=e.viewMode,a=void 0===n?p.w.ALL:n,i=e.filteredBrowsers,s=void 0===i?[]:i,o=e.resultCb;if(!(0,c.isFunction)(o))throw new Error('"resultCb" argument must be a function, but got '.concat((0,ft.Z)(o)));var u,l=mt(a===p.w.FAILED?(0,ae.getFailedSuiteResults)(r):Object.values(r.results.byId));try{for(l.s();!(u=l.n()).done;){var d=u.value,f=r.browsers.byId[d.parentId];r.browsers.stateById[d.parentId].shouldBeShown&&((0,G.kp)(f,s)&&o(d))}}catch(e){l.e(e)}finally{l.f()}}function ht(e){var t=e.group,r=e.result,n=e.value,a=e.patterns,i=void 0===a?[]:a,s=e.diff,o=void 0===s?t:s,u=function(e){if((0,c.isString)(e))return e;if((0,c.isObject)(e))return JSON.stringify(e);if((0,c.isNull)(e))return"null";if((0,c.isUndefined)(e))return"undefined";return(0,c.toString)(e)}(n),l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=mt(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.match(a.regexp))return a}}catch(e){n.e(e)}finally{n.f()}return{name:e,pattern:e}}(u,i),d=l.pattern,p=l.name;if(t&&t.hasOwnProperty(p)||o.hasOwnProperty(p)){var f=o[p];f.browserIds.includes(r.parentId)||(f.browserIds.push(r.parentId),f.testCount++),f.resultIds.includes(r.id)||(f.resultIds.push(r.id),f.resultCount++)}else o[p]={pattern:d,name:p,browserIds:[r.parentId],resultIds:[r.id],testCount:1,resultCount:1}}function Et(e){return Object.values(e).sort((function(e,t){return e.testCount>t.testCount?-1:1}))}var yt=["group","groupKey","diff"];function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function St(e){var t=e.group,r=e.groupKey,n=e.diff,a=void 0===n?t:n,i=(0,it.Z)(e,yt),s=new Set;r&&(0,A.FZ)(a,["byKey",r]);gt(bt(bt({},i),{},{resultCb:function(e){if(e.metaInfo)for(var n=0,i=Object.entries(e.metaInfo);n<i.length;n++){var o=(0,se.Z)(i[n],2),c=o[0],u=o[1];s.add(c),r&&r===c&&ht({group:t.byKey[r],result:e,value:u,diff:a.byKey[r]})}}})),a.allKeys=(0,re.Z)(s).sort(),r&&(a.byKey[r]=Et(a.byKey[r]))}var Tt=["tree","group","groupKey","errorPatterns","diff"];function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _t(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ct(e){if(e.groupKey===v.wK)return function(e){var t=e.tree,r=e.group,n=e.groupKey,a=e.errorPatterns,i=void 0===a?[]:a,s=e.diff,o=void 0===s?r:s,u=(0,it.Z)(e,Tt);(0,A.FZ)(o,["byKey",n]);var l=function(e){var a,s=e.imageIds.map((function(e){return t.images.byId[e]})),u=function(e,t){var r=new Set;t.forEach((function(e){var t=e.error,n=e.diffImg;(0,c.get)(t,"message")&&r.add(t.message),n&&r.add(g.XB)}));var n=e.error;if(r.size>0&&(0,ie.iR)(n))return(0,re.Z)(r);(0,c.get)(n,"message")&&r.add(n.message);return(0,re.Z)(r)}(e,s),l=Nt(u);try{for(l.s();!(a=l.n()).done;){var d=a.value;ht({group:r.byKey[n],result:e,value:d,patterns:i,diff:o.byKey[n]})}}catch(e){l.e(e)}finally{l.f()}};gt(Ot(Ot({tree:t},u),{},{resultCb:l})),o.byKey[n]=Et(o.byKey[n])}(e);throw new Error("Group key must be one of ".concat(v.Kr.join(", "),", but got ").concat(e.groupKey))}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt=function(e,t){var r=e.images.byId[t],n=e.results.byId[r.parentId];return e.browsers.byId[n.parentId].id+" "+r.stateName};function Lt(e){var t,r=e.images.allIds.filter((function(t){return(0,G.h3)(e.images.byId[t])})).sort(),n=(0,c.groupBy)(r,(function(t){return jt(e,t)})),a=Object.keys(n).reduce((function(t,r){var a=(0,c.last)(n[r]),i=e.images.byId[a];if((0,G.F7)(i))return t;var s,o=Zt(n[r]);try{for(o.s();!(s=o.n()).done;){var u=s.value,l=e.images.byId[u];t[u]={id:l.id,parentId:l.parentId,stateName:l.stateName,commitStatus:null,originalStatus:l.status,stateNameImageId:r}}}catch(e){o.e(e)}finally{o.f()}return t}),{}),i=Zt((0,Ye.Iv)());try{for(i.s();!(t=i.n()).done;){a[t.value].commitStatus=g.t6}}catch(e){i.e(e)}finally{i.f()}return{enabled:!0,acceptableImages:a,accepterDelayedImages:[],imagesToCommitCount:0}}function Bt(e,t){var r,n=e.images.byId[t].stateName,a=e.images.byId[t].parentId,i=e.results.byId[a].parentId,s=[],o=Zt(e.browsers.byId[i].resultIds);try{for(o.s();!(r=o.n()).done;){var c,u=r.value,l=Zt(e.results.byId[u].imageIds);try{for(l.s();!(c=l.n()).done;){var d=c.value;e.images.byId[d].stateName===n&&s.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return s}var Ut=r(49674),zt=r(11200),Gt=r(24298);function Ft(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Vt=function(e){return"".concat("suites-page-section-sizes","-").concat(e)};var Wt=r(84673),qt=r.n(Wt),Yt=r(71011),Kt=r(52902);function Jt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Qt=function(e,t){var r=new Set;if(t.length>0&&t.every((function(e){return e.status===g.ih.UPDATED})))return[];t.forEach((function(e){var t=(0,c.get)(e,"error.message");t&&r.add(t),(0,c.get)(e,"diffImg")&&r.add(g.XB)}));var n=e.error;if(r.size>0&&(0,ie.iR)(n))return(0,re.Z)(r);var a=(0,c.get)(n,"message");return a&&r.add(a),(0,re.Z)(r)},$t=function(e,t,r,n){var a=e[0];return a?a.type===h.zX.Meta?function(e,t){for(var r="__".concat(h.zX.Meta,"__DEFAULT_GROUP"),n={},a={},i=1,s=0,o=Object.values(t);s<o.length;s++){var c=o[s],u=void 0;a[u=c.metaInfo&&c.metaInfo[e.key]?"".concat(h.zX.Meta,"__").concat(e.key,"__").concat((0,Yt.Pz)(c.metaInfo[e.key])):r]||(a[u]=i.toString(),i++);var l=a[u];n[l]||(n[l]={id:l,key:e.key,label:(0,Yt.Pz)(c.metaInfo[e.key]),resultIds:[],browserIds:[],type:Kt.p.Group}),n[l].resultIds.push(c.id),n[l].browserIds.includes(c.parentId)||n[l].browserIds.push(c.parentId)}return n}(a,t):a.type===h.zX.Error?function(e,t,r){for(var n={},a={},i=Object.values(e),s=1,o=0,c=i;o<c.length;o++){var u,l=c[o],d=l.imageIds.map((function(e){return t[e]})),p=Jt(Qt(l,d));try{var f=function(){var e,t,i=u.value,o=r.find((function(e){return e.regexp.test(i)}));o?(t=o.name,e="".concat(h.zX.Error,"__").concat(o.name)):(t=i,e="".concat(h.zX.Error,"__").concat(i)),a[e]||(a[e]=s.toString(),s++);var c=a[e];n[c]||(n[c]={id:c,key:"error",label:qt()(t),resultIds:[],browserIds:[],type:Kt.p.Group}),n[c].resultIds.push(l.id),n[c].browserIds.includes(l.parentId)||n[c].browserIds.push(l.parentId)};for(p.s();!(u=p.n()).done;)f()}catch(e){p.e(e)}finally{p.f()}}return n}(t,r,n):{}:{}};var er={id:"by-name",label:"Name",type:h.ER.ByName},tr={id:"by-failed-runs",label:"Failed runs count",type:h.ER.ByFailedRuns},rr={id:"by-tests-count",label:"Tests count",type:h.ER.ByTestsCount},nr={id:"by-start-time",label:"Start time",type:h.ER.ByStartTime},ar={id:"by-duration",label:"Duration",type:h.ER.ByDuration},ir={id:"by-relevance",label:"Relevance",type:h.ER.ByRelevance},sr=[er,tr,nr,ar],or=function(e){return e[0]!==ir.id&&e[0]!==rr.id};const cr=(0,o.Z)((function(e){return(0,c.isEmpty)(e)?b:e}),(function(e,t){return t.type.startsWith("reapop/")?w(w({},e),{},{notifications:(0,S.I6)()([],t)}):e}),(function(e,t){switch(t.type){case O.Z.RUN_ALL_TESTS:case O.Z.RUN_FAILED_TESTS:case O.Z.RETRY_SUITE:case O.Z.RETRY_TEST:return _(_({},e),{},{running:!0});case O.Z.TESTS_END:return _(_({},e),{},{running:!1});default:return e}}),(function(e,t){switch(t.type){case O.Z.RUN_ALL_TESTS:case O.Z.RUN_FAILED_TESTS:case O.Z.RETRY_SUITE:case O.Z.RETRY_TEST:case O.Z.PROCESS_BEGIN:return R(R({},e),{},{processing:!0});case O.Z.TESTS_END:case O.Z.PROCESS_END:return R(R({},e),{},{processing:!1});default:return e}}),(function(e,t){switch(t.type){case O.Z.STOP_TESTS:return Dt(Dt({},e),{},{stopping:!0});case O.Z.TESTS_END:return Dt(Dt({},e),{},{stopping:!1});default:return e}}),(function(e,t){switch(t.type){case O.Z.TOGGLE_LOADING:return D(D({},e),{},{loading:t.payload});case O.Z.UPDATE_LOADING_PROGRESS:return(0,A.rm)(e,{app:{loading:{progress:t.payload}}});case O.Z.UPDATE_LOADING_IS_IN_PROGRESS:return(0,A.rm)(e,{app:{loading:{isInProgress:t.payload}}});case O.Z.UPDATE_LOADING_VISIBILITY:return(0,A.rm)(e,{app:{loading:{isVisible:t.payload}}});case O.Z.UPDATE_LOADING_TITLE:return(0,A.rm)(e,{app:{loading:{taskTitle:t.payload}}});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:return(0,A.rm)(e,{gui:!0,app:{availableFeatures:[g.Wi,g.B$]}});case O.Z.INIT_STATIC_REPORT:return P(P({},e),{},{gui:!1});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=t.payload.timestamp;return z(z({},e),{},{timestamp:r});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=t.payload.date;return H(H({},e),{},{date:(0,G.V_)(r)});default:return e}}),(function(e,t){if(t.type===O.Z.INIT_GUI_REPORT){var r=t.payload.autoRun,n=void 0!==r&&r;return W(W({},e),{},{autoRun:n})}return e}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=t.payload.apiValues;return(0,A.rm)(e,{apiValues:r});default:return e}}),(function(e,t){switch(t.type){case O.Z.OPEN_MODAL:return Y(Y({},e),{},{modals:e.modals.concat(t.payload)});case O.Z.CLOSE_MODAL:return Y(Y({},e),{},{modals:e.modals.filter((function(e){return e.id!==t.payload.id}))});default:return e}}),(function(e,t){return t.type===O.Z.CLOSE_SECTIONS?J(J({},e),{},{closeIds:t.payload}):e}),(function(e,t){switch(t.type){case O.Z.INIT_STATIC_REPORT:case O.Z.INIT_GUI_REPORT:var r=t.payload.db;return $($({},e),{},{db:r});case O.Z.TESTS_END:(0,X.xe)(e.db);var n=t.payload.db;return $($({},e),{},{db:n});case O.Z.FIN_STATIC_REPORT:case O.Z.FIN_GUI_REPORT:return(0,X.xe)(e.db),e;default:return e}}),(function(e,t){if(t.type===O.Z.INIT_STATIC_REPORT){var r=t.payload.fetchDbDetails;return te(te({},e),{},{fetchDbDetails:r})}return e}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:var r,n=t.payload.tree,a=(s=n.results,o=function(e){return{id:e.name,versions:u().get(e,"metaInfo.browserVersion",et.e.UNKNOWN)}},c=function(e){return u()(e).map("versions").compact().uniq().value()},u()(s.allIds).map((function(e){return o(s.byId[e])})).flattenDeep().groupBy("id").mapValues(c).map((function(e,t){return{id:t,versions:e}})).value());return rt(rt({},e),{},{browsers:a,browserFeatures:null!==(r=t.payload.browserFeatures)&&void 0!==r?r:{}});case O.Z.INIT_STATIC_REPORT:var i=t.payload.browsers;return rt(rt({},e),{},{browsers:i});case O.Z.SET_BROWSER_FEATURES:return rt(rt({},e),{},{browserFeatures:t.payload.browserFeatures});default:return e}var s,o,c}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=t.payload.config;return r.errorPatterns=r.errorPatterns.map((function(e){return at(at({},e),{},{regexp:new RegExp(e.pattern)})})),(0,A.rm)(e,{config:r});case O.Z.RUN_CUSTOM_GUI_ACTION:var n=t.payload,a=n.sectionName,i=n.groupIndex,s=n.controlIndex,o=(0,c.cloneDeep)(e.config.customGui),u=o[a][i],l=u.type,d=u.controls;return"radiobutton"===l?(d.forEach((function(e,t){return e.active=s===t})),(0,A.rm)(e,{config:{customGui:o}})):e;default:return e}}),(function(e,t){if(t.type===O.Z.INIT_STATIC_REPORT){var r=t.payload.stats||{},n=r.perBrowser,a=(0,it.Z)(r,st);return(0,G.rm)(e,{stats:{all:a,perBrowser:n}})}return e}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=t.payload.skips;return ct(ct({},e),{},{skips:r});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=e.config,n=r.baseHost,a=r.defaultView,i=r.diffMode,s=L(window.location.search),o=k.rV("view",{});return lt(lt({},e),{},{view:lt(lt(lt({},e.view),{},{viewMode:a,diffMode:i,baseHost:n},o),s)});case O.Z.VIEW_UPDATE_BASE_HOST:var c=t.payload.host;return lt(lt({},e),{},{view:lt(lt({},e.view),{},{baseHost:c})});case O.Z.VIEW_EXPAND_ALL:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{expand:m.Tm})});case O.Z.VIEW_EXPAND_ERRORS:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{expand:m.YS})});case O.Z.VIEW_EXPAND_RETRIES:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{expand:m.Tq})});case O.Z.VIEW_COLLAPSE_ALL:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{expand:m.Lq})});case O.Z.VIEW_SET_STRICT_MATCH_FILTER:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{strictMatchFilter:t.payload})});case O.Z.GROUP_TESTS_BY_KEY:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{keyToGroupTestsBy:t.payload})});case O.Z.SET_DIFF_MODE:return lt(lt({},e),{},{view:lt(lt({},e.view),{},{diffMode:t.payload.diffModeId})});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r,n,a=k.rV("app.suitesPage.viewMode",g.wO.ALL),i=k.rV("app.visualChecksPage.viewMode",g.wO.ALL),s=L(window.location.search);(0,c.isEmpty)(s.filteredBrowsers)&&(s.filteredBrowsers=e.browsers);var o=(0,A.rm)(e,{app:(r={},(0,l.Z)(r,h.T3.suitesPage,{viewMode:a}),(0,l.Z)(r,h.T3.visualChecksPage,{viewMode:i}),r)});return null!==(n=window.location.hash)&&void 0!==n&&n.startsWith("#/visual-checks")?(o.app[h.T3.visualChecksPage].filteredBrowsers=s.filteredBrowsers,o.app[h.T3.visualChecksPage].viewMode=s.viewMode||i,o.app[h.T3.visualChecksPage].nameFilter=s.testNameFilter||""):(o.app[h.T3.suitesPage].filteredBrowsers=s.filteredBrowsers,o.app[h.T3.suitesPage].viewMode=s.viewMode||a,o.app[h.T3.suitesPage].nameFilter=s.testNameFilter||""),o;case O.Z.CHANGE_VIEW_MODE:return B(e,t.payload.page,{viewMode:t.payload.data});case O.Z.VIEW_UPDATE_FILTER_BY_NAME:return B(e,t.payload.page,{nameFilter:t.payload.data});case O.Z.VIEW_SET_FILTER_MATCH_CASE:return B(e,t.payload.page,{useMatchCaseFilter:t.payload.data});case O.Z.VIEW_SET_FILTER_USE_REGEX:return B(e,t.payload.page,{useRegexFilter:t.payload.data});case O.Z.BROWSERS_SELECTED:return B(e,t.payload.page,{filteredBrowsers:t.payload.data});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_STATIC_REPORT:return(0,Ye.fQ)(e.config.staticImageAccepter,e.gui)?(0,G.rm)(e,{app:{availableFeatures:[g.B$]},staticImageAccepter:Lt(t.payload.tree)}):e;case O.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT:var r=e.staticImageAccepter.accepterDelayedImages.concat(t.payload);return xt(xt({},e),{},{staticImageAccepter:xt(xt({},e.staticImageAccepter),{},{accepterDelayedImages:r})});case O.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:var n=e.staticImageAccepter.accepterDelayedImages.slice(0,-1);return xt(xt({},e),{},{staticImageAccepter:xt(xt({},e.staticImageAccepter),{},{accepterDelayedImages:n})});case O.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT:var a,i=t.payload,s=e.staticImageAccepter.acceptableImages,o={},u=(0,c.set)({},["staticImageAccepter","acceptableImages"],o),l=0,d=Zt(i);try{for(d.s();!(a=d.n()).done;){var p=a.value,f=Bt(e.tree,p).find((function(e){var t;return(null===(t=s[e])||void 0===t?void 0:t.commitStatus)===g.Ez}));(0,c.set)(o,[p,"commitStatus"],g.Ez),f?(0,c.set)(o,[f,"commitStatus"],null):l++}}catch(e){d.e(e)}finally{d.f()}var m=(0,c.get)(e,["staticImageAccepter","imagesToCommitCount"]);return(0,c.set)(u,["staticImageAccepter","accepterDelayedImages"],[]),(0,c.set)(u,["staticImageAccepter","imagesToCommitCount"],m+l),(0,G.rm)(e,u);case O.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:var v={},h=(0,c.set)({},["staticImageAccepter","acceptableImages"],v),E=(0,c.get)(e,["staticImageAccepter","imagesToCommitCount"]);(0,c.set)(h,["staticImageAccepter","imagesToCommitCount"],E-t.payload.length);var y,I=Zt(t.payload);try{for(I.s();!(y=I.n()).done;){var b=y.value;(0,c.set)(v,[b,"commitStatus"],null)}}catch(e){I.e(e)}finally{I.f()}return(0,G.rm)(e,h);case O.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT:var S,T=e.staticImageAccepter.acceptableImages,w={},N=(0,c.set)({},["staticImageAccepter","acceptableImages"],w),_=Zt(t.payload);try{for(_.s();!(S=_.n()).done;){var C=S.value,R=Bt(e.tree,C).find((function(e){var t;return(null===(t=T[e])||void 0===t?void 0:t.commitStatus)===g.t6}));R&&(0,c.set)(w,[R,"commitStatus"],null),(0,c.set)(w,[C,"commitStatus"],g.t6)}}catch(e){_.e(e)}finally{_.f()}return(0,c.set)(N,["staticImageAccepter","accepterDelayedImages"],[]),(0,c.set)(N,["staticImageAccepter","imagesToCommitCount"],0),(0,G.rm)(e,N);case O.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:return(0,G.rm)(e,{ui:{staticImageAccepterToolbar:{offset:t.payload.offset}}});case O.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:return(0,G.rm)(e,{app:{staticImageAccepterModal:{commitMessage:t.payload.commitMessage}}});default:return e}}),(function(e,t){var r={tree:{}};switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var n,a=t.payload.tree,i=e.app.suitesPage.filteredBrowsers;if(a.suites.failedRootIds=Me(a.suites),a.suites.stateById={},a.browsers.stateById={},a.results.stateById={},a.images.stateById={},a.groups={byId:{},allRootIds:[]},De(a,i),function(e){var t=e.tree,r=e.view,n=e.app;(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.browsers.allIds.forEach((function(n){de(e,n),le(e,n,{checkStatus:oe.wT}),t.keyToGroupTestsBy?le(e,n,{shouldBeShown:!1}):pe({tree:e,view:t,app:r,browserIds:[n]}),fe({tree:e,expand:t.expand,browserIds:[n]})}))})(t,r,n),function(e,t){_e(e,{checkStatus:oe.wT}),t.keyToGroupTestsBy?_e(e,{shouldBeShown:!1}):Ze({tree:e}),Pe({tree:e,expand:t.expand})}(t,r),function(e,t){me({tree:e,expand:t})}(t,r.expand),function(e){He(e,{matchedSelectedGroup:!1})}(t)}({tree:a,view:e.view,app:e.app}),Se(a.results.byId,a.images.byId,a.suites.byId),Ye.fQ(null===(n=e.config)||void 0===n?void 0:n.staticImageAccepter,e.gui)){var s=Ye.Iv();Te({tree:a,view:e.view,app:e.app,imageIdsArray:s,newStatus:we.t6})}return Qe(Qe({},(0,A.rm)(e,{app:{isNewUi:t.payload.isNewUi}})),{},{tree:a});case O.Z.RUN_ALL_TESTS:var o=e.tree;return(0,A.FZ)(r,["tree","suites","byId"]),o.suites.allIds.forEach((function(e){r.tree.suites.byId[e]={status:we.ih.QUEUED}})),(0,A.rm)(e,r);case O.Z.TOGGLE_SUITE_SECTION:var u=t.payload,d=u.suiteId,f=u.shouldBeOpened;return Ce(e.tree,d,{shouldBeOpened:f},r.tree),(0,A.rm)(e,r);case O.Z.TOGGLE_BROWSER_SECTION:var v=t.payload,g=v.browserId,h=v.shouldBeOpened;return le(e.tree,g,{shouldBeOpened:h},r.tree),(0,A.rm)(e,r);case O.Z.TOGGLE_STATE_RESULT:var E=t.payload,y=E.imageId,I=E.shouldBeOpened;return ve(e.tree,y,{shouldBeOpened:I},r.tree),(0,A.rm)(e,r);case O.Z.CHANGE_TEST_RETRY:var b,S=t.payload,T=S.browserId,w=S.retryIndex,N={retryIndex:w};e.view.keyToGroupTestsBy&&(N.lastMatchedRetryIndex=null);var _=null===(b=t.payload.suitesPage)||void 0===b?void 0:b.treeNodeId;return _&&(r.ui={suitesPage:{retryIndexByTreeNodeId:(0,l.Z)({},_,w)}}),le(e.tree,T,N,r.tree),(0,A.rm)(e,r);case O.Z.BROWSERS_SELECTED:var C=e.tree,R=e.view,M=e.app;return De(C,(0,c.isEmpty)(M.suitesPage.filteredBrowsers)?e.browsers.map((function(e){return{id:e.id,versions:[]}})):M.suitesPage.filteredBrowsers,r.tree),pe({tree:C,view:R,app:M,diff:r.tree}),Ze({tree:C,diff:r.tree}),(0,A.rm)(e,r);case O.Z.CHANGE_VIEW_MODE:case O.Z.VIEW_UPDATE_FILTER_BY_NAME:case O.Z.VIEW_SET_FILTER_MATCH_CASE:case O.Z.VIEW_SET_FILTER_USE_REGEX:case O.Z.VIEW_SET_STRICT_MATCH_FILTER:var D=e.tree;return pe({tree:D,view:e.view,app:e.app,diff:r.tree}),Ze({tree:D,diff:r.tree}),(0,A.rm)(e,r);case O.Z.VIEW_EXPAND_ALL:return $e(e.tree,{shouldBeOpened:!0},r.tree),(0,A.rm)(e,r);case O.Z.VIEW_COLLAPSE_ALL:return $e(e.tree,{shouldBeOpened:!1},r.tree),(0,A.rm)(e,r);case O.Z.VIEW_EXPAND_ERRORS:case O.Z.VIEW_EXPAND_RETRIES:var Z=e.tree,P=e.view;return Pe({tree:Z,expand:P.expand,diff:r.tree}),fe({tree:Z,expand:P.expand,diff:r.tree}),me({tree:Z,expand:P.expand,diff:r.tree}),(0,A.rm)(e,r);case O.Z.SELECT_ALL:return $e(e.tree,{checkStatus:oe.ri},r.tree),(0,A.rm)(e,r);case O.Z.DESELECT_ALL:return $e(e.tree,{checkStatus:oe.wT},r.tree),(0,A.rm)(e,r);case O.Z.CLOSE_SECTIONS:return t.payload.forEach((function(t){ve(e.tree,t,{shouldBeOpened:!1},r.tree)})),(0,A.rm)(e,r);case O.Z.TOGGLE_TESTS_GROUP:var k=t.payload,x=k.browserIds,j=k.resultIds,L=k.isActive,B=e.tree,U=e.view,z=e.app;return L?(pe({tree:B,view:U,app:z,browserIds:x,diff:r.tree}),B.browsers.allIds.forEach((function(e){if((0,A.xg)(B,r.tree,["browsers","stateById",e,"shouldBeShown"])){if(!x.includes(e))return le(B,e,{shouldBeShown:!1},r.tree);var t=B.browsers.byId[e].resultIds,n=t.length-1;t.forEach((function(e,t){j.includes(e)?(n=t,Ve({tree:B,resultId:e,state:{matchedSelectedGroup:!0},diff:r.tree})):Ve({tree:B,resultId:e,state:{matchedSelectedGroup:!1},diff:r.tree})})),le(B,e,{lastMatchedRetryIndex:n},r.tree)}})),Ze({tree:B,diff:r.tree}),(0,A.rm)(e,r)):(ue(B,{shouldBeShown:!1,lastMatchedRetryIndex:null},r.tree),_e(B,{shouldBeShown:!1},r.tree),He(B,{matchedSelectedGroup:!1},r.tree),(0,A.rm)(e,r));case O.Z.GROUP_TESTS_BY_KEY:var G=e.tree,F=e.view,H=e.app;return He(G,{matchedSelectedGroup:!1},r.tree),pe({tree:G,view:F,app:H,diff:r.tree}),Ze({tree:G,diff:r.tree}),ue(G,{lastMatchedRetryIndex:null},r.tree),(0,A.rm)(e,r);case O.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT:var V=e.tree,W=e.view,q=e.staticImageAccepter,Y=e.app,K=t.payload,J=function(e,t){var r=("string"==typeof e?[e]:e).map((function(e){return t.acceptableImages[e].stateNameImageId}));return Object.values(t.acceptableImages).filter((function(e){return r.includes(e.stateNameImageId)}))}(K,q),X=J.filter((function(e){return(0,ie.Cx)(V.images.byId[e.id].status)})).map((function(e){return{id:e.id,status:q.acceptableImages[e.id].originalStatus}})),Q=K.map((function(e){return{id:e,status:we.Ez}})).concat(X);return Te({tree:V,view:W,app:Y,images:Q,diff:r.tree}),(0,A.rm)(e,r);case O.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:var $,ee=e.tree,te=e.view,ae=[],se=[],Ee=[],ye=Ke(t.payload);try{for(ye.s();!($=ye.n()).done;){var be=$.value,Oe=(0,c.get)(e,["staticImageAccepter","acceptableImages",be,"originalStatus"]),Ne=ee.images.byId[be].parentId,xe=ee.results.byId[Ne].parentId,je=ee.browsers.byId[xe].parentId;(0,A.FZ)(r,["tree","results","byId"]),ge(ee,be,Oe,r.tree),Ie(ee.results.byId,Ne,{status:we.ES},r.tree.results.byId),ae.push(xe),se.push(je),Ee.push(be)}}catch(e){ye.e(e)}finally{ye.f()}return ke(ee,se,r.tree),Pe({tree:ee,expand:te.expand,suiteIds:se,diff:r.tree}),fe({tree:ee,expand:te.expand,browserIds:ae,diff:r.tree}),me({tree:ee,expand:te.expand,imageIds:Ee,diff:r.tree}),pe({tree:ee,view:te,app:e.app,browserIds:ae,diff:r.tree}),Ze({tree:ee,suiteIds:se,diff:r.tree}),(0,A.rm)(e,r);case O.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT:var Le=e.tree,Be=e.view,Ue=e.staticImageAccepter,ze=e.app,Ge=t.payload,Fe=Ge.map((function(e){return Ue.acceptableImages[e].stateNameImageId})),Je=Object.values(Ue.acceptableImages).filter((function(e){return Fe.includes(e.stateNameImageId)})).filter((function(e){return(0,ie.hO)(Le.images.byId[e.id].status)})).map((function(e){return{id:e.id,status:Ue.acceptableImages[e.id].originalStatus}})),Xe=Ge.map((function(e){return{id:e,status:we.t6}})).concat(Je);return Te({tree:Le,view:Be,app:ze,images:Xe,diff:r.tree}),(0,A.rm)(e,r)}return(0,ne.Uy)(e,(function(e){switch(t.type){case O.Z.TEST_BEGIN:[].concat(t.payload).forEach((function(t){var r=t.result,n=t.suites;We(e.tree,r),de(e.tree,r.parentId),Re(e.tree,n)}));break;case O.Z.TEST_RESULT:case O.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE:!function(e,t){var r=e.tree,n=e.view,a=e.app;[].concat(t).forEach((function(e){var t=e.result,i=e.images,s=e.suites;Se([t],r.images.byId,s),We(r,t),de(r,t.parentId),function(e,t,r){t.forEach((function(t){e.images.byId[t.id]=t,e.images.allIds.includes(t.id)||e.images.allIds.push(t.id);var n=he(t,r);ve(e,t.id,{shouldBeOpened:n})}))}(r,i,n.expand),Re(r,s);var o=t.parentId,c=r.browsers.byId[o].parentId,u=n.expand===m.Tq?[c]:s.map((function(e){return e.id})),l=i.map((function(e){return e.id}));Pe({tree:r,expand:n.expand,suiteIds:u}),fe({tree:r,expand:n.expand,browserIds:[o]}),me({tree:r,expand:n.expand,imageIds:l}),a.suitesPage.viewMode===p.w.FAILED&&(pe({tree:r,view:n,app:a,browserIds:[o]}),Ze({tree:r,suiteIds:[c]}))})),r.suites.failedRootIds=Me(r.suites)}(e,t.payload);break;case O.Z.COMMIT_REVERTED_IMAGES_TO_TREE:var r,n=e.tree,a=e.view,i=e.app,s=t.payload,o=s.updatedImages,u=void 0===o?[]:o,l=s.removedResults,d=void 0===l?[]:l,f=d.filter((function(e){var t=n.results.byId[e],r=n.browsers.byId[t.parentId],a=(0,c.findLast)(r.resultIds,(function(t){return t!==e})),i=n.results.byId[a];return!(0,ie.Mg)(i.status)})),v=u.map((function(e){return e.parentId})).concat(f).map((function(e){var t=n.results.byId[e],r=n.browsers.byId[t.parentId];return n.suites.byId[r.parentId].id})),g=Ke(u);try{for(g.s();!(r=g.n()).done;){var h=r.value;n.images.byId[h.id]=h,n.images.stateById[h.id].shouldBeOpened=!0,n.results.byId[h.parentId].status=we.ES}}catch(e){g.e(e)}finally{g.f()}var E,y=Ke(d);try{for(y.s();!(E=y.n()).done;){var I=E.value;qe(n,I)}}catch(e){y.e(e)}finally{y.f()}ke(n,v),pe({tree:n,view:a,app:i}),Ze({tree:n});break;case O.Z.TOGGLE_BROWSER_CHECKBOX:var b=t.payload,S=b.suiteBrowserId,T=b.checkStatus,w=ce(e.tree,S);le(e.tree,S,{checkStatus:T}),Ae(e.tree,w);break;case O.Z.TOGGLE_SUITE_CHECKBOX:var N=t.payload,_=N.suiteId,C=N.checkStatus,R=e.tree.suites.byId[_].parentId,A=[_];for(Ce(e.tree,_,{checkStatus:C});A.length;){var M=A.pop(),D=e.tree.suites.byId[M].suiteIds||[],Z=e.tree.suites.byId[M].browserIds||[];D.forEach((function(t){var r=e.tree.suites.stateById[t].shouldBeShown,n=Number(r&&C);Ce(e.tree,t,{checkStatus:n})})),Z.forEach((function(t){var r=e.tree.browsers.stateById[t].shouldBeShown,n=Number(r&&C);le(e.tree,t,{checkStatus:n})})),A.push.apply(A,(0,re.Z)(D))}Ae(e.tree,R);break;case O.Z.TOGGLE_GROUP_CHECKBOX:var P=t.payload,k=P.browserIds,x=P.checkStatus,j=k.map((function(t){return ce(e.tree,t)}));k.forEach((function(t){le(e.tree,t,{checkStatus:x})})),Ae(e.tree,j)}}))}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:case O.Z.GROUP_TESTS_BY_KEY:case O.Z.TESTS_END:case O.Z.BROWSERS_SELECTED:case O.Z.VIEW_UPDATE_FILTER_BY_NAME:case O.Z.VIEW_SET_FILTER_MATCH_CASE:case O.Z.VIEW_SET_FILTER_USE_REGEX:case O.Z.VIEW_SET_STRICT_MATCH_FILTER:case O.Z.CHANGE_VIEW_MODE:case O.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE:case O.Z.COMMIT_REVERTED_IMAGES_TO_TREE:var r=e.tree,n=e.groupedTests,a=e.view,i=a.keyToGroupTestsBy,s=a.strictMatchFilter,o=e.app.suitesPage,c={viewMode:o.viewMode,filteredBrowsers:o.filteredBrowsers,nameFilter:o.nameFilter,useMatchCaseFilter:o.useMatchCaseFilter,useRegexFilter:o.useRegexFilter,strictMatchFilter:s},u={groupedTests:{meta:{}}};if(!i)return St(At({tree:r,group:n.meta,diff:u.groupedTests.meta},c)),(0,A.rm)(e,u);var l=(0,G.An)(i),d=(0,se.Z)(l,2),p=d[0],f=d[1];(0,A.FZ)(u,["groupedTests",p]);var m=n[p],g=u.groupedTests[p];return p===v.SA.RESULT?(Ct(At({tree:r,group:m,groupKey:f,errorPatterns:e.config.errorPatterns,diff:g},c)),(0,A.rm)(e,u)):p===v.SA.META?(St(At({tree:r,group:m,groupKey:f,diff:g},c)),(0,A.rm)(e,u)):e;default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:for(var r=[],n=new Set,a=0,i=Object.values(e.tree.results.byId);a<i.length;a++){var s=i[a];Object.keys(s.metaInfo).forEach((function(e){return n.add(e)}))}var o=Array.from(n.values()).map((function(e){return{id:e,type:h.zX.Meta,sectionId:"meta",key:e}}));return r.push.apply(r,(0,re.Z)(o)),r.push({id:"error-message",type:h.zX.Error,sectionId:"error"}),(0,A.rm)(e,{app:{groupTestsData:{availableExpressions:r,currentExpressionIds:[],availableSections:[{id:"meta",label:"Meta"},{id:"error",label:"Error"}]}}});case O.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var c=t.payload.expressionIds,u=c.map((function(t){return e.app.groupTestsData.availableExpressions.find((function(e){return e.id===t}))})),l=$t(u,e.tree.results.byId,e.tree.images.byId,e.config.errorPatterns);return Object.assign({},e,{tree:Object.assign({},e.tree,{groups:{byId:l,allRootIds:Object.keys(l)}}),app:Object.assign({},e.app,{groupTestsData:Object.assign({},e.app.groupTestsData,{currentExpressionIds:c})})});default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_STATIC_REPORT:case O.Z.INIT_GUI_REPORT:var r=sr;return(0,G.rm)(e,{app:{sortTestsData:{availableExpressions:r,currentDirection:h.Sr.Asc,currentExpressionIds:[r[0].id],previousDirection:h.Sr.Asc,previousExpressionIds:[r[0].id]}}});case O.Z.SORT_TESTS_SET_CURRENT_EXPRESSION:var n={currentExpressionIds:t.payload.expressionIds};return t.payload.expressionIds[0]===er.id?n.currentDirection=h.Sr.Asc:t.payload.expressionIds[0]===tr.id||t.payload.expressionIds[0]===rr.id?n.currentDirection=h.Sr.Desc:t.payload.expressionIds[0]===nr.id?n.currentDirection=h.Sr.Asc:(t.payload.expressionIds[0]===ar.id||t.payload.expressionIds[0]===ir.id)&&(n.currentDirection=h.Sr.Desc),or(t.payload.expressionIds)&&(n.previousExpressionIds=t.payload.expressionIds,n.previousDirection=n.currentDirection),(0,G.rm)(e,{app:{sortTestsData:n}});case O.Z.SORT_TESTS_SET_DIRECTION:var a={currentDirection:t.payload.direction};return or(e.app.sortTestsData.currentExpressionIds)&&(a.previousDirection=t.payload.direction,a.previousExpressionIds=e.app.sortTestsData.currentExpressionIds),(0,G.rm)(e,{app:{sortTestsData:a}});case O.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var i={},s=(0,re.Z)(e.app.sortTestsData.availableExpressions);return t.payload.expressionIds.length>0?s.push(rr):(s.splice(s.indexOf(rr),1),i.currentExpressionIds=e.app.sortTestsData.previousExpressionIds,i.currentDirection=e.app.sortTestsData.previousDirection),i.availableExpressions=s,(0,G.rm)(e,{app:{sortTestsData:i}});case O.Z.VIEW_UPDATE_FILTER_BY_NAME:if(t.payload.page===h.T3.suitesPage){var o={},c=(0,re.Z)(e.app.sortTestsData.availableExpressions),u=e.app.sortTestsData.previousExpressionIds,l=e.app.sortTestsData.previousDirection;return t.payload.data.length>0&&!c.some((function(e){return e.id===ir.id}))?(o.availableExpressions=[].concat((0,re.Z)(c),[ir]),o.currentExpressionIds=[ir.id],o.currentDirection=h.Sr.Desc):0===t.payload.data.length&&c.some((function(e){return e.id===ir.id}))&&(o.availableExpressions=c.filter((function(e){return e.id!==ir.id})),o.currentExpressionIds=u,o.currentDirection=l),(0,G.rm)(e,{app:{sortTestsData:o}})}return e;default:return e}}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r=[];dt.Ed((function(t){Array.isArray(t.reducers)&&r.push(o.Z.apply(void 0,[e].concat((0,re.Z)(t.reducers))))})),pt=o.Z.apply(void 0,[e].concat(r))}return pt(e,t)}),(function(e,t){if(t.type===O.Z.UPDATE_BOTTOM_PROGRESS_BAR){var r=t.payload.currentRootSuiteId;return(0,A.rm)(e,{progressBar:{currentRootSuiteId:r}})}return e}),(function(e,t){switch(t.type){case O.Z.INIT_STATIC_REPORT:case O.Z.INIT_GUI_REPORT:case O.Z.SUITES_PAGE_SET_TREE_VIEW_MODE:case O.Z.CHANGE_VIEW_MODE:case O.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var r,n=(0,Ut.V)(e).allTreeNodeIds,a=Object.assign({},e.ui.suitesPage.expandedTreeNodesById),i=Ft(n);try{for(i.s();!(r=i.n()).done;){a[r.value]=!0}}catch(e){i.e(e)}finally{i.f()}var s=null,o=e.app[h.T3.suitesPage].currentTreeNodeId,c=e.ui.suitesPage.treeViewMode;if(t.type===O.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION||t.type===O.Z.SUITES_PAGE_SET_TREE_VIEW_MODE){var u=e.app.suitesPage.currentBrowserId;if(u){var d=(0,Ut.V)(e).tree,p=(0,zt.iT)(d,u);o=null==p?void 0:p.id,p&&(s=(0,zt.av)(p))}}t.type===O.Z.SUITES_PAGE_SET_TREE_VIEW_MODE&&(c=t.payload.treeViewMode);var f=k.rV(Vt(h.T3.suitesPage),[E.p,100-E.p]),m=k.rV(Vt(h.T3.visualChecksPage),[E.p,100-E.p]),v=Boolean(k.rV(Gt.IP,!0));return(0,A.rm)(e,{app:{suitesPage:{currentGroupId:s,currentTreeNodeId:o}},ui:{suitesPage:{expandedTreeNodesById:a,treeViewMode:c,sectionSizes:f,isSnapshotsPlayerVisible:v},visualChecksPage:{sectionSizes:m}}});case O.Z.SUITES_PAGE_SET_CURRENT_SUITE:var g={};return t.payload.treeNodeId&&(g.currentTreeNodeId=t.payload.treeNodeId),t.payload.browserId&&(g.currentBrowserId=t.payload.browserId),t.payload.groupId&&(g.currentGroupId=t.payload.groupId),(0,A.rm)(e,{app:{suitesPage:g}});case O.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED:return(0,A.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:(0,l.Z)({},t.payload.nodeId,t.payload.isExpanded)}}});case O.Z.SUITES_PAGE_SET_ALL_TREE_NODES:var y={};for(var I in e.ui.suitesPage.expandedTreeNodesById)y[I]=t.payload.isExpanded;return(0,A.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:y}}});case O.Z.SUITES_PAGE_SET_SECTION_EXPANDED:return(0,A.rm)(e,{ui:{suitesPage:{expandedSectionsById:(0,l.Z)({},t.payload.sectionId,t.payload.isExpanded)}}});case O.Z.SUITES_PAGE_SET_STEPS_EXPANDED:return t.payload.resultId?(0,A.rm)(e,{ui:{suitesPage:{expandedStepsByResultId:(0,l.Z)({},t.payload.resultId,t.payload.expandedById)}}}):e;case O.Z.SUITES_PAGE_REVEAL_TREE_NODE:for(var b=(0,Ut.V)(e).tree,S=(0,zt.Qt)(b,t.payload.nodeId),T={};S;){var w;(S=null!==(w=S.parentData)&&void 0!==w?w:null)&&(T[S.id]=!0)}return(0,A.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:T}}});case O.Z.SUITES_PAGE_SET_CURRENT_STEP:return(0,A.rm)(e,{app:{suitesPage:{currentStepId:t.payload.stepId}}});case O.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:return(0,A.rm)(e,{app:{suitesPage:{currentHighlightedStepId:t.payload.stepId}}});case O.Z.PAGE_SET_SECTION_SIZES:var N=Vt(t.payload.page);return k.LS(N,t.payload.sizes),(0,A.rm)(e,{ui:(0,l.Z)({},t.payload.page,{sectionSizes:t.payload.sizes})});case O.Z.PAGE_SET_BACKUP_SECTION_SIZES:return(0,A.rm)(e,{ui:(0,l.Z)({},t.payload.page,{backupSectionSizes:t.payload.sizes})});default:return e}}),(function(e,t){return t.type===O.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE?(0,A.rm)(e,{app:{visualChecksPage:{currentNamedImageId:t.payload.namedImageId}}}):e}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:return(0,G.rm)(e,{app:{isInitialized:!0,loading:{isVisible:!1}}});default:return e}}),(function(e,t){return t.type===O.Z.SET_GUI_SERVER_CONNECTION_STATUS?(0,G.rm)(e,{app:{guiServerConnection:{isConnected:t.payload.isConnected}}}):e}),(function(e,t){switch(t.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var r,n,a=(0,re.Z)(e.app.availableFeatures),i=null!==(r=null===(n=t.payload)||void 0===n?void 0:n.features)&&void 0!==r?r:[];return a.push.apply(a,(0,re.Z)(i)),a.length>0?(0,G.rm)(e,{app:{availableFeatures:a}}):e;case O.Z.SET_AVAILABLE_FEATURES:return(0,G.rm)(e,{app:{availableFeatures:t.payload.features}})}return e}),(function(e,t){switch(t.type){case O.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:return(0,G.rm)(e,{app:{snapshotsPlayer:{isActive:t.payload.isActive,highlightStartTime:t.payload.startTime,highlightEndTime:t.payload.endTime}}});case O.Z.SNAPSHOTS_PLAYER_GO_TO_TIME:return(0,G.rm)(e,{app:{snapshotsPlayer:{goToTime:t.payload.time}}});case O.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:return k.LS(Gt.IP,t.payload.isVisible),(0,G.rm)(e,{ui:{suitesPage:{isSnapshotsPlayerVisible:t.payload.isVisible}}})}return e}));var ur=r(59543),lr=r(53516);var dr=r(59948);var pr,fr,mr,vr=[s.Z,function(e){return function(t){return function(r){var n,a=t(r);if(n=r.type,/^VIEW_/.test(n)||[O.Z.INIT_GUI_REPORT,O.Z.INIT_STATIC_REPORT,O.Z.CHANGE_VIEW_MODE,O.Z.SET_DIFF_MODE].includes(n)){var i=e.getState(),s=i.view,o=i.app;k.LS("view",{expand:s.expand,diffMode:s.diffMode,strictMatchFilter:s.strictMatchFilter}),k.LS("app.suitesPage.viewMode",o.suitesPage.viewMode),k.LS("app.visualChecksPage.viewMode",o.visualChecksPage.viewMode)}return a}}}],gr=i.compose,hr=null===(pr=(window.data||{}).config)||void 0===pr?void 0:pr.yandexMetrika,Er=(null==hr?void 0:hr.enabled)&&(null==hr?void 0:hr.counterNumber),yr=window.ym&&"function"==typeof window.ym;if(Er&&yr){var Ir=new dr.m(Er&&yr),br=(fr=Ir,mr=!1,function(e){return function(t){return function(r){switch(r.type){case O.Z.INIT_GUI_REPORT:case O.Z.INIT_STATIC_REPORT:var n,a,i=Date.now();g=function(e){var t=e.name,r=e.value,n=Math.round("CLS"===t?1e3*r:r);fr.setVisitParams((0,l.Z)({},t,n))},(0,ur.kz)(g),(0,ur.Tx)(g),(0,ur.Y)(g),(0,ur.Tb)(g),(0,ur.CA)(g);var s=t(r),o=e.getState(),u=(0,c.get)(o,"tree.browsers.allIds.length",0);return fr.setVisitParams((a={},(0,l.Z)(a,r.type,Date.now()-i),(0,l.Z)(a,"initView",o.view),(0,l.Z)(a,"testsCount",u),(0,l.Z)(a,"isNewUi",Boolean(null==o||null===(n=o.app)||void 0===n?void 0:n.isNewUi)),a)),s;case O.Z.BROWSERS_SELECTED:fr.trackFeatureUsage({featureName:r.type});var d=t(r);if(!mr){var p,f;mr=!0,null===(p=performance)||void 0===p||null===(f=p.mark)||void 0===f||f.call(p,lr.Z.FULLY_LOADED);var m=function(){var e,t;return((null===(e=performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t?void 0:t.call(e,"mark"))||[]).reduce((function(e,t){var r=t.name,n=t.startTime;return e[r]=Math.round(n),e}),{})}();fr&&!(0,c.isEmpty)(m)&&fr.setVisitParams(m)}return d;case O.Z.RUN_ALL_TESTS:case O.Z.RUN_FAILED_TESTS:case O.Z.RETRY_SUITE:case O.Z.RETRY_TEST:case O.Z.CHANGE_VIEW_MODE:case O.Z.VIEW_EXPAND_ALL:case O.Z.VIEW_COLLAPSE_ALL:case O.Z.VIEW_EXPAND_ERRORS:case O.Z.VIEW_EXPAND_RETRIES:case O.Z.VIEW_UPDATE_BASE_HOST:case O.Z.SET_DIFF_MODE:case O.Z.VIEW_UPDATE_FILTER_BY_NAME:case O.Z.VIEW_SET_FILTER_MATCH_CASE:case O.Z.VIEW_SET_FILTER_USE_REGEX:case O.Z.VIEW_SET_STRICT_MATCH_FILTER:case O.Z.RUN_CUSTOM_GUI_ACTION:case O.Z.TOGGLE_SUITE_SECTION:case O.Z.TOGGLE_BROWSER_SECTION:case O.Z.TOGGLE_STATE_RESULT:case O.Z.CHANGE_TEST_RETRY:case O.Z.GROUP_TESTS_BY_KEY:return fr.trackFeatureUsage({featureName:r.type}),t(r);case O.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:return fr.trackFeatureUsage({featureName:r.type,groupByKey:r.payload.expressionIds[0]}),t(r);case O.Z.SORT_TESTS_SET_CURRENT_EXPRESSION:return fr.trackFeatureUsage({featureName:r.type,sortByKey:r.payload.expressionIds[0],sortDirection:e.getState().app.sortTestsData.currentDirection}),t(r);case O.Z.SORT_TESTS_SET_DIRECTION:return fr.trackFeatureUsage({featureName:r.type,sortByKey:e.getState().app.sortTestsData.currentExpressionIds[0],sortDirection:r.payload.direction}),t(r);case O.Z.OPEN_MODAL:case O.Z.CLOSE_MODAL:var v=(0,c.get)(r,"payload.id",r.type);return fr.trackFeatureUsage({featureName:v}),t(r);default:return t(r)}var g}}});vr.push(br)}const Sr=gr(i.applyMiddleware.apply(void 0,vr))(i.createStore)(cr,{})},79483:(e,t,r)=>{"use strict";r.d(t,{m:()=>c,p:()=>o});var n=r(9249),a=r(87371),i=r(56666),s=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var r;null===(r=e.cache[t])||void 0===r||r.remove(),delete e.cache[t]}}]),e}();function o(e){return s.register(e),function(){return s.dispose(e)}}function c(e){var t=[];return function(e){return Object.hasOwn(e,"expectedImg")}(e)&&t.push(o(e.expectedImg.path)),function(e){return Object.hasOwn(e,"actualImg")}(e)&&t.push(o(e.actualImg.path)),function(e){return Object.hasOwn(e,"diffImg")}(e)&&t.push(o(e.diffImg.path)),function(e){return Object.hasOwn(e,"refImg")}(e)&&t.push(o(e.refImg.path)),function(){return t.forEach((function(e){return e()}))}}(0,i.Z)(s,"cache",{})},14054:(e,t,r)=>{"use strict";r.d(t,{An:()=>N,D8:()=>v,Et:()=>O,F7:()=>h,Gz:()=>T,KD:()=>y,ML:()=>b,Ow:()=>_,TV:()=>S,V_:()=>I,Xd:()=>g,h3:()=>E,kp:()=>w,rm:()=>f.rm});var n=r(86522),a=r(34795),i=r(46840),s=r(68079),o=r(82841),c=r.n(o),u=r(76635),l=r(89325),d=r(82806),p=r(73241),f=r(21990),m=Object.values(p.SA);function v(e){return(0,d.R6)(e.status)||(0,d.KM)(e.status)}function g(e){return(0,d.Cx)(e.status)}function h(e){return(0,d.Mg)(e.status)||(0,d.Cr)(e.status)||(0,d.Cx)(e.status)||(0,d.hO)(e.status)}function E(e){var t=e.status,r=e.error;return(0,d.KM)(t)&&((0,d.S5)(r)||(0,d.Ne)(r))||(0,d.R6)(t)||(0,d.sx)(t)}function y(e){var t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,r=e.image,n=e.isLastResult;return t&&r.stateName&&n&&(0,d.Cr)(r.status)}({gui:t,image:r,isLastResult:n})||function(e){var t=e.gui,r=e.image,n=e.isStaticImageAccepterEnabled;return!t&&n&&r.stateName&&(0,d.Cx)(r.status)}({gui:t,image:r,isStaticImageAccepterEnabled:a})}function I(e){if(!e)return"";var t=(0,u.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function b(e){var t=e.message,r=e.response;return r?"(".concat(r.status,") ").concat(r.data):t}function S(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.strictMatchFilter,i=n.useMatchCaseFilter,s=void 0!==i&&i,o=n.useRegexFilter,c=void 0!==o&&o,u=n.isNewUi;if(!r)return{isMatch:!0,score:1};if(!(void 0===u||u)){var d=function(e,t,r,n){if(!r)return!0;var a=r.replace(/ /g,"(?: | › )");return n?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,r,a);return{isMatch:d,score:d?1:0}}var f=s?"":"i";if(c)try{var m=new RegExp(r,f);return{isMatch:m.test(e)||m.test("".concat(e," ").concat(t)),score:0}}catch(e){return{isMatch:!1,score:0}}if(a){var v=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),g="^".concat(v.replace(/ /g,"(?: | › )"),"$");try{var h=new RegExp(g,f);return{isMatch:h.test(e)||h.test("".concat(e," ").concat(t)),score:0}}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(g,". Please file an issue at ").concat(p.WY)),{isMatch:!1,score:0}}}return r.length<256?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new l.Z(e,{keys:["title"],threshold:.4,isCaseSensitive:r,findAllMatches:!0,ignoreLocation:!0,includeScore:!0}).search(t);return 0===n.length?{isMatch:!1,score:1}:{isMatch:!0,score:1-n.reduce((function(e,t){return t.score<e.score?t:e}),n[0]).score}}([{title:"".concat(e," ").concat(t)}],{$or:[{title:r},{title:R(r)}]},s):{isMatch:"".concat(e," ").concat(t).includes(r),score:0}}function T(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return r===p.wO.ALL||(!(r!==p.wO.PASSED||!(0,d.Mg)(t))||(!(r!==p.wO.FAILED||!(0,d.R6)(t)&&!(0,d.KM)(t))||(r===p.wO.RETRIED?(0,f.xg)(e,n,"resultIds.length")>1:t===r)))}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,u.isEmpty)(t))return!0;var n=(0,u.find)(t,{id:(0,f.xg)(e,r,"name")});if(!n)return!1;var a=[].concat(n.versions).filter(Boolean);return!!(0,u.isEmpty)(a)||a.includes((0,f.xg)(e,r,"version"))}function O(e,t){var r=t.suiteCb,n=t.browserCb,a=t.browserIdsCb,i=[],o=[];return e.browserIds&&[n,a].some(u.isFunction)&&(i=a?a(e.browserIds,e):(0,u.flatMap)(e.browserIds,(function(t){return n(t,e)}))),e.suiteIds&&(0,u.isFunction)(r)&&(o=(0,u.flatMap)(e.suiteIds,(function(t){return r(t,e)}))),[].concat((0,s.Z)(i),(0,s.Z)(o))}function N(e){var t=e.split(p.QV),r=(0,i.Z)(t),n=r[0],a=r.slice(1);if(a=a.join(p.QV),!m.includes(n))throw new Error("Group section must be one of ".concat(m.join(", "),", but got ").concat(n));if(n===p.SA.RESULT&&!p.Kr.includes(a))throw new Error("Group key must be one of ".concat(p.Kr.join(", "),", but got ").concat(a));return[n,a]}function _(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)(c().mark((function e(t){var r,a,i,s,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r=o.length>1&&void 0!==o[1]?o[1]:3,i=c().mark((function e(){var n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,r){var n=new XMLHttpRequest;n.onload=function(){return e(n.response)},n.onerror=function(){return r(new Error("Got an error trying to download object at: ".concat(t)))},n.open("GET",t),n.responseType="blob",n.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return n=r-a,i=500*Math.pow(2,n),e.next=16,new Promise((function(e){return setTimeout(e,i)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(i(),"t0",5);case 5:if(s=e.t0,"object"!==(0,n.Z)(s)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function R(e){if(!e)return"";for(var t,r,n="`qwertyuiop[]\\asdfghjkl;'zxcvbnm,.~QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?",a="ёйцукенгшщзхъ\\фывапролджэячсмитьбюЁЙЦУКЕНГШЩЗХЪ|ФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,",i=!1,s=0;s<e.length;s++){var o=e[s];if(n.includes(o)){t=n,r=a,i=!0;break}if(a.includes(o)){t=a,r=n,i=!0;break}}if(!i)return e;for(var c="",u=0;u<e.length;u++){var l=e[u],d=t.indexOf(l);c+=d>=0?r[d]:l}return c}},21990:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>c,rm:()=>o,xg:()=>u});var n=r(56666),a=r(76635);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);for(var o in t)(0,a.isPlainObject)(t[o])&&(0,a.isPlainObject)(e[o])?r[o]=s(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:delete r[o];return r}var o=function(e,t){return s(e,t)};function c(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];r[a]=r[a]||{},r=r[a]}}function u(e,t,r){var n=(0,a.get)(t,r);return(0,a.isUndefined)(n)?(0,a.get)(e,r):n}},59948:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(9249),a=r(87371),i=function(e){return e.ReachGoal="reachGoal",e.Params="params",e}(i||{}),s=function(e){return e.ScreenshotAccept="ACCEPT_SCREENSHOT",e.OpenedScreenshotsAccept="ACCEPT_OPENED_SCREENSHOTS",e.FeatureUsage="FEATURE_USAGE",e}(s||{}),o=function(){function e(t,r){(0,n.Z)(this,e),this._isEnabled=t,this._counterNumber=r}return(0,a.Z)(e,[{key:"_registerGoal",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._isEnabled&&(null===(t=(r=window).ym)||void 0===t||t.call(r,this._counterNumber,i.ReachGoal,e,n))}},{key:"setVisitParams",value:function(e){var t,r;this._isEnabled&&(null===(t=(r=window).ym)||void 0===t||t.call(r,this._counterNumber,i.Params,e))}},{key:"trackScreenshotsAccept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{acceptedImagesCount:1};this._registerGoal(s.ScreenshotAccept,e)}},{key:"trackOpenedScreenshotsAccept",value:function(e){this._registerGoal(s.OpenedScreenshotsAccept,e)}},{key:"trackFeatureUsage",value:function(e){this._registerGoal(s.FeatureUsage,e)}}]),e}()},99054:(e,t,r)=>{"use strict";r.d(t,{g:()=>ts});var n=r(91545),a=r(34871),i=r(93150),s=(r(43810),r(636),r(2784)),o=r(4792),c=r(73557),u=r(39857),l=r(56666),d=r(96234);const p={container:"lnO8uESZgfvSVtEYpGam",hidden:"CCI5LqUNgjS7zF83pAM6",message:"_0P3PuPuWLCazLlHikM5Q","message-container":"ctAvRjl5qkms0WmO9Dyu",messageContainer:"ctAvRjl5qkms0WmO9Dyu",loader:"pYmZDVrmXITQHOBg1tOt",l3:"gOFBlufBkLmypSqR7R2v","progress-container":"yVAMk4VsEQ_6jVIb0ZeI",progressContainer:"yVAMk4VsEQ_6jVIb0ZeI","progress-pulse":"sp69klhG7YYuGCk2ohtA",progressPulse:"sp69klhG7YYuGCk2ohtA"};var f=r(54901),m=r(72779),v=r.n(m);function g(){var e=(0,o.useSelector)((function(e){return e.app.loading.isVisible})),t=(0,o.useSelector)((function(e){return e.app.loading.isInProgress})),r=(0,s.useRef)(e),n=(0,o.useSelector)(f.A),a=(0,o.useSelector)((function(e){return e.app.loading.taskTitle})),i=s.useState(!0),c=(0,d.Z)(i,2),u=c[0],m=c[1];return(0,s.useEffect)((function(){r.current=e;var t=setTimeout((function(){e===r.current&&m(!e)}),500);return function(){return clearTimeout(t)}}),[e]),s.createElement("div",{className:v()(p.container,(0,l.Z)({},p.hidden,u))},s.createElement("div",{className:p.messageContainer},s.createElement("div",{className:p.message},s.createElement("span",null,a),t&&s.createElement("div",{className:p.loader}))),s.createElement("div",{className:p.progressContainer,style:{width:"".concat(100*n,"%")}},s.createElement("div",{className:p.progressPulse})))}var h=r(34795),E=r(82841),y=r.n(E),I=r(17943),b=r(28316);const S={container:"_Whrj1os2LaeakwNCWXc",dragging:"nny5LU0yAUoYFCPqorjl",visible:"h5wWg4eXX6Ef2iJDlryi","icon-container":"Zn_L8aLsSwvb6op30RbA",iconContainer:"Zn_L8aLsSwvb6op30RbA"};function T(e){var t,r=(0,s.useState)(!1),n=(0,d.Z)(r,2),a=n[0],o=n[1],c=(0,s.useState)({x:0,y:0}),u=(0,d.Z)(c,2),p=u[0],f=u[1],m=function(t){if(a&&e.draggable){var r={x:t.clientX-p.x,y:t.clientY-p.y};e.draggable.onOffsetChange(r)}},g=function(){o(!1)};return(0,s.useEffect)((function(){return a?(document.body.style.userSelect="none",document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)):(document.body.style.userSelect="auto",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g)),function(){document.body.style.userSelect="auto",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g)}}),[a]),(0,b.createPortal)(s.createElement("div",{style:e.draggable?{"--x":e.draggable.offset.x,"--y":e.draggable.offset.y}:{},className:v()(S.container,e.className,(t={},(0,l.Z)(t,S.visible,e.isVisible),(0,l.Z)(t,S.dragging,a),t))},s.createElement("div",{className:S.iconContainer},e.draggable&&s.createElement("span",{onMouseDown:function(t){e.draggable&&(o(!0),f({x:t.clientX-e.draggable.offset.x,y:t.clientY-e.draggable.offset.y}))}},s.createElement(i.JO$,{data:I.Z}))),e.children),document.body)}var w=r(88089),O=r(37283);const N={container:"FAV97LLAqyGsXyP9FlJ5","buttons-container":"xw120Yd5IR_HMqKpWYp_",buttonsContainer:"xw120Yd5IR_HMqKpWYp_",title:"wiY78pdZ9qzQZNdMwhhJ",button:"iX3eJNi_qplLUklfzHEu regular-button","primary-button":"XMmHFWjGcfFG6skzXtpi",primaryButton:"XMmHFWjGcfFG6skzXtpi","modal-container":"btAIBB2I8fIo0a8_s3UK",modalContainer:"btAIBB2I8fIo0a8_s3UK","modal-description":"v9MDW0qGIYeLZgFPOfNr",modalDescription:"v9MDW0qGIYeLZgFPOfNr","modal-field-label":"jEZBeZsifpKQoioykkK6",modalFieldLabel:"jEZBeZsifpKQoioykkK6","modal-input":"RpmfSkLvOcu30db6Nz0Z",modalInput:"RpmfSkLvOcu30db6Nz0Z","modal-buttons-container":"aZkH5agDK5fZGNbNWDu5",modalButtonsContainer:"aZkH5agDK5fZGNbNWDu5","modal-button-primary":"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button",modalButtonPrimary:"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button","error-toaster":"jIjx1MgodgCldWWt3EFg",errorToaster:"jIjx1MgodgCldWWt3EFg","toast-appear":"eN0scBvLJxQGinnsxagF",toastAppear:"eN0scBvLJxQGinnsxagF","error-toaster-icon":"eKNTjhi7z6cNmuv8bKDI",errorToasterIcon:"eKNTjhi7z6cNmuv8bKDI"};var _=r(32022),C=r(73241),R=r(78272),A=r(76635);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(){var e=(0,o.useDispatch)(),t=(0,i.Psm)(),r=(0,o.useSelector)((function(e){return e.processing})),n=(0,o.useSelector)((function(e){return e.tree.images.byId})),a=(0,o.useSelector)((function(e){return e.staticImageAccepter.acceptableImages})),u=(0,o.useSelector)((function(e){return e.staticImageAccepter.accepterDelayedImages})),l=Object.values(a).filter((function(e){return e.commitStatus===C.ih.STAGED})),p=(0,o.useSelector)((function(e){return e.config.staticImageAccepter})),f=(0,o.useSelector)((function(e){return e.config.staticImageAccepter.pullRequestUrl})),m=(0,o.useSelector)((function(e){return e.ui.staticImageAccepterToolbar.offset})),g=(0,c.TH)(),E=(0,s.useState)(null),I=(0,d.Z)(E,2),b=I[0],S=I[1],M=(0,s.useState)(!1),Z=(0,d.Z)(M,2),P=Z[0],k=Z[1],x=(0,o.useSelector)((function(e){return e.app.staticImageAccepterModal.commitMessage}));(0,s.useEffect)((function(){var e=l.length>0&&!r&&!P&&["/suites","/visual-checks"].some((function(e){return g.pathname.startsWith(e)}));Boolean(e)!==Boolean(b)&&S(e)}),[l,g,P]);var j=function(){var r=(0,h.Z)(y().mark((function r(){var i,o,c;return y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=(0,R.Yo)(Object.values(a),n,u),o=D(D({},(0,A.pick)(p,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:x}),k(!1),r.next=5,e((0,_.staticAccepterCommitScreenshot)(i,o));case 5:(c=r.sent).error&&t.add({name:"static-accepter-error",title:"Failed to commit images",content:c.error.message+". See console for details.",isClosable:!0,autoHiding:5e3,renderIcon:function(){return s.createElement(w.Z,{className:N.errorToasterIcon,width:20,height:20})},className:N.errorToaster});case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return s.createElement(T,{isVisible:b,className:N.container,draggable:{offset:m,onOffsetChange:function(t){e((0,_.staticAccepterUpdateToolbarOffset)({offset:t}))}}},s.createElement("div",null,l.length," ",l.length>1?"images are":"image is"," staged for commit"),s.createElement("div",{className:N.buttonsContainer},s.createElement(i.zxk,{view:"flat-contrast",className:N.button,onClick:function(){e((0,_.staticAccepterUnstageScreenshot)(l.map((function(e){return e.id}))))}},"Cancel"),s.createElement(i.zxk,{view:"normal-contrast",className:v()(N.primaryButton,N.button),onClick:function(){k(!0)}},"Commit...")),s.createElement(i.u_l,{open:P,onClose:function(){return k(!1)},contentClassName:N.modalContainer},s.createElement("div",{className:"text-header-1"},"Commit images"),s.createElement("div",{className:N.modalDescription},"Commit with ",l.length," ",l.length>1?"images":"image"," will be added to your pull request at ",s.createElement("a",{href:f,target:"_blank",rel:"noreferrer"},f),"."),s.createElement("div",{className:N.modalFieldLabel},"Commit Message"),s.createElement(i.oil,{className:N.modalInput,value:x,onUpdate:function(t){e((0,_.staticAccepterUpdateCommitMessage)({commitMessage:t}))}}),s.createElement("div",{className:N.modalButtonsContainer},s.createElement(i.zxk,{view:"flat",className:N.button,onClick:function(){k(!1)}},"Cancel"),s.createElement(i.zxk,{view:"action",className:N.modalButtonPrimary,onClick:j},s.createElement(i.JO$,{data:O.Z}),"Commit"))))}var P=r(15463),k=r(16060),x=r(40645),j=r(2542),L=r(24298),B=r(57159);const U={container:"ngrs5mVBeAlYXfHWBJXn",divider:"BO7pOO65LGTLghKX4XEf"};function z(e){return s.createElement("div",{className:v()(U.container,e.className)},s.createElement("h2",{className:v()("text-display-1")},e.title),s.createElement(i.izJ,{className:U.divider,orientation:"horizontal"}),e.children)}const G={description:"YVXELODzndrtz4PnhtX8"};function F(e){return s.createElement("div",null,s.createElement("div",{className:v()("text-header-1")},e.title),e.description&&s.createElement("div",{className:G.description},e.description),e.children)}var H=r(63550);const V={container:"GZUFCStbf0CDjlxJFCpX","text-container":"TJzZcWwIu5mBPKg3eyYF",textContainer:"TJzZcWwIu5mBPKg3eyYF",title:"JVNFhJhbJhIpMyWaD02f",description:"pa8e9Xu2uszdGKlBM7Gp"};function W(e){return s.createElement("div",{className:V.container},s.createElement("div",{className:V.textContainer},s.createElement("div",{className:V.title},e.title),e.description&&s.createElement("div",{className:V.description},e.description)),s.createElement(i.rsf,{checked:e.checked,onUpdate:e.onUpdate}))}var q=r(32444);const Y={divider:"Sir3vIsZhnJbhlzn_ISI"};function K(){var e=(0,o.useDispatch)(),t=(0,H.z)(),r=(0,o.useSelector)((function(e){return e.view.baseHost})),n=(0,o.useSelector)((function(e){return e.app.availableFeatures.some((function(e){return e.name===C.qW.name}))})),a=(0,B.Z)(L.Fe.UIMode,L.HT.New),c=(0,d.Z)(a,2)[1],u=(0,B.Z)(L.Fe.TimeTravelUseRecommendedSettings,!0),l=(0,d.Z)(u,2),p=l[0],f=l[1],m=(0,s.useCallback)(function(){var r=(0,h.Z)(y().mark((function r(a){var i;return y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:return null==t||t.trackFeatureUsage({featureName:a?"Enable Time Travel Recommended Settings":"Disable Time Travel Recommended Settings"}),f(a),r.next=6,(0,q.r)({useRecommendedSettings:a});case 6:i=r.sent,(0,q.R)(i)?console.error("Failed to update time travel settings:",i.error.message):e(_.setBrowserFeatures({browserFeatures:i.data.browserFeatures}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,f]);return s.createElement(z,{title:"Settings"},s.createElement(F,{title:"Base Host",description:s.createElement(s.Fragment,null,"URLs in Meta and in test steps' commands are affected by this.")},s.createElement(i.oil,{onChange:function(t){e(_.updateBaseHost(t.target.value))},value:r})),s.createElement(i.izJ,{orientation:"horizontal",className:Y.divider}),s.createElement(F,{title:"New UI",description:"Minimalistic yet informative, the new UI offers a cleaner look and optimised screen space usage."},s.createElement(i.zxk,{className:v()(Y.settingControl,"regular-button"),onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to old UI"}),c(L.HT.Old),window.location.pathname=window.location.pathname.replace(/\/new-ui(\.html)?$/,(function(e,t){return t?"/index.html":"/"}))}},s.createElement(i.JO$,{data:j.Z}),"Switch back to the old UI")),s.createElement(i.izJ,{orientation:"horizontal",className:Y.divider}),s.createElement(F,{title:"Theme",description:"Currently only light theme is available — stay tuned for night mode."},s.createElement(i.PhF,{className:v()(Y.settingControl,"regular-button"),value:["Light"],width:"max",disabled:!0})),s.createElement(i.izJ,{orientation:"horizontal",className:Y.divider}),n&&s.createElement(F,{title:"Time Travel"},s.createElement(W,{title:"Use recommended settings",description:p?"Settings for the best debugging experience will be applied on top of your config (recommended).":"Using project config without changes. This may affect availability of time travel features.",checked:p,onUpdate:m})))}const J="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTTExLjIyLDI5LjQ2YzIuMTMsMCw0LjEyLTEuMTMsNS4xOS0yLjk4bDMuNjItNi4yNywyLjkuMDJjMi4xMiwwLDQuMDktMS4xMyw1LjE1LTIuOTdsMS4wNi0xLjgxaC04LjYxYy0yLjEzLDAtNC4xMiwxLjEzLTUuMTksMi45OGwtNi4zNiwxMS4wMWgyLjI0Wk0yNy45OCwxNi4xMmwtLjQ5LjgxYy0uOTQsMS42My0yLjY5LDIuNjQtNC41NywyLjYzbC0yLjUyLS4wMiwxLjk3LTMuNDNoNS42WiIgc3R5bGU9ImZpbGw6I2ZmZjsgc3Ryb2tlLXdpZHRoOjBweDsiLz48cGF0aCBkPSJNMjguMDMsMTEuMDVjLTEuMDYtMS44NS0zLjA0LTMtNS4xNy0zaC03LjI0cy0xLjQzLTIuNTItMS40My0yLjUyYy0xLjA2LTEuODQtMy4wMy0yLjk4LTUuMTQtMi45OGwtMi4xLS4wMiw0LjMsNy40NWMxLjA2LDEuODUsMy4wNCwzLDUuMTcsM2gxMi43MnMtMS4xMS0xLjk0LTEuMTEtMS45NFpNOC4wOSwzLjJsLjk1LjAyYzEuODgsMCwzLjYzLDEuMDEsNC41NywyLjY0bDEuMjQsMi4xOWgtMy45NnMtMi44LTQuODUtMi44LTQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Ik0zLjY3LDUuN2MtMS4wNywxLjg0LTEuMDgsNC4xMy0uMDEsNS45OGwzLjYyLDYuMjctMS40NywyLjVjLTEuMDYsMS44My0xLjA2LDQuMTEsMCw1Ljk0bDEuMDMsMS44Miw0LjMtNy40NWMxLjA3LTEuODQsMS4wOC00LjEzLjAxLTUuOThMNC44LDMuNzdsLTEuMTMsMS45M1pNNi44NSwyNi44OWwtLjQ2LS44M2MtLjk0LTEuNjMtLjk0LTMuNjUsMC01LjI4bDEuMjctMi4xNywxLjk4LDMuNDItMi44LDQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjwvc3ZnPg==",X={"aside-header-bg-wrapper":"WmsnGRyf__x9VugItYEg",asideHeaderBgWrapper:"WmsnGRyf__x9VugItYEg","aside-header-bg":"hN0bow_PIW9RKTKYo57R",asideHeaderBg:"hN0bow_PIW9RKTKYo57R","footer-item":"JebroZPzNgvfFBlBqe48",footerItem:"JebroZPzNgvfFBlBqe48","footer-item--active":"MbgAvT0VZWc0256Q1xEf",footerItemActive:"MbgAvT0VZWc0256Q1xEf"};var Q=r(34863),$=r(38461),ee=r(86224),te=r(28786);const re={container:"oAYBNG9X8F88k_cmCgvG",arrow:"hvS2LCYxMAYSD1dM7myQ","arrow-shake":"Eebk71F2Nvmg2lv0N8l5",arrowShake:"Eebk71F2Nvmg2lv0N8l5","hint-title":"GpX1OLIjDf0OyfN77NPa",hintTitle:"GpX1OLIjDf0OyfN77NPa","close-button":"XVrHRjoyGo1vWYVsh8fB",closeButton:"XVrHRjoyGo1vWYVsh8fB"};function ne(e){return s.createElement(T,{isVisible:e.isVisible,className:re.container},s.createElement(ee.Z,{className:re.arrow}),s.createElement("div",{className:re.hintTitle},"Hint"),s.createElement("svg",{viewBox:"0 0 2 2",height:2},s.createElement("circle",{r:"1",cx:"1",cy:"1"})),s.createElement("div",null,"You can always switch back to the old UI in Settings"),s.createElement(te.Z,{className:re.closeButton,onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}))}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e){var t=(0,o.useSelector)(x.Dr),r=(0,s.useState)(null),n=(0,d.Z)(r,2),a=n[0],c=n[1],u=(0,B.Z)("ui-mode-hint-shown",!1),p=(0,d.Z)(u,2),f=p[0],m=p[1];(0,s.useEffect)((function(){var e="1"===new URL(window.location.href).searchParams.get("switched-from-old-ui");if(t&&e&&!f){c(!0),m(!0);var r=setTimeout((function(){c(!1)}),2e4);return function(){clearTimeout(r)}}}),[t]),(0,s.useEffect)((function(){a&&e.visiblePanel&&c(!1)}),[e.visiblePanel]);var g=e.visiblePanel===_e.Info,h=e.visiblePanel===_e.Settings;return s.createElement(s.Fragment,null,s.createElement(ne,{isVisible:a,onClose:function(){return c(!1)}}),s.createElement(P.F,{compact:!1,item:{id:_e.Info,title:"Info",onItemClick:e.onFooterItemClick,current:g,qa:"footer-item-info",itemWrapper:function(e,r){var n;return r(ie(ie({},e),{},{icon:s.createElement(i.JO$,{className:v()((n={},(0,l.Z)(n,X.footerItem,!g),(0,l.Z)(n,X["footer-item--active"],g),(0,l.Z)(n,"disabled",!t),n)),data:Q.Z})}))}}}),s.createElement(P.F,{compact:!1,item:{id:_e.Settings,title:"Settings",onItemClick:e.onFooterItemClick,current:h,itemWrapper:function(e,r){var n;return r(ie(ie({},e),{},{icon:s.createElement(i.JO$,{className:v()((n={},(0,l.Z)(n,X.footerItem,!h),(0,l.Z)(n,X["footer-item--active"],h),(0,l.Z)(n,"disabled",!t),n)),data:$.Z})}))}}}))}const oe={"common-card":"Fj5sjZwVCKyeWxfmeV7A",commonCard:"Fj5sjZwVCKyeWxfmeV7A",wrapper:"KVTvH44NwI6y99IsSdWq"};function ce(e){return s.createElement("div",{className:oe.wrapper,"data-qa":e.qa},s.createElement("div",{className:v()(oe.commonCard,e.className),style:e.style},e.children))}const ue={card:"cyRw19fvYYe2TPp2AnDQ text-hint"};function le(e){return s.createElement(ce,{className:v()(ue.card,e.className)},e.children)}const de="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTA0LjY5IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTA0LjY5IDEyMi44ODsgZmlsbDogcmdiYSgwLCAwLCAwLCAwLjQpOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTk4LjM4LDg4LjQxbC05Ljc5LDEwLjQ4TDk4LjM4LDg4LjQxTDk4LjM4LDg4LjQxeiBNODQuMywxMDMuNDhsLTkuNzksMTAuNDhMODQuMywxMDMuNDhMODQuMywxMDMuNDh6IE01Ni44NSwxMTYuNTggYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDcuMzNjLTIuMDIsMC0zLjg1LTAuODItNS4xOC0yLjE1QzAuODIsMTE5LjQsMCwxMTcuNTcsMCwxMTUuNTVWNy4zMyBjMC0yLjAyLDAuODItMy44NSwyLjE1LTUuMThDMy40OCwwLjgyLDUuMzEsMCw3LjMzLDBoOTAuMDJjMi4wMiwwLDMuODUsMC44Miw1LjE4LDIuMTVjMS4zMywxLjMzLDIuMTUsMy4xNiwyLjE1LDUuMThWNzIuNiBjMCwxLjc0LTEuNDEsMy4xNS0zLjE1LDMuMTVjLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1VjcuMzNjMC0wLjI4LTAuMTItMC41NC0wLjMtMC43M2MtMC4xOS0wLjE5LTAuNDUtMC4zLTAuNzMtMC4zSDcuMzMgYy0wLjI4LDAtMC41NCwwLjEyLTAuNzMsMC4zUzYuMyw3LjA1LDYuMyw3LjMzdjEwOC4yMWMwLDAuMjgsMC4xMiwwLjU0LDAuMywwLjczYzAuMTksMC4xOSwwLjQ0LDAuMywwLjczLDAuM0g1Ni44NUw1Ni44NSwxMTYuNTh6IE0zMS41NCw4Ni45NWMtMS43NCwwLTMuMTYtMS40My0zLjE2LTMuMTljMC0xLjc2LDEuNDEtMy4xOSwzLjE2LTMuMTloMjAuNWMxLjc0LDAsMy4xNiwxLjQzLDMuMTYsMy4xOSBjMCwxLjc2LTEuNDEsMy4xOS0zLjE2LDMuMTlIMzEuNTRMMzEuNTQsODYuOTV6IE0zMS41NCw0Mi4yN2MtMS43NCwwLTMuMTUtMS40MS0zLjE1LTMuMTVjMC0xLjc0LDEuNDEtMy4xNSwzLjE1LTMuMTVoNDEuNjEgYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDMxLjU0TDMxLjU0LDQyLjI3eiBNMzEuNTQsNjQuNTljLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1IGMwLTEuNzQsMS40MS0zLjE1LDMuMTUtMy4xNWg0MS42MWMxLjc0LDAsMy4xNSwxLjQxLDMuMTUsMy4xNWMwLDEuNzQtMS40MSwzLjE1LTMuMTUsMy4xNUgzMS41NEwzMS41NCw2NC41OXogTTcxLjUyLDkxLjU1IGMtMS4yNy0xLjE4LTEuMzQtMy4xNy0wLjE2LTQuNDRjMS4xOC0xLjI3LDMuMTctMS4zNCw0LjQ0LTAuMTZsMTAuNDksOS43OWw5Ljc4LTEwLjQ4YzEuMTgtMS4yNywzLjE3LTEuMzQsNC40NC0wLjE2IGMxLjI3LDEuMTgsMS4zNCwzLjE3LDAuMTYsNC40NGwtOS43OSwxMC40OGwxMC40OCw5Ljc4YzEuMjcsMS4xOCwxLjM0LDMuMTcsMC4xNiw0LjQ0Yy0xLjE4LDEuMjctMy4xNywxLjM0LTQuNDQsMC4xNmwtMTAuNDgtOS43OSBsLTkuNzgsMTAuNDhjLTEuMTgsMS4yNy0zLjE3LDEuMzQtNC40NCwwLjE2Yy0xLjI3LTEuMTgtMS4zNC0zLjE3LTAuMTYtNC40NEw4MiwxMDEuMzRMNzEuNTIsOTEuNTVMNzEuNTIsOTEuNTV6Ii8+PC9nPjwvc3ZnPgo=";var pe=r(47486);const fe={container:"QKOcpEIhc51Re6PikjJy","hint-card":"CZF_AuDP2XptHxh7JFus",hintCard:"CZF_AuDP2XptHxh7JFus","empty-report-icon":"NMiy6d6xTVc_ZXEmjn8E",emptyReportIcon:"NMiy6d6xTVc_ZXEmjn8E","card-title":"n8yDmeEYkuOk6kb_ItbC",cardTitle:"n8yDmeEYkuOk6kb_ItbC","hints-container":"yBA5vUr2DQ0jWSo5WNTB",hintsContainer:"yBA5vUr2DQ0jWSo5WNTB",hint:"Ad77ZbGy9Nx84CBDNE2_","hint-item-icon":"KNC3S7aGd3oCjOkoLy4g",hintItemIcon:"KNC3S7aGd3oCjOkoLy4g","hint-item-text":"VWK0qAioJXCQR8TSG6Lh",hintItemText:"VWK0qAioJXCQR8TSG6Lh"};function me(){return s.createElement("div",{className:fe.container},s.createElement(le,{className:fe.hintCard},s.createElement("img",{src:de,alt:"icon",className:fe.emptyReportIcon}),s.createElement("span",{className:v()("text-header-1",fe.cardTitle)},"This report is empty"),s.createElement("div",{className:fe.hintsContainer},["Check if your project contains any tests","Check if the tool you are using is configured correctly and is able to find your tests","Check logs to see if some critical error has occurred and prevented report from collecting any results"].map((function(e,t){return s.createElement("div",{key:t,className:fe.hint},s.createElement(i.JO$,{data:pe.Z,className:fe.hintItemIcon}),s.createElement("div",{className:fe.hintItemText},e))})))))}var ve=r(68005),ge=r(93938);const he={"data-source-item":"LTL9A2TRwCX4DfrCEZxM",dataSourceItem:"LTL9A2TRwCX4DfrCEZxM","data-source-title-container":"wsCjpO5WCpkJaVzKz8gi",dataSourceTitleContainer:"wsCjpO5WCpkJaVzKz8gi","data-source-icon":"G4SXQma4zhRaaqly12Tg",dataSourceIcon:"G4SXQma4zhRaaqly12Tg","data-source-status":"gGakSFrXewIw9Fkez5EX",dataSourceStatus:"gGakSFrXewIw9Fkez5EX","data-source-status-circle":"v4CYpSxdllHQxSacb6ab",dataSourceStatusCircle:"v4CYpSxdllHQxSacb6ab","data-source-status-circle-offline":"IySDb0dG_HpKVzuBYhNO",dataSourceStatusCircleOffline:"IySDb0dG_HpKVzuBYhNO","data-source-status-circle-online":"GC12k5XwNRP2nJmuOnTl",dataSourceStatusCircleOnline:"GC12k5XwNRP2nJmuOnTl",pulse:"Di_aKyccUn6pF8KZT3gJ",title:"FzJkyNqOjGi_N4OIQHRw",ellipsis:"ORSnh7QVKqOW7FQrJdvF"};function Ee(e){var t,r=null===(t=e.url)||void 0===t?void 0:t.replace(/^https?:\/\//,"");return s.createElement("div",{className:he.dataSourceItem},s.createElement("div",{className:he.dataSourceTitleContainer},s.createElement(i.JO$,{data:e.icon,className:he.dataSourceIcon}),e.url&&r?s.createElement("a",{href:e.url,className:he.title,title:e.title},s.createElement("span",{className:he.ellipsis,style:{"--max-width":"130px"}},r.slice(0,-24)),r.slice(-24)):s.createElement("span",{className:he.ellipsis},e.title)),s.createElement("div",{className:he.dataSourceStatus},s.createElement("span",null,e.success?"OK":e.statusCode&&"number"==typeof e.statusCode?"E".concat(e.statusCode):"ERR"),s.createElement("div",{className:v()(he.dataSourceStatusCircle,e.success?he.dataSourceStatusCircleOnline:he.dataSourceStatusCircleOffline)})))}const ye={divider:"N2706ZMdYcBUFCM2piKF","info-panel":"m_0UYhDywkZCTfyqWrXx",infoPanel:"m_0UYhDywkZCTfyqWrXx","extra-items-list":"gVLUrneQukXMSGbW12Be",extraItemsList:"gVLUrneQukXMSGbW12Be","data-source-heading":"zugSCLp3ZHvaLI_h3IeQ",dataSourceHeading:"zugSCLp3ZHvaLI_h3IeQ","data-source-list":"pC4JFYgK7ZksVWDUckMA",dataSourceList:"pC4JFYgK7ZksVWDUckMA"};var Ie=r(81114);function be(){var e=(0,o.useSelector)((function(e){return e.gui})),t=Object.entries((0,o.useSelector)((function(e){return e.apiValues.extraItems}))),r=[];t.length>0&&r.push(s.createElement(F,{title:"Links",description:"Project-specific links and actions. Configure what you see here via extraItems API."},s.createElement("ul",{className:ye.extraItemsList},t.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:e[1]},e[0]))}))))),r.push(s.createElement(F,{title:"Testplane UI v"+Ie.i8,description:s.createElement("span",null,"To get the most out of Testplane UI, try to keep it updated to the latest version. Check out fresh ",s.createElement("a",{href:"https://github.com/gemini-testing/html-reporter/releases"},"releases on GitHub"),".")}));var n=(0,o.useSelector)((function(e){return e.timestamp})),a=(0,A.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],c=new Date(n).toLocaleString(a);e||r.push(s.createElement(F,{title:"Created at "+c,description:"Date and time when this report was generated. Report generates once all tests finish running."}));var u=(0,o.useSelector)((function(e){return e.app.guiServerConnection.isConnected})),l=(0,o.useSelector)((function(e){return e.fetchDbDetails}));r.push(s.createElement(F,{title:"Data sources",description:"To display test run data, Testplane UI needs access to corresponding data sources."},s.createElement("div",null,s.createElement("div",{className:ye.dataSourceHeading},s.createElement("span",null,"Source"),s.createElement("span",null,"Status")),s.createElement("div",{className:ye.dataSourceList},e&&s.createElement(Ee,{icon:ve.Z,title:"Testplane UI Server",success:u}),!e&&l.map((function(e,t){var r=e.url,n=e.success,a=e.status;return s.createElement(Ee,{key:t,icon:ge.Z,title:r,url:r,success:n,statusCode:a})}))))));var d=r.pop();return s.createElement(z,{title:"Info",className:ye.infoPanel},r.map((function(e,t){return s.createElement(s.Fragment,{key:t},e,s.createElement(i.izJ,{orientation:"horizontal",className:ye.divider}))})),d)}var Se=r(40554),Te=r(46294),we=r(26542),Oe=r(11200),Ne=r(36397),_e=function(e){return e.Settings="settings",e.Info="info",e}({});function Ce(e){var t=(0,o.useDispatch)(),r=(0,c.s0)(),n=(0,c.TH)(),a=(0,H.z)(),i=e.pages.map((function(e){return{id:e.url,title:e.title,icon:e.icon,current:Boolean((0,k.LX)("".concat(e.url.replace(/\/$/,""),"/*"),n.pathname)),onItemClick:function(){null==a||a.trackFeatureUsage({featureName:"Go to ".concat(e.url," page")}),r(e.url)},qa:"".concat(e.url.slice(1),"-page-menu-item")}})),u=(0,o.useSelector)((function(e){return e.ui[Ne.T3.suitesPage].sectionSizes})),l=(0,o.useSelector)((function(e){return e.ui[Ne.T3.suitesPage].backupSectionSizes}));if(/\/suites/.test(n.pathname)){var p=(0,Oe.aV)(u[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:p?"Expand tree":"Collapse tree",icon:p?Te.Z:we.Z,onItemClick:function(){t((0,Se.gM)({sizes:p?l:[0,100],page:Ne.T3.suitesPage}))},qa:"expand-collapse-suites-tree"})}var f=(0,o.useSelector)((function(e){return e.ui[Ne.T3.visualChecksPage].sectionSizes})),m=(0,o.useSelector)((function(e){return e.ui[Ne.T3.visualChecksPage].backupSectionSizes}));if(/\/visual-checks/.test(n.pathname)){var g=(0,Oe.aV)(f[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:g?"Expand tree":"Collapse tree",icon:g?Te.Z:we.Z,onItemClick:function(){t((0,Se.gM)({sizes:g?m:[0,100],page:Ne.T3.visualChecksPage}))},qa:"expand-collapse-visual-checks"})}var h=(0,o.useSelector)(x.Dr),E=(0,o.useSelector)((function(e){return e.tree.browsers.byId})),y=h&&0===Object.keys(E).length,I=(0,s.useState)(null),b=(0,d.Z)(I,2),S=b[0],T=b[1],w=function(e){S===e.id?T(null):(T(e.id),null==a||a.trackFeatureUsage({featureName:"Open ".concat(e.id," panel")}))};return s.createElement(P.A,{className:v()({"aside-header--initialized":h}),logo:{text:"Testplane UI",iconSrc:J,iconSize:32,onClick:function(){return r("/suites")}},compact:!0,headerDecoration:!1,menuItems:i,customBackground:s.createElement("div",{className:X.asideHeaderBg}),customBackgroundClassName:X.asideHeaderBgWrapper,renderContent:function(){return y?s.createElement(me,null):e.children},hideCollapseButton:!0,renderFooter:function(){return s.createElement(se,{visiblePanel:S,onFooterItemClick:w})},panelItems:[{id:_e.Info,children:s.createElement(be,null),visible:S===_e.Info},{id:_e.Settings,children:s.createElement(K,null),visible:S===_e.Settings}],onClosePanel:function(){return T(null)}})}const Re={card:"JsBSTVhMZmtk8M0HKNIj"};function Ae(e){return s.createElement(ce,{className:v()(Re.card,e.className),style:e.style,qa:e.qa},e.children)}var Me=r(61394),De=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.byId[t]:null},Ze=function(e){var t,r,n=e.app.suitesPage.currentBrowserId,a=e.app.suitesPage.currentTreeNodeId;if(!n||!a)return null;var i,s=e.tree.browsers.byId[n].resultIds,o=e.app.suitesPage.currentGroupId,c=s[null!==(t=e.ui.suitesPage.retryIndexByTreeNodeId[a])&&void 0!==t?t:-1];if(o){var u=e.tree.groups.byId[o];i=s.findLast((function(e){return u.resultIds.includes(e)}))}var l=s[e.tree.browsers.stateById[n].retryIndex];return null!==(r=null!=c?c:i)&&void 0!==r?r:l},Pe=function(e){var t=Ze(e);return t?e.tree.results.byId[t]:null},ke=function(e){var t,r=Pe(e);return null!==(t=null==r?void 0:r.imageIds.map((function(t){return e.tree.images.byId[t]})))&&void 0!==t?t:[]},xe=function(e){var t,r,n=Pe(e);if(!n)return!1;var a=e.running,i=e.browserFeatures,s=null===(t=n.attachments)||void 0===t?void 0:t.some((function(e){return e.type===Me.s.Snapshot})),o=e.app.availableFeatures.some((function(e){return e.name===C.qW.name}))&&(null===(r=i[n.name])||void 0===r?void 0:r.some((function(e){return e===C.uf.LiveSnapshotsStreaming})));return s||a&&o},je=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.stateById[t].retryIndex:null},Le=r(51344);const Be={"overlay-container":"YhnQZ2DR9KPdAJiIHKx6",overlayContainer:"YhnQZ2DR9KPdAJiIHKx6",pulsing:"np7Tims64LSzx1fxP9Vw","overlay-pulse":"iG7hgUdlfOAYJ2zEOMkz",overlayPulse:"iG7hgUdlfOAYJ2zEOMkz",hint:"lDwBbrcxapUWyB9bSmAM",appear:"euJ_Z7JcmqkNU0UuaTBi"};function Ue(){return s.createElement("div",{className:v()(oe.commonCard,Be.overlayContainer)},s.createElement("div",{className:Be.pulsing}),s.createElement("span",{className:Be.hint},"Keep dragging to hide"))}const ze={"animated-appear-card":"nvHu0JYixG_n3L8bHaiy",animatedAppearCard:"nvHu0JYixG_n3L8bHaiy","border-pulse":"_hvSdUy_Sy8mnl5BcKJj",borderPulse:"_hvSdUy_Sy8mnl5BcKJj","background-overlay":"fOXVHPDXnIXRnLvKJK5w",backgroundOverlay:"fOXVHPDXnIXRnLvKJK5w",hidden:"oNABdOFiTaceIpXIecxT"};function Ge(){var e=(0,o.useSelector)((function(e){return e.app.isInitialized}));return s.createElement("div",{className:v()(oe.commonCard,ze.animatedAppearCard,(0,l.Z)({},ze.hidden,e))},s.createElement("div",{className:ze.backgroundOverlay}))}const Fe={split:"Yt_7hFDWMBBzwRxhtPGA",gutter:"BjLGDET4dsmTg5n7BGOC","gutter-appear":"GkXIdhlZ0Ksl8HY5uIGM",gutterAppear:"GkXIdhlZ0Ksl8HY5uIGM","gutter-handle":"cEss7sGcuntXKcSdrYGx",gutterHandle:"cEss7sGcuntXKcSdrYGx","gutter-activate":"QhcMa1LcrZef4FaMYu9B",gutterActivate:"QhcMa1LcrZef4FaMYu9B","gutter-deactivate":"xDCzx4XYGvK_feKceOC3",gutterDeactivate:"xDCzx4XYGvK_feKceOC3",container:"R1neC10QiHgV72yl__vn","container-collapsed":"jhPJSKkfojnb9ejRA7Kg",containerCollapsed:"jhPJSKkfojnb9ejRA7Kg","is-disabled-transitions":"QfgLrNwN7f_q5YM2eMTC",isDisabledTransitions:"QfgLrNwN7f_q5YM2eMTC"};function He(e){var t=s.useState(!1),r=(0,d.Z)(t,2),n=r[0],a=r[1],i=s.useState(!1),c=(0,d.Z)(i,2),u=c[0],p=c[1],f=s.useState(!1),m=(0,d.Z)(f,2),g=m[0],h=m[1],E=s.useState(e.sizes.map(Oe.aV)),y=(0,d.Z)(E,2),I=y[0],b=y[1];(0,s.useLayoutEffect)((function(){h(!u),b(e.sizes.map(Oe.aV))}),[e.sizes]);var S=(0,o.useSelector)(x.Dr),T=s.Children.toArray(e.children);return s.createElement(Le.Z,{direction:"horizontal",className:v()(Fe.split,{"is-resizing":u,"is-idle":n&&!u,"is-initialized":S}),minSize:0,snapOffset:200,onDrag:function(t){var r;null===(r=e.onSizesChange)||void 0===r||r.call(e,t)},onDragStart:function(t){var r;a(!0),p(!0),null===(r=e.onSizesChange)||void 0===r||r.call(e,t)},onDragEnd:function(t){var r;p(!1),null===(r=e.onSizesChange)||void 0===r||r.call(e,t)},gutter:function(){var e=document.createElement("div");e.classList.add(Fe.gutterHandle),e.setAttribute("data-qa","split-view-gutter-handle");var t=document.createElement("div");return t.appendChild(e),t.classList.add(Fe.gutter),t},sizes:e.sizes},T.map((function(e,t){var r;return s.createElement("div",{key:t,className:v()(Fe.container,(r={},(0,l.Z)(r,Fe.containerCollapsed,I[t]),(0,l.Z)(r,"is-collapsed",I[t]),(0,l.Z)(r,Fe.isDisabledTransitions,g),r))},s.createElement(Ue,null),s.createElement(Ge,null),e)})))}var Ve=r(93714),We=r(85715),qe=r(6740),Ye=r(13432),Ke=r(82714);const Je={container:"YWnVRZp6Xpq2emGNusEL",breadcrumbs:"Ed4tVlxzgeV8lu4LStw4",separator:"dpX1ZvrQ0Rb7KZsrGdrB",content:"p9SwrHyY6_rkCo8WnJ4B","title-container":"eN__kxnFqti2d9lyLscG",titleContainer:"eN__kxnFqti2d9lyLscG","labels-container":"fkNFekMpeg9PQWBvk6SA",labelsContainer:"fkNFekMpeg9PQWBvk6SA",label:"cyOS5FVBjs_XwfWf3hqw","pagination-container":"FjhbMq232twU07JGqpxG",paginationContainer:"FjhbMq232twU07JGqpxG",counter:"wUSN7d_qH5YeEFdi_k8a"};function Xe(e){var t=e.suitePath[e.suitePath.length-1],r=e.suitePath.slice(0,-1);return s.createElement("div",{className:v()(Je.container,e.className)},s.createElement("div",{className:Je.content},r.length>0&&s.createElement("div",{className:v()(Je.breadcrumbs)},r.map((function(e,t){return s.createElement("div",{key:t,className:Je.breadcrumbsItem},e,t!==r.length-1&&s.createElement("div",{className:Je.separator},s.createElement(Ve.Z,{height:12})))}))),s.createElement("div",{className:Je.titleContainer},s.createElement("h2",{className:v()("text-display-1")},null!=t?t:"Unknown Suite"),s.createElement("div",{className:Je.labelsContainer},s.createElement(i.__J,{theme:"normal",size:"xs",className:Je.label},s.createElement(We.Z,null),e.browserName),e.stateName&&s.createElement(i.__J,{theme:"utility",size:"xs",className:v()(Je.label)},s.createElement(qe.Z,null),e.stateName)))),s.createElement("div",{className:Je.paginationContainer},s.createElement("span",{className:Je.counter},-1===e.index?"–":e.index+1,"/",e.totalItems),s.createElement(i.zxk,{qa:"suite-prev",view:"flat",disabled:e.index<=0,onClick:e.onPrevious},s.createElement(i.JO$,{data:Ye.Z})),s.createElement(i.zxk,{qa:"suite-next",view:"flat",disabled:e.index<0||e.index===e.totalItems-1,onClick:e.onNext},s.createElement(i.JO$,{data:Ke.Z}))))}var Qe=r(13583);const $e={container:"nR0kpnVQuYefx31uTlD5",heading:"baYQP9hm9fAaU79TT8HC","attempts-container":"SsRE0DhTAdrseFiE6W4S",attemptsContainer:"SsRE0DhTAdrseFiE6W4S"},et="nJPe2OO4z2uAJdX7sMaV",tt="eDONt5swkA3IFMY28K0w",rt="yVJoWVTQitoP9vCeR3gQ regular-button from global, action-button";var nt=s.forwardRef((function(e,t){return s.createElement(i.ua7,{content:e.tooltip,placement:"top",openDelay:0},s.createElement(i.zxk,{className:e.className,view:e.view,onClick:e.onClick,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:t,selected:e.selected},e.icon))})),at=r(14963),it=r(75262),st=r(97566),ot=function(e){return{type:st.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME,payload:e}},ct=function(e){var t=e.showPlayer,r=void 0===t||t,n=e.browser,a=(0,o.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),c=(0,o.useSelector)((function(e){return e.running})),u=(0,H.z)(),l=(0,o.useDispatch)(),d=(0,o.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===C.Wi.name})),p=(0,o.useSelector)(xe),f=Boolean(d),m=p&&r,v=f&&m;return s.createElement("div",{className:et},m&&s.createElement(nt,{tooltip:a?"Hide Time Travel Player":"Show Time Travel Player",icon:s.createElement(i.JO$,{data:at.Z}),onClick:function(){var e;null==u||u.trackFeatureUsage({featureName:"Toggle time travel player visibility"}),l((e=!a,{type:st.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY,payload:{isVisible:e}}))},view:"outlined",selected:a}),v&&s.createElement(i.izJ,{orientation:"vertical",className:tt}),f&&s.createElement(i.zxk,{view:"action",className:rt,onClick:function(){n&&(null==u||u.trackFeatureUsage({featureName:"Retry test button click in test control panel"}),l((0,_.thunkRunTest)({test:{testName:n.parentId,browserName:n.name}})))},disabled:c},c?s.createElement(i.yCA,{size:"xs"}):s.createElement(i.JO$,{data:it.Z}),"Retry"))};function ut(e){var t,r=e.onAttemptChange,n=(0,o.useSelector)((function(e){return e.app.suitesPage.currentBrowserId})),a=(0,o.useSelector)((function(e){return n&&e.tree.browsers.byId[n]?e.tree.browsers.byId[n].resultIds:[]})),i=(0,o.useSelector)(De),c=null!==(t=(0,o.useSelector)(Ze))&&void 0!==t?t:"";return s.createElement("div",{className:$e.container},s.createElement("h3",{className:v()("text-header-1",$e.heading)},"Attempts"),s.createElement("div",{className:$e.attemptsContainer},a.map((function(e,t){return s.createElement(Qe.j,{key:e,resultId:e,isActive:e===c,onClick:function(){return function(e,t){n&&c!==e&&(null==r||r(n,e,t))}(e,t)}})}))),s.createElement(ct,{browser:i}))}const lt={container:"muBYOfEen_m8tSJh2hCl","collapsible-section__body":"AUuPP_HbqfOPKdcYd69V",collapsibleSectionBody:"AUuPP_HbqfOPKdcYd69V","collapsible-section-overview":"rqiepPcf5HwR6NoFhHGf",collapsibleSectionOverview:"rqiepPcf5HwR6NoFhHGf",card:"RgbiKKtfc9YGiEtUeWtY",card__title:"LpMOqM7AgrJWSvYxy1W3",cardTitle:"LpMOqM7AgrJWSvYxy1W3","test-view-card":"Ztc10W8OVgV8sL0aGIaU",testViewCard:"Ztc10W8OVgV8sL0aGIaU","sticky-header":"i1qQgxI36YoEgEI2b5wo",stickyHeader:"i1qQgxI36YoEgEI2b5wo","hint-container":"_VhDOpLVD6atRgsTBko9",hintContainer:"_VhDOpLVD6atRgsTBko9",hint:"It1E1_VWwCWcraQxfr2g"};var dt=r(62349),pt=r.n(dt);function ft(){var e=(0,s.useState)([]),t=(0,d.Z)(e,2),r=t[0],n=t[1],a=(0,s.useState)([]),o=(0,d.Z)(a,2),c=o[0],u=o[1];return(0,s.useEffect)((function(){for(var e=[],t=0;t<pt()(3,6);t++)e.push(s.createElement(i.kCb,{gap:2,key:t},s.createElement(i.OdW,{style:{height:"12px",width:"".concat(pt()(20,35),"%")}}),s.createElement(i.OdW,{style:{height:"".concat(24*pt()(1,3),"px"),width:"40%",marginLeft:"auto"}})));n(e);for(var r=[],a=0;a<pt()(8,12);a++)r.push(s.createElement(i.kCb,{gap:2,key:a},s.createElement(i.OdW,{style:{height:"24px",width:"".concat(pt()(60,80),"%")}}),s.createElement(i.OdW,{style:{height:"12px",width:"".concat(pt()(5,8),"%"),marginLeft:"auto"}})));u(r)}),[]),s.createElement(i.kCb,{direction:"column",gap:4},s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"12px",width:"20%"}}),s.createElement(i.OdW,{style:{height:"12px",width:"35%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"24px",width:"40%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"20px",width:"20%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"20px",width:"25%"}})),r,s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"20px",width:"20%"}})),c)}var mt=r(52902),vt=r(86522),gt=r(9249),ht=r(87371),Et=r(45754),yt=r(11987),It=r(95058),bt=s.createContext(null),St=bt.Provider,Tt=function(){var e=s.useContext(bt);if(null===e)throw new Error("useErrorContext must be used within ErrorContextProvider");return e};function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e){var t=_t();return function(){var r,n=(0,It.Z)(e);if(t){var a=(0,It.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,yt.Z)(this,r)}}function _t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_t=function(){return!!e})()}var Ct=function(e){(0,Et.Z)(r,e);var t=Nt(r);function r(e){var n;return(0,gt.Z)(this,r),(n=t.call(this,e)).state={watchFor:e.watchFor,hasError:!1,error:null,errorInfo:null},n}return(0,ht.Z)(r,[{key:"restore",value:function(){this.setState({hasError:!1,error:null})}},{key:"componentDidCatchErrorInstance",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t});var n=(new Date).toTimeString();console.groupCollapsed('%cError boundary catched error named "'.concat(e.name,'". See details below:')+"%c @ "+n,r.messageStyle,r.timestampStyle),console.error(e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatchSomethingWeird",value:function(e,t){this.setState({hasError:!0,error:new Error("Unknown error, based on ".concat((0,vt.Z)(e)," value provided.\nReceived value: ").concat(e,", which is not an Error instance.\nTry check your code for throwing ").concat((0,vt.Z)(e),"s.")),errorInfo:t});var n=(new Date).toTimeString();console.groupCollapsed("%cError boundary catched ".concat((0,vt.Z)(e)," instead of Error class instance. Try check your code for throwing ").concat((0,vt.Z)(e),"s. See details below:")+"%c @ "+n,r.messageStyle,r.timestampStyle),console.log("Received ".concat((0,vt.Z)(e)," value: "),e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatch",value:function(e,t){return e instanceof Error?this.componentDidCatchErrorInstance(e,t):this.componentDidCatchSomethingWeird(e,t)}},{key:"render",value:function(){return this.state.hasError?s.createElement(St,{value:{state:this.state,restore:this.restore.bind(this)}},this.props.fallback):this.props.children}}],[{key:"isNothingChanged",value:function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every((function(e,r){return e===t[r]})))}},{key:"getDerivedStateFromProps",value:function(e,t){return r.isNothingChanged(t.watchFor,e.watchFor)?null:Ot(Ot({},t),{},{error:null,hasError:!1,errorInfo:null,watchFor:e.watchFor})}}]),r}(s.Component);(0,l.Z)(Ct,"messageStyle","background: crimson; color: white;"),(0,l.Z)(Ct,"timestampStyle","color: gray; font-size: smaller");var Rt=r(57807),At=r.n(Rt),Mt=r(48439),Dt=r.n(Mt);const Zt={code:"dHRn8Yz83ZfjIQyOVx0s"};function Pt(e){return At().setColors({reset:["eee","00000000"]}),s.createElement("div",{className:v()(Zt.code,e.className),style:e.style,dangerouslySetInnerHTML:{__html:At()(Dt()(e.name+"\n"+e.stack))}})}const kt="_LTkXHA4mWxFhAhQ7Uyw",xt="_LLJ1NpsLjP4Db9HQqT0",jt="xolKAa1dSvDMxS_PEXf7",Lt="jfZSMLHKOF2TSiYmbEMA",Bt="etcx80anDp8a8i5L972W",Ut="O4ff04wtuq_j5EXrm1K8",zt="iNOdl5jVecZAcgqopMhi",Gt="LruSxwTdpVZS32YMqoUA",Ft="Rg4gP6QvZjvfl1PNCcEw";var Ht=r(7896),Vt=r(41421);const Wt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjQ5OTcgMC42OTkzNTVDNC4wODIzMiAwLjY5OTM1NSAwLjUgNC4yODEwOCAwLjUgOC42OTkwM0MwLjUgMTIuMjMzOCAyLjc5MTk1IDE1LjIzMTUgNS45NzA2NSAxNi4yODk4QzYuMzcwNzUgMTYuMzYzOSA2LjUxNzggMTYuMTE1OSA2LjUxNzggMTUuOTA0NEM2LjUxNzggMTUuNzEzNyA2LjUwOTgzIDE1LjA4MzYgNi41MDY1OCAxNC40MTU2QzQuMjgwNzggMTQuODk5NiAzLjgxMTU3IDEzLjQ3MTMgMy44MTE1NyAxMy40NzEzQzMuNDQ3NzcgMTIuNTQ2NSAyLjkyMzM1IDEyLjMwMDYgMi45MjMzNSAxMi4zMDA2QzIuMTk3NTUgMTEuODAzNiAyLjk3ODU3IDExLjgxNDUgMi45Nzg1NyAxMS44MTQ1QzMuNzgxNzIgMTEuODcwNiA0LjIwNDU4IDEyLjYzODQgNC4yMDQ1OCAxMi42Mzg0QzQuOTE4NTcgMTMuODYxNCA2LjA3NjY1IDEzLjUwNzQgNi41MzI4NSAxMy4zMDMzQzYuNjA0OSAxMi43ODYzIDYuODExNiAxMi40MzMxIDcuMDQwNzMgMTIuMjMzMkM1LjI2MzcyIDEyLjAzMTYgMy4zOTU4IDExLjM0NTMgMy4zOTU4IDguMjc5NzNDMy4zOTU4IDcuNDA2NTggMy43MDg4IDYuNjkyNjEgNC4yMTk5MiA2LjEzMjczQzQuMTM2NjcgNS45MzA3OCAzLjg2MjY1IDUuMTE3NTggNC4yOTcgNC4wMTU4OEM0LjI5NyA0LjAxNTg4IDQuOTY4NzUgMy44MDA2MyA2LjQ5NzczIDQuODM1ODhDNy4xMzU1MyA0LjY1OTAxIDcuODE5NjcgNC41Njk4MyA4LjQ5OTEzIDQuNTY2ODhDOS4xNzkxMiA0LjU2OTgzIDkuODY0NDggNC42NTg3MSAxMC41MDMyIDQuODM1ODhDMTIuMDMwMSAzLjgwMTIzIDEyLjcwMTIgNC4wMTU4OCAxMi43MDEyIDQuMDE1ODhDMTMuMTM2MiA1LjExNzg4IDEyLjg2MzMgNS45MzE2NiAxMi43ODAxIDYuMTMyNzZDMTMuMjkzIDYuNjkyNjEgMTMuNjAzMyA3LjQwNjU4IDEzLjYwMzMgOC4yNzk3M0MxMy42MDMzIDExLjM1MjQgMTEuNzMxMiAxMi4wMjggOS45NTA0IDEyLjIyNjFDMTAuMjM3NCAxMi40NzQyIDEwLjQ5MzcgMTIuOTYxMSAxMC40OTM3IDEzLjcwN0MxMC40OTM3IDE0Ljc3NjggMTAuNDg0NiAxNS42MzkgMTAuNDg0NiAxNS45MDIxQzEwLjQ4NDYgMTYuMTE1IDEwLjYyODcgMTYuMzYzOSAxMS4wMzQ0IDE2LjI4NTlDMTQuMjExMyAxNS4yMjcxIDE2LjUwMDMgMTIuMjI5MSAxNi41MDAzIDguNjk2MzZDMTYuNTAwMyA0LjI3ODk4IDEyLjkxODYgMC42OTY2NTUgOC41MDAzIDAuNjk2NjU1TDguNDk5NzMgMC42OTkzM0w4LjQ5OTcgMC42OTkzNTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K";function qt(){window.open(C.WY,"_blank")}function Yt(e){return s.createElement(i.zxk,(0,Ht.Z)({},e,{view:"outlined",onClick:qt}),s.createElement(i.zxk.Icon,null,s.createElement("img",{src:Wt,alt:"icon",width:17,height:17})),"File an issue")}function Kt(){window.location.reload()}function Jt(e){return s.createElement(i.zxk,(0,Ht.Z)({},e,{view:"outlined",onClick:Kt}),s.createElement(i.JO$,{data:Vt.Z}),"Refresh this page")}var Xt={Boundary:Ct,FallbackAppCrash:function(){var e=Tt().state;return s.createElement("div",{className:kt},s.createElement("div",{className:v()(xt,jt)},s.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMiAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjIyIDI5Ljk2QzEzLjM1IDI5Ljk2IDE1LjM0IDI4LjgzIDE2LjQxIDI2Ljk4TDIwLjAzIDIwLjcxTDIyLjkzIDIwLjczQzI1LjA1IDIwLjczIDI3LjAyIDE5LjYgMjguMDggMTcuNzZMMjkuMTQgMTUuOTVIMjAuNTNDMTguNCAxNS45NSAxNi40MSAxNy4wOCAxNS4zNCAxOC45M0w4Ljk3OTk4IDI5Ljk0SDExLjIyVjI5Ljk2Wk0yNy45OCAxNi42MkwyNy40OSAxNy40M0MyNi41NSAxOS4wNiAyNC44IDIwLjA3IDIyLjkyIDIwLjA2TDIwLjQgMjAuMDRMMjIuMzcgMTYuNjFIMjcuOTdMMjcuOTggMTYuNjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjguMDMwMiAxMS41NUMyNi45NzAyIDkuNyAyNC45OTAyIDguNTUgMjIuODYwMiA4LjU1SDE1LjYyMDJMMTQuMTkwMiA2LjAzQzEzLjEzMDIgNC4xOSAxMS4xNjAyIDMuMDUgOS4wNTAyIDMuMDVMNi45NTAyIDMuMDNMMTEuMjUwMiAxMC40OEMxMi4zMTAyIDEyLjMzIDE0LjI5MDIgMTMuNDggMTYuNDIwMiAxMy40OEgyOS4xNDAyTDI4LjAzMDIgMTEuNTRWMTEuNTVaTTguMDkwMiAzLjdMOS4wNDAyIDMuNzJDMTAuOTIwMiAzLjcyIDEyLjY3MDIgNC43MyAxMy42MTAyIDYuMzZMMTQuODUwMiA4LjU1SDEwLjg5MDJMOC4wOTAyIDMuN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zLjY2OTgyIDYuMTk5OTlDMi41OTk4MiA4LjAzOTk5IDIuNTg5ODIgMTAuMzMgMy42NTk4MiAxMi4xOEw3LjI3OTgyIDE4LjQ1TDUuODA5ODIgMjAuOTVDNC43NDk4MiAyMi43OCA0Ljc0OTgyIDI1LjA2IDUuODA5ODIgMjYuODlMNi44Mzk4MiAyOC43MUwxMS4xMzk4IDIxLjI2QzEyLjIwOTggMTkuNDIgMTIuMjE5OCAxNy4xMyAxMS4xNDk4IDE1LjI4TDQuNzk5ODIgNC4yNjk5OUwzLjY2OTgyIDYuMTk5OTlaTTYuODQ5ODIgMjcuMzlMNi4zODk4MiAyNi41NkM1LjQ0OTgyIDI0LjkzIDUuNDQ5ODIgMjIuOTEgNi4zODk4MiAyMS4yOEw3LjY1OTgyIDE5LjExTDkuNjM5ODIgMjIuNTNMNi44Mzk4MiAyNy4zOEw2Ljg0OTgyIDI3LjM5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",alt:"icon",width:32,height:32}),s.createElement("div",{className:Lt}),s.createElement(i.xvT,{variant:"subheader-3"},"Something went wrong"),s.createElement(i.xvT,{variant:"body-1",color:"secondary"},"Testplane UI has crashed"),s.createElement("div",{className:Lt}),s.createElement(Pt,{className:Gt,name:e.error.name,stack:e.error.stack}),s.createElement("div",{className:Lt}),s.createElement("div",{className:v()(Ft)},s.createElement(Jt,{width:"max"}),s.createElement(Yt,{width:"max"})),s.createElement(i.xvT,{variant:"body-1",color:"secondary"},"We would appreciate a detailed",s.createElement("br",null),"report with reproduction steps.")))},FallbackCardCrash:function(e){var t=e.recommendedAction,r=Tt().state;return s.createElement("div",{className:v()(xt)},s.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjggOCAzOCAyOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjYuOTk5NiIgY3k9IjMxLjM3OTQiIHI9IjEuNzkzMSIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU0MDUgNy45NTA4MUMyNS4wODIyIDUuMjk1MTEgMjguOTE3NCA1LjI5NTExIDMwLjQ1OTEgNy45NTA4Mkw0NC40MTU1IDMxLjk5MThDNDUuOTYzNSAzNC42NTg0IDQ0LjAzOTUgMzggNDAuOTU2MSAzOEgxMy4wNDM1QzkuOTYwMDUgMzggOC4wMzYwOCAzNC42NTg0IDkuNTg0MTQgMzEuOTkxOEwyMy41NDA1IDcuOTUwODFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTI2LjEwMzEgMTQuMzQ1NEMyNS42NTQ4IDE0Ljc5MzYgMjYuNTUxNyAyNi44OTcyIDI3IDI2Ljg5NzJDMjcuNDQ4MyAyNi44OTczIDI4LjM0NDUgMTQuNzkzNiAyNy44OTYyIDE0LjM0NTRDMjcuNDQ3OSAxMy44OTcxIDI2LjU1MTQgMTMuODk3MSAyNi4xMDMxIDE0LjM0NTRaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIvPgo8L3N2Zz4K",alt:"icon",width:32,height:32}),s.createElement(i.xvT,{variant:"subheader-3"},"Something went wrong"),s.createElement(i.xvT,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side"),s.createElement(Pt,{className:Gt,name:r.error.name,stack:r.error.stack}),"string"==typeof t?s.createElement(i.xvT,{variant:"body-1"},t):t,t&&s.createElement("div",{className:v()(Ut)},s.createElement(i.izJ,{className:v()(zt)}),s.createElement(i.xvT,{variant:"caption-1",color:"secondary"},"OR"),s.createElement(i.izJ,{className:v()(zt)})),s.createElement(Yt,null))},FallbackDataCorruption:function(){var e=Tt().state;return s.createElement("div",{className:v()(xt,Bt)},s.createElement(i.xvT,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side. ",s.createElement(i.rUS,{href:C.WY,target:"_blank"},"File an issue")),s.createElement(Pt,{className:Gt,name:e.error.name,stack:e.error.stack}))}};const Qt="N95XGZkrKPbZhl3Vy74M",$t="WYHFVK6JX4RyJFzf37Us",er="hiBFUuN6nkc2PDsIARXp";var tr=r(18717);var rr=(0,o.connect)((function(e,t){var r,n=e.app.suitesPage.currentBrowserId,a="";if(n&&e.tree.browsers.byId[n]){e.tree.browsers.stateById[n].retryIndex;a=t.id}return{sectionId:a,expanded:null===(r=e.ui.suitesPage.expandedSectionsById[a])||void 0===r||r}}),(function(e){return{actions:(0,tr.bindActionCreators)(_,e)}}))((function(e){var t=function(){e.actions.setSectionExpandedState({sectionId:e.sectionId,isExpanded:!e.expanded})};return s.createElement(i.pJF,{expanded:e.expanded,size:"l",arrowPosition:"end",key:e.sectionId,className:e.className},s.createElement(i.pJF.Summary,null,(function(){return s.createElement(i.kCb,{gap:2,alignItems:"center",onClick:t,className:$t},s.createElement("h3",{className:"text-header-1"},e.title),s.createElement(Ye.Z,{className:v()(Qt,(0,l.Z)({},er,e.expanded))}))})),e.children)})),nr=r(28978),ar=r(9123),ir=r(54523),sr=r(44742),or=r(28974);const cr={wrapper:"WqxIjCTtdCRPrQGjgPs2"};function ur(e){return s.createElement("div",{className:cr.wrapper},e.children)}const lr={wrapper:"ntceMu1H5HZhHAf0bZM3",item:"lKApnVoVLEWkxYb29jma","item--failed":"kiPtUIMAuyhD23KGlTwO",itemFailed:"kiPtUIMAuyhD23KGlTwO"};var dr=r(71011);function pr(e){return function t(r){return r>=e.args.length?null:s.createElement("div",{className:v()(lr.wrapper)},s.createElement("span",{className:v()([lr.item,(0,l.Z)({},lr["item--failed"],!e.isActive&&e.isFailed)])},(0,dr.Pz)(e.args[r])),t(r+1))}(0)}var fr=r(97698),mr=function(e){return e[e.Action=0]="Action",e[e.Attachment=1]="Attachment",e[e.ErrorInfo=2]="ErrorInfo",e[e.SingleImage=3]="SingleImage",e[e.AssertViewResult=4]="AssertViewResult",e}({}),vr=r(82806);function gr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return hr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Er=function(e,t){function r(e){if(t(e),e.children){var n,a=gr(e.children);try{for(a.s();!(n=a.n()).done;){r(n.value)}}catch(e){a.e(e)}finally{a.f()}}}var n,a=gr(e);try{for(a.s();!(n=a.n()).done;){r(n.value)}}catch(e){a.e(e)}finally{a.f()}},yr=function(e,t){return{"--indent":e.structure.itemsState[t].indentation}};function Ir(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return br(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Sr=(0,fr.createSelector)([x.Al,Pe,ke],(function(e,t,r){if(!t||!t.history)return[];var n=function e(t,r){return t.map((function(t,n){var a,i=Boolean(t[Me.z.Children]&&(null===(a=t[Me.z.Children])||void 0===a?void 0:a.length)>0),s={id:"".concat(r," ").concat(n),data:{type:mr.Action,title:t[Me.z.Name],duration:t[Me.z.Duration],startTime:t[Me.z.TimeStart],status:t[Me.z.IsFailed]?C.ih.ERROR:C.ih.SUCCESS,args:t[Me.z.Args],isGroup:t[Me.z.IsGroup],repeat:t[Me.z.Repeat],hasChildren:i}};return i&&(s.children=e(t[Me.z.Children],s.id)),s}))}(t.history,t.id);if(t.error&&!(0,vr.ci)(t.error)&&!(0,vr.iR)(t.error)){var a=function(e){var t=null;return Er(e,(function(e){e.data.type===mr.Action&&e.data.status===C.ih.ERROR&&(t=e)})),t}(n),i=(0,vr.Fm)(t.error),s={id:"".concat(null==a?void 0:a.id," error 0"),data:{type:mr.ErrorInfo,name:i.name,stack:i.stack}},o={id:"".concat(null==a?void 0:a.id," error"),data:{type:mr.Attachment,title:"Error",hasChildren:!0},children:[s]};a&&a.children&&a.children.length>0?a.children.push(o):a?a.children=[s]:n.push(o)}var c,u=Ir(r);try{var l=function(){var t,r=c.value;if(!r.stateName)return"continue";if(Er(n,(function(n){var a,i,s;n.data.type===mr.Action&&(e===C.YO.Playwright?(n.data.title.includes("toHaveScreenshot")&&n.data.title.includes(null!==(a=r.stateName)&&void 0!==a?a:"")||n.data.title.includes("toMatchScreenshot")&&null!==(i=n.children)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&null!==(i=i.title)&&void 0!==i&&i.includes(null!==(s=r.stateName)&&void 0!==s?s:""))&&(t=n):"assertView"===n.data.title&&n.data.args[0]===r.stateName&&(t=n))})),t?t.data.type===mr.Action&&(t.data.hasChildren=!0):(t={id:"".concat(r.id," assertView"),data:{type:mr.Action,title:"assertView",status:r.status,args:[r.stateName],isGroup:!1,hasChildren:!0}},n.push(t)),r.status===C.ih.ERROR&&r.error){var a={id:"".concat(r.id," assertView error-info"),data:{type:mr.ErrorInfo,name:r.error.name,stack:r.error.stack||r.error.message}},i={id:"".concat(r.id," assertView error"),data:{type:mr.Attachment,title:"Error",hasChildren:!0},children:[a]};t.children||(t.children=[]),t.children.push(i)}var s={id:"".concat(r.id," image"),data:{type:mr.AssertViewResult,result:r}};t.data.type===mr.Action&&(t.data.status=r.status),t.children&&t.children.length>0?t.children.push({id:"".concat(t.id," attachment"),data:{type:mr.Attachment,title:"Screenshots",hasChildren:!0},children:[s]}):t.children=[s]};for(u.s();!(c=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}var d=r.find((function(e){return e.status===C.ih.ERROR&&!e.stateName}));return d&&n.push({id:"page-screenshot",data:{type:mr.Attachment,title:"Page Screenshot",hasChildren:!0},children:[{id:"page-screenshot-image",data:{type:mr.SingleImage,image:d.actualImg}}]}),n})),Tr=(0,fr.createSelector)([Sr,function(e){var t,r=Ze(e);return r&&null!==(t=e.ui.suitesPage.expandedStepsByResultId[r])&&void 0!==t?t:{}}],(function(e,t){var r={};return Er(e,(function(e){var n;if(e.children){var a=e.id;r[a]=null===(n=t[a])||void 0===n||n}})),r}));const wr={"tree-view-item":"QhnkL9SOrvWtbErZaAKx",treeViewItem:"QhnkL9SOrvWtbErZaAKx","tree-view-item--active":"DZ7vlCVBM88vYE0_r6mQ",treeViewItemActive:"DZ7vlCVBM88vYE0_r6mQ","tree-view-item--error":"UbaPLUI4_sN41zFxfXtx",treeViewItemError:"UbaPLUI4_sN41zFxfXtx","tree-view-item--corrupted":"ve7hJEGzoe9lERnWCZfG",treeViewItemCorrupted:"ve7hJEGzoe9lERnWCZfG"};function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nr(e){var t,r=e.list.structure.itemsState[e.id].indentation,n=e.list.structure.itemsById[e.id].hasChildren;return s.createElement(i.xuv,{spacing:{pt:1}},s.createElement(ar.CM,(0,Ht.Z)({onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,className:v()([e.className,wr.treeViewItem,(t={},(0,l.Z)(t,wr["tree-view-item--active"],e.isActive),(0,l.Z)(t,wr["tree-view-item--corrupted"],!e.isActive&&"corrupted"===e.status),(0,l.Z)(t,wr["tree-view-item--error"],!e.isActive&&"error"===e.status),t)]),activeOnHover:!0,style:{"--indent":r+Number(!n)}},(0,ar.vy)({id:e.id,list:e.list,onItemClick:e.onItemClick,mapItemDataToContentProps:function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({indentation:0},e.mapItemDataToContentProps(t))}}).props)))}const _r={"step-content":"wRBXBDdHrTikZ7hs1rdK",stepContent:"wRBXBDdHrTikZ7hs1rdK","step-args-wrapper":"LR4BHdAv8jwAMuF4Pc3E",stepArgsWrapper:"LR4BHdAv8jwAMuF4Pc3E","error-info":"gpWDkSaE77J9qpEhWFRw",errorInfo:"gpWDkSaE77J9qpEhWFRw","page-screenshot":"ZjYDeaZ2zu8wgTOVQM8B",pageScreenshot:"ZjYDeaZ2zu8wgTOVQM8B","step-duration":"AMx1IJ4ecNKFSIXEnbEh",stepDuration:"AMx1IJ4ecNKFSIXEnbEh","step-duration-avg":"Kc7shViRKvkr7VW8ExOW",stepDurationAvg:"Kc7shViRKvkr7VW8ExOW","step-repeat":"hsRvyfBD6GFXFc8_aM5k",stepRepeat:"hsRvyfBD6GFXFc8_aM5k",step:"f4y9L5V1wtKbRyvPLvEA","step--dimmed":"GRSYjuQxCFGe42ORpaHR",stepDimmed:"GRSYjuQxCFGe42ORpaHR"};var Cr=r(81845),Rr=r(7065),Ar=r(35682),Mr=r(74677),Dr=r(44049),Zr=r(50929),Pr=r(55476),kr=r(64714),xr=r(60460);const jr={"image-label":"jApgJ8zTfUMQDYwQhObj",imageLabel:"jApgJ8zTfUMQDYwQhObj","image-label-subtitle":"W5IwBC_4o97mxmZflwQV",imageLabelSubtitle:"W5IwBC_4o97mxmZflwQV"};function Lr(e){var t=e.title,r=e.subtitle;return s.createElement("div",{className:jr.imageLabel},s.createElement("span",null,t),r&&s.createElement("span",{className:jr.imageLabelSubtitle},r))}function Br(e){var t,r=Object.assign({},e.expectedImg,{label:s.createElement(Lr,{title:"Expected",subtitle:(0,dr.k)(e.expectedImg)})}),n=Object.assign({},e.actualImg,{label:s.createElement(Lr,{title:"Actual",subtitle:(0,dr.k)(e.actualImg)})});void 0!==e.differentPixels&&void 0!==e.diffRatio&&(t="".concat(e.differentPixels,"px ⋅ ").concat((0,xr.h)(e.diffRatio),"%"));var a=Object.assign({},e.diffImg,{label:s.createElement(Lr,{title:"Diff",subtitle:t}),diffClusters:e.diffClusters});switch(e.diffMode){case C.nx.ONLY_DIFF.id:return s.createElement(Rr._,{diff:a});case C.nx.SWITCH.id:return s.createElement(Ar.H,{expected:r,actual:n});case C.nx.SWIPE.id:return s.createElement(Mr.p,{expected:r,actual:n});case C.nx.ONION_SKIN.id:return s.createElement(Dr.n,{expected:r,actual:n});case C.nx.THREE_UP_SCALED.id:return s.createElement(Zr.P,{expected:r,actual:n,diff:a});case C.nx.THREE_UP_SCALED_TO_FIT.id:var i,o=null!==(i=e.desiredHeight)&&void 0!==i?i:"calc(100vh - 180px)";return s.createElement(Pr.g,{desiredHeight:o,expected:r,actual:n,diff:a});case C.nx.THREE_UP.id:default:return s.createElement(kr.t,{expected:r,actual:n,diff:a})}}const Ur="vjAthq06BGCMTC8Mv9Qq",zr="DlKdIVLCG7dotil9mUek";var Gr=(0,o.connect)((function(e){return{diffMode:e.view.diffMode}}))((function(e){var t=e.result,r=e.diffMode,n=e.style;return t.status===C.ih.FAIL?s.createElement(Br,(0,Ht.Z)({diffMode:r},t)):t.status===C.ih.ERROR?s.createElement("div",{className:zr},s.createElement(Lr,{title:"Actual",subtitle:(0,dr.k)(t.actualImg)}),s.createElement(Cr.w,{containerStyle:n,containerClassName:Ur,image:t.actualImg})):t.status===C.ih.SUCCESS||t.status===C.ih.UPDATED?s.createElement("div",{className:zr},s.createElement(Lr,{title:"Expected",subtitle:(0,dr.k)(t.expectedImg)}),s.createElement(Cr.w,{containerStyle:n,containerClassName:Ur,image:t.expectedImg})):t.status===C.ih.STAGED?s.createElement("div",{className:zr},s.createElement(Lr,{title:"Staged",subtitle:(0,dr.k)(t.actualImg)}),s.createElement(Cr.w,{containerStyle:n,containerClassName:Ur,image:t.actualImg})):t.status===C.ih.COMMITED?s.createElement("div",{className:zr},s.createElement(Lr,{title:"Committed",subtitle:(0,dr.k)(t.actualImg)}),s.createElement(Cr.w,{containerStyle:n,containerClassName:Ur,image:t.actualImg})):null})),Fr=r(14054);const Hr={container:"Bzu9PGbArU7lRN2Ar305"};var Vr=r(83832),Wr=r(99652),qr=r(47347),Yr=r(60148),Kr=r(41020),Jr=r(86686),Xr=r(84579),Qr=r(65471),$r=r(92275),en=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return s.createElement(i.JO$,{data:Vr.Z,width:16,className:t?"icon-skip":""});if((0,vr.S5)(e.error))return s.createElement(i.JO$,{data:Wr.Z,width:16,className:t?"icon-fail":""});if((0,vr.Ne)(e.error))return s.createElement(i.JO$,{data:qr.Z,width:16,className:t?"icon-fail":""});switch(e.status){case C.ih.SUCCESS:return s.createElement(i.JO$,{data:Yr.Z,width:16,className:t?"icon-success":""});case C.ih.STAGED:return s.createElement(i.JO$,{data:Kr.Z,width:16,className:t?"icon-success":""});case C.ih.COMMITED:return s.createElement(i.JO$,{data:Jr.Z,width:16,className:t?"icon-committed":""});case C.ih.FAIL:return s.createElement(i.JO$,{data:Xr.Z,width:16,className:t?"icon-fail":""});case C.ih.UPDATED:return s.createElement(i.JO$,{data:Qr.Z,width:16,className:t?"icon-updated":""})}return s.createElement(i.JO$,{data:$r.Z,width:16})},tn=function(e){if(null===e)return"Image is absent";if((0,vr.S5)(e.error))return"Reference not found";if((0,vr.Ne)(e.error))return"Reference is broken";switch(e.status){case C.ih.SUCCESS:return"Images match";case C.ih.STAGED:return"Image is staged";case C.ih.COMMITED:return"Image was committed";case C.ih.FAIL:return"Difference detected";case C.ih.UPDATED:return"Reference updated"}return"Failed to compare"};function rn(e){var t=e.image;return s.createElement("div",{className:Hr.container},en(t),s.createElement("span",{"data-qa":"assert-view-status"},tn(t)))}const nn={container:"zpJECOhq9qZd3bvl0Pdw","toolbar-container":"E6G546D3l4lfgSoA2pMl",toolbarContainer:"E6G546D3l4lfgSoA2pMl","accept-button":"duhqOxbJdunbXhlqw2xx regular-button from global, action-button",acceptButton:"duhqOxbJdunbXhlqw2xx regular-button from global, action-button","go-to-visual":"R_LOEH9XObHPRiJR4nml regular-button from global, action-button",goToVisual:"R_LOEH9XObHPRiJR4nml regular-button from global, action-button","buttons-container":"c3vmDPGU0o8ISP97chr3",buttonsContainer:"c3vmDPGU0o8ISP97chr3","diff-mode-container":"ELlBfFH2SqOCLQnFzAJq",diffModeContainer:"ELlBfFH2SqOCLQnFzAJq","diff-mode-switcher":"jQlVLqJv__6SYlybe_s1",diffModeSwitcher:"jQlVLqJv__6SYlybe_s1","diff-mode-select":"EnBKE_JkU1Cwk_eYZGMq",diffModeSelect:"EnBKE_JkU1Cwk_eYZGMq"};var an=r(54432);function sn(e){return null===e?null:e.scrollHeight>e.clientHeight?e:sn(e.parentNode)}var on=200;function cn(e){var t=(0,o.useDispatch)(),r=(0,H.z)(),n=(0,c.s0)(),u=(0,c.UO)(),l=u.suiteId,p=u.stateName,f=(0,s.createRef)(),m=(0,s.useRef)(!1),v=(0,o.useSelector)((function(e){return e.view.diffMode})),g=(0,o.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===C.B$.name})),h=(0,o.useSelector)((function(e){return e.staticImageAccepter.enabled})),E=(0,o.useSelector)((function(e){return e.running})),y=(0,o.useSelector)((function(e){return e.processing})),I=(0,o.useSelector)((function(e){return e.gui})),b=e.image.status===C.ih.FAIL&&e.image.diffImg,S=(0,o.useSelector)(De),T=(0,o.useSelector)(Pe),w=T&&S&&T.id===S.resultIds[S.resultIds.length-1],O=(0,Fr.KD)({gui:I,image:e.image,isLastResult:w,isStaticImageAccepterEnabled:h}),N=function(e){t((0,_.setDiffMode)({diffModeId:e}))},R="".concat(null==T?void 0:T.parentId," ").concat(e.image.stateName);return(0,s.useEffect)((function(){if(f&&f.current&&"".concat(l," ").concat(p)===R&&m&&!1===m.current){m.current=!0;var e=sn(f.current),t=f.current.getBoundingClientRect().top;null==e||e.scrollTo(0,t-on)}}),[]),s.createElement("div",{style:e.style,className:nn.container,ref:f},e.image.status!==C.ih.SUCCESS&&s.createElement("div",{className:nn.toolbarContainer},!b&&s.createElement(rn,{image:e.image}),b&&s.createElement("div",{className:nn.diffModeContainer},s.createElement(i.eWC,{onUpdate:N,value:v,className:nn.diffModeSwitcher},Object.values(C.nx).map((function(e){return s.createElement(i.eWC.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),s.createElement(i.PhF,{className:nn.diffModeSelect,label:"Diff Mode",value:[v],onUpdate:function(e){var t=(0,d.Z)(e,1)[0];return N(t)},multiple:!1},Object.values(C.nx).map((function(e){return s.createElement(i.PhF.Option,{value:e.id,content:e.title,title:e.description,key:e.id})})))),s.createElement(i.kCb,{className:nn.buttonsContainer,gap:2},s.createElement(i.zxk,{view:"outlined",className:nn.goToVisual,disabled:E||y,onClick:function(){n("/visual-checks/".concat(encodeURIComponent(R),"/").concat(null==T?void 0:T.attempt))},qa:"go-visual-button"},s.createElement(i.JO$,{data:a.Z}),"Go to Visual Checks"),g&&s.createElement(s.Fragment,null,O&&s.createElement(i.zxk,{view:"action",className:nn.acceptButton,disabled:E||y,onClick:function(){t(h?(0,_.staticAccepterUnstageScreenshot)([e.image.id]):(0,an.Ku)({imageIds:[e.image.id]}))}},s.createElement(i.JO$,{data:j.Z}),"Undo"),(0,Fr.h3)(e.image)&&s.createElement(i.zxk,{view:"action",className:nn.acceptButton,disabled:E||y,onClick:function(){null==r||r.trackScreenshotsAccept(),t(h?(0,_.staticAccepterStageScreenshot)([e.image.id]):(0,an.Ro)({imageIds:[e.image.id]}))}},s.createElement(i.JO$,{data:pe.Z}),"Accept")))),s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackDataCorruption,null)},s.createElement(Gr,{result:e.image})))}function un(e){var t=e.items,r=e.itemId;return s.createElement(Nr,{id:r,list:t,status:"corrupted",mapItemDataToContentProps:function(){return{title:s.createElement("div",{className:_r.stepContent},s.createElement("span",{className:_r.stepTitle},"Couldn’t display this item: data is corrupted. See console for details.")),startSlot:s.createElement(ur,null,s.createElement(ir.Z,null))}}})}function ln(e){var t=e.onItemClick,r=e.items,n=e.itemId,a=e.onMouseMove,i=e.isActive,o=e.className,c=r.structure.itemsById[n];if(c.type===mr.Action){var u=((0,vr.KM)(c.status)||(0,vr.R6)(c.status))&&!c.isGroup,l=c.repeat&&c.hasChildren,d=-1===c.repeat;return s.createElement(Nr,{className:o,id:n,key:n,list:r,status:u?"error":void 0,onItemClick:t,onMouseMove:a,mapItemDataToContentProps:function(){return{title:s.createElement("div",{className:_r.stepContent},s.createElement("span",{className:_r.stepTitle},c.title),s.createElement(pr,{args:c.args,isFailed:u,isActive:i}),c.repeat&&c.repeat>0&&s.createElement("div",{className:_r.stepRepeat},"×",c.repeat),void 0!==c.duration&&s.createElement("span",{className:v()(_r.stepDuration,d&&_r.stepDurationAvg)},c.duration," ms")),startSlot:s.createElement(ur,null,l?s.createElement(sr.Z,null):(0,dr.XF)(c.status))}},isActive:i})}if(c.type===mr.Attachment)return s.createElement(Nr,{id:n,key:n,list:r,onItemClick:t,mapItemDataToContentProps:function(){return{title:c.title,startSlot:s.createElement(ur,null,s.createElement(or.Z,null))}}});if(c.type===mr.ErrorInfo){var p=r.structure.itemsState[n].indentation;return s.createElement(Pt,(0,Ht.Z)({className:_r.errorInfo,key:n},c,{style:{marginLeft:"".concat(24*p,"px")}}))}if(c.type===mr.SingleImage)return s.createElement(Cr.w,{containerClassName:_r.pageScreenshot,image:c.image,key:n});if(c.type===mr.AssertViewResult)return s.createElement(cn,{key:n,image:c.result,style:yr(r,n)});throw new Error("Unknown step type: ".concat(c.type))}var dn=(0,o.connect)((function(e){var t;return{resultId:null!==(t=Ze(e))&&void 0!==t?t:"",testSteps:Sr(e),stepsExpandedById:Tr(e)}}),(function(e){return{actions:(0,tr.bindActionCreators)(_,e)}}))((function(e){if(0===e.testSteps.length)return null;var t=(0,o.useDispatch)(),r=(0,c.s0)(),n=(0,o.useSelector)(Pe),a=(0,o.useSelector)((function(e){return e.app.suitesPage.currentStepId})),i=(0,o.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),u=(0,ar.Lm)({items:e.testSteps,withExpandedState:!0,controlledState:{expandedById:e.stepsExpandedById}});(0,s.useEffect)((function(){t((0,_.setCurrentStep)({stepId:null}))}),[e.resultId]);var d=(0,s.useCallback)((function(a,i){if(void 0===e.stepsExpandedById[a]){if(i.type!==mr.Action||void 0===i.startTime||void 0===i.duration)return;t((0,_.setCurrentStep)({stepId:a})),t((s={time:i.startTime+i.duration},{type:st.Z.SNAPSHOTS_PLAYER_GO_TO_TIME,payload:s}))}var s,o;(e.actions.setStepsExpandedState({resultId:e.resultId,expandedById:Object.assign({},e.stepsExpandedById,(0,l.Z)({},a,!e.stepsExpandedById[a]))}),i.type===mr.Action)&&r("/"+["suites",null==n?void 0:n.parentId,i.args[0],null==n||null===(o=n.attempt)||void 0===o?void 0:o.toString()].map(encodeURIComponent).join("/"))}),[u,e.actions,e.stepsExpandedById]),p=(0,o.useSelector)((function(e){return e.app.snapshotsPlayer})),f=(0,s.useCallback)((function(e){if(e.type===mr.Action&&void 0!==e.startTime&&void 0!==e.duration){var r=e.startTime,n=e.startTime+e.duration;r===p.highlightStartTime&&n===p.highlightEndTime||t(ot({startTime:r,endTime:n,isActive:!0}))}}),[p]),m=(0,s.useCallback)((function(){t(ot({startTime:p.highlightStartTime,endTime:p.highlightEndTime,isActive:!1}))}),[p]);return s.createElement(ar.lW,{className:e.className,extraProps:{onMouseLeave:function(){return m()}}},u.structure.visibleFlattenIds.map((function(e,t){return s.createElement(Xt.Boundary,{key:e,fallback:s.createElement(un,{items:u,itemId:e})},s.createElement(ln,{className:v()(_r.step,(0,l.Z)({},_r["step--dimmed"],i&&i!==e)),key:e,isActive:e===a,onItemClick:function(){return d(e,u.structure.itemsById[e])},items:u,itemId:e,index:t,onMouseMove:function(){return f(u.structure.itemsById[e])}}))})))})),pn=r(63569),fn=r(81110),mn=r(80212),vn=r.n(mn);const gn={"player-time":"PGVTINMC30xx3pwEyDIl",playerTime:"PGVTINMC30xx3pwEyDIl","timeline-container":"bzu8kux1Z5_pbYnOt81F",timelineContainer:"bzu8kux1Z5_pbYnOt81F","player-progress-container":"Nq2cY4Z2ddXe_zmIH7aZ",playerProgressContainer:"Nq2cY4Z2ddXe_zmIH7aZ","live-timeline-blinking":"PiYBmihE_AMeirVcORzG",liveTimelineBlinking:"PiYBmihE_AMeirVcORzG","live-blinking":"sopPhLNBVpNxhqA2gx1c",liveBlinking:"sopPhLNBVpNxhqA2gx1c","player-progress":"jyPgbhNxykmFOteJE7uc",playerProgress:"jyPgbhNxykmFOteJE7uc","player-progress-left-cap":"hziV8kcmxzg9eTbka7sq",playerProgressLeftCap:"hziV8kcmxzg9eTbka7sq","player-progress-right-cap":"lNONR87pqiYe4Tlmfa7I",playerProgressRightCap:"lNONR87pqiYe4Tlmfa7I","player-progress-knob-bg":"UdUCVImfYT1syWUtGBOq",playerProgressKnobBg:"UdUCVImfYT1syWUtGBOq","is-live":"vbvxKvSCGbT8D7zN2jIA",isLive:"vbvxKvSCGbT8D7zN2jIA","highlight-region":"tGkTBk96AqIcNPzLn2C9",highlightRegion:"tGkTBk96AqIcNPzLn2C9","live-badge-container":"bPYFoD5HvhY4TzjGXA0W",liveBadgeContainer:"bPYFoD5HvhY4TzjGXA0W","player-progress-knob":"DiojHKjEFP_rf_8y9d9V",playerProgressKnob:"DiojHKjEFP_rf_8y9d9V","player-progress-knob-bg-left":"xGpH_2yveAOaGoW3NY85",playerProgressKnobBgLeft:"xGpH_2yveAOaGoW3NY85","player-progress-knob-bg-right":"VEBIldLMow7DoJch26z0",playerProgressKnobBgRight:"VEBIldLMow7DoJch26z0","progress-pulse":"aECYBcTJQQlkczuDWrBi",progressPulse:"aECYBcTJQQlkczuDWrBi",container:"rvIyg0zPEV6UrSexvW05","is-loading":"PiVMbOrsRBK4tr9SKjsc",isLoading:"PiVMbOrsRBK4tr9SKjsc","is-highlight-active":"iAd6SiZfW9JW3Ubwhan2",isHighlightActive:"iAd6SiZfW9JW3Ubwhan2","is-playing":"p5dB0nq96x1D0QmX30gM",isPlaying:"p5dB0nq96x1D0QmX30gM","is-scrubbing":"l5eHS9MLAV3GTlx0LMFw",isScrubbing:"l5eHS9MLAV3GTlx0LMFw","is-hovering":"DkIHMtR_DYAvJlm8CaH6",isHovering:"DkIHMtR_DYAvJlm8CaH6","is-snapshot-missing":"YRZnvPkmYHGQlpKa8utF",isSnapshotMissing:"YRZnvPkmYHGQlpKa8utF"};var hn=function(e){return vn()("%M:%S",new Date(e))};function En(e){var t,r=e.totalTime,n=e.currentTime,a=e.onScrubStart,i=e.onScrub,o=e.onScrubEnd,c=e.onHover,u=e.onMouseLeave,p=e.isLive,f=e.downloadProgress,m=e.isLoading,g=e.isPlaying,h=e.highlightState,E=e.playerStartTimestamp,y=void 0===E?0:E,I=e.isSnapshotMissing,b=void 0!==I&&I,S=(0,s.useState)(!1),T=(0,d.Z)(S,2),w=T[0],O=T[1],N=(0,s.useState)(!1),_=(0,d.Z)(N,2),C=_[0],R=_[1],M=(0,s.useState)(0),D=(0,d.Z)(M,2),Z=D[0],P=D[1],k=(0,s.useState)(!1),x=(0,d.Z)(k,2),j=x[0],L=x[1],B=(0,s.useRef)(null),U=function(e){if(!B.current||0===r)return 0;var t=B.current.getBoundingClientRect(),n=e.clientX-t.left;return Math.max(0,Math.min(1,n/t.width))*r};(0,s.useEffect)((function(){w||C||P(n)}),[n,w,C]),(0,s.useEffect)((function(){var e;return w&&((e=document.createElement("style")).innerHTML="* { user-select: none !important; }",document.head.appendChild(e)),function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}),[w]),(0,s.useEffect)((function(){function e(e){if(w){L(!0);var t=U(e);P(t),null==i||i(t)}}function t(e){if(w){var t=U(e);P(t),L(!1),O(!1),o(t)}}return w&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[w,r]);var z=h.highlightStartTime-y,G=h.highlightEndTime-y,F=(0,A.clamp)((C&&!w?n:Z)/r*100,0,100)*Number(!b),H=h.isActive?(0,A.clamp)((G-z)/r*100,0,100)*Number(!b):0,V=(0,A.clamp)((h.isActive?z:Z)/r*100,0,100)*Number(!b),W=(0,A.clamp)((h.isActive?G:Z)/r*100,0,100)*Number(!b),q=v()(gn.container,(t={},(0,l.Z)(t,gn["is-live"],p),(0,l.Z)(t,gn["is-loading"],m),(0,l.Z)(t,gn["is-highlight-active"],h.isActive),(0,l.Z)(t,gn["is-playing"],g),(0,l.Z)(t,gn["is-hovering"],C),(0,l.Z)(t,gn["is-scrubbing"],w&&j),(0,l.Z)(t,gn["is-snapshot-missing"],b),t));return s.createElement("div",{className:q},s.createElement("div",{className:gn.playerTime},b?"––:––":hn(Z)),s.createElement("div",{className:gn.timelineContainer,ref:B,onMouseDown:function(e){var t=U(e);P(t),O(!0),a()},onMouseMove:function(e){if(!w){var t=U(e);null==c||c(t),P(t)}},onMouseEnter:function(){R(!0)},onMouseLeave:function(){R(!1),w||P(n),null==u||u()}},s.createElement("div",{className:v()(gn.playerProgressContainer,(0,l.Z)({},gn.liveTimelineBlinking,p))},s.createElement("div",{className:gn.playerProgressLeftCap}),s.createElement("div",{className:gn.playerProgressRightCap}),s.createElement(s.Fragment,null,s.createElement("div",{className:gn.playerProgress,style:{width:"".concat((m?f:F).toFixed(2),"%")}},s.createElement("div",{className:gn.progressPulse})),s.createElement("div",{className:v()(gn.playerProgressKnobBg,gn.playerProgressKnobBgLeft),style:{left:"calc(".concat(V.toFixed(2),"% - 2px)")}},s.createElement("div",{className:gn.playerProgressKnob})),s.createElement("div",{className:gn.highlightRegion,style:{left:"calc(".concat(V.toFixed(2),"%)"),width:"".concat(H.toFixed(2),"%")}}),s.createElement("div",{className:v()(gn.playerProgressKnobBg,gn.playerProgressKnobBgRight),style:{left:"calc(".concat(W.toFixed(2),"% - 2px)")}},s.createElement("div",{className:gn.playerProgressKnob})))),s.createElement("div",{className:gn.liveBadgeContainer},s.createElement("span",null,"LIVE"))),s.createElement("div",{className:gn.playerTime},b?"––:––":hn(r)))}var yn=r(68079),In=r(13824),bn=r(1540),Sn=r(26474),Tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.querySelector("iframe")},r=(0,s.useState)(1),n=(0,d.Z)(r,2),a=n[0],i=n[1];return(0,s.useEffect)((function(){if(e){var r=new ResizeObserver((function(r){if(0!==r.length){var n=r[0],a=n.contentRect.width,s=n.contentRect.height,o=t(e);if(o){var c=o.clientWidth,u=o.clientHeight,l=Math.min(a/c,s/u,1);i(isNaN(l)?1:l)}}}));return r.observe(e),function(){r.disconnect()}}}),[e]),a},wn=function(e,t){return new Promise((function(r,n){(0,In.Ri)(new Uint8Array(e),(function(e,a){if(e)return n(e);var i=a["snapshots.json"];if(!i)return n(new Error("Couldn't find snapshots.json in ".concat(t,". Most likely the snapshots file is corrupted.")));var s=new TextDecoder("utf-8").decode(i).split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return JSON.parse(e)}));r(s)}))}))},On=function(){var e=(0,h.Z)(y().mark((function e(t,r){var n,a,i,s,o,c,u,l,d,p,f,m,v,g,h,E,I,b;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.abortSignal,i=r.onDownloadProgress,e.next=3,fetch(t,{signal:a});case 3:if((s=e.sent).ok){e.next=6;break}throw new Error(["Failed to fetch zip with snapshots by URL: ".concat(t,"."),"Received status: ".concat(s.statusText,".")].join("\n\n"));case 6:if(o=s.headers.get("Content-Length"),c=null,o&&(u=parseInt(o,10),!isNaN(u)&&u>0&&(c=u)),l=null===(n=s.body)||void 0===n?void 0:n.getReader()){e.next=18;break}return e.next=13,s.blob();case 13:return d=e.sent,e.next=16,d.arrayBuffer();case 16:return p=e.sent,e.abrupt("return",wn(p,t));case 18:f=0,m=[];case 20:return e.next=23,l.read();case 23:if(v=e.sent,g=v.done,h=v.value,!g){e.next=28;break}return e.abrupt("break",31);case 28:h&&(m.push(h),f+=h.length,c&&i&&(E=f/c*100,i(Math.min(E,100)))),e.next=20;break;case 31:return I=new Blob(m),e.next=34,I.arrayBuffer();case 34:return b=e.sent,e.abrupt("return",wn(b,t));case 36:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Nn=function(e,t){var r=(0,bn.T)(),n=(0,s.useRef)([]),a=(0,s.useRef)(!1),i=(0,s.useRef)(!1),o=function(r){if(e)try{var i,s=JSON.parse(r.data),o=s.context,c=s.data.rrwebSnapshots;if(!(0,A.isEqual)(o.testPath,e.suitePath)||o.browserId!==e.name)return;if(a.current)t(c);else(i=n.current).push.apply(i,(0,yn.Z)(c))}catch(e){console.error("Error parsing snapshot event:",e)}};return(0,s.useEffect)((function(){if(e&&r){r.addEventListener(Sn.JX.DOM_SNAPSHOTS,o);var s=new URLSearchParams({testPath:JSON.stringify(e.suitePath),browserId:e.name}).toString();return fetch("/running-test-data?".concat(s)).then((function(e){if(!e.ok)throw new Error("Failed to fetch snapshots: ".concat(e.statusText));return e.json()})).then((function(e){var r=e.rrwebSnapshots,s=r[r.length-1],o=n.current.findIndex((function(e){return e.seqNo===s.seqNo}))+1;n.current=[].concat((0,yn.Z)(r),(0,yn.Z)(n.current.slice(o))),i.current=!0,a.current&&(t(n.current),n.current=[])})),function(){null==r||r.removeEventListener(Sn.JX.DOM_SNAPSHOTS,o)}}}),[e,r,t]),(0,s.useCallback)((function(){a.current=!0,i.current&&(t(n.current),n.current=[])}),[t])};const _n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1IDE1Ljc1VjEwLjI0MjZDMjUgOS40NDY5OSAyNC42ODM5IDguNjgzOTMgMjQuMTIxMyA4LjEyMTMyTDE4Ljg3ODcgMi44Nzg2OEMxOC4zMTYxIDIuMzE2MDcgMTcuNTUzIDIgMTYuNzU3NCAySDdDNS4zNDMxNSAyIDQgMy4zNDMxNSA0IDVWMjUuNUM0IDI3LjE1NjkgNS4zNDMxNSAyOC41IDcgMjguNUgxNC41IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE3LjUgMi41VjYuNUMxNy41IDguMTU2ODUgMTguODQzMSA5LjUgMjAuNSA5LjVIMjQuNSIgc3Ryb2tlPSJva2xjaCgwLjcwOCAwIDApIiBzdHJva2Utd2lkdGg9IjEuMyIvPgo8Y2lyY2xlIGN4PSIyMiIgY3k9IjI0IiByPSI1LjM1IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIi8+CjxwYXRoIGQ9Ik0yMC41ODU5IDI1LjQxNDFMMjMuNDE0NCAyMi41ODU2IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTIwLjU4NTQgMjIuNTg1OUwyMy40MTM5IDI1LjQxNDQiIHN0cm9rZT0ib2tsY2goMC43MDggMCAwKSIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K";var Cn=function(){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:14,height:14},s.createElement("path",{d:"M13.5,10.16c1.66-.96,1.66-3.37,0-4.33L5,.92C3.33-.04,1.25,1.16,1.25,3.08v9.83c0,1.93,2.09,3.13,3.75,2.16l8.5-4.92Z",fill:"#000",fillRule:"evenodd"}))};const Rn={dot:"ceMG0OqTAEDMZ0jgWPXt"};function An(e){var t=e.className;return s.createElement("div",{className:v()(Rn.dot,t)})}const Mn={"replayer-root-container":"NbKVbzSRqWM8G6S1fROw",replayerRootContainer:"NbKVbzSRqWM8G6S1fROw","is-loading":"qWfKmXBELvh9DHH8JBXw",isLoading:"qWfKmXBELvh9DHH8JBXw","replayer-container":"GPemGFV3uUMPFrex7i7U",replayerContainer:"GPemGFV3uUMPFrex7i7U","loading-container":"sbergc10lI4hkd2QiJYu",loadingContainer:"sbergc10lI4hkd2QiJYu","control-button":"X7Pbc8SPuMl2dAr6CzuU",controlButton:"X7Pbc8SPuMl2dAr6CzuU","is-live":"vFUtmK469a2xtWP2iXYE",isLive:"vFUtmK469a2xtWP2iXYE","buttons-container":"Bp08u6h9mX1gplh5q_iZ",buttonsContainer:"Bp08u6h9mX1gplh5q_iZ","player-time":"E4uQPHKSmr3SVjSfQSUg",playerTime:"E4uQPHKSmr3SVjSfQSUg","replayer-container-centered":"Uymy4Bu8jwJP4P4xchw2",replayerContainerCentered:"Uymy4Bu8jwJP4P4xchw2","line-horizontal":"U0GoIzBbte5AdHdS6CUg",lineHorizontal:"U0GoIzBbte5AdHdS6CUg","line-horizontal-top":"I4ohRrxHQ6wDgpdPqntK",lineHorizontalTop:"I4ohRrxHQ6wDgpdPqntK","line-horizontal-bottom":"h75yRt7F4EUINJoE8tth",lineHorizontalBottom:"h75yRt7F4EUINJoE8tth","line-vertical":"Hu0naOEXTBOxtEoEgqo7",lineVertical:"Hu0naOEXTBOxtEoEgqo7","line-vertical-left":"K_2UzSKmCZE5Hy7dpaiR",lineVerticalLeft:"K_2UzSKmCZE5Hy7dpaiR","line-vertical-right":"aYwlPbz6P31rFgmIDBd4",lineVerticalRight:"aYwlPbz6P31rFgmIDBd4","play-pause-button":"GV_dOzjPmro6LORIdpki",playPauseButton:"GV_dOzjPmro6LORIdpki","play-pause-icon":"ZLU1JMwgCtqeH2wG5QWf",playPauseIcon:"ZLU1JMwgCtqeH2wG5QWf","play-pause-icon-visible":"N9ISyhug_gbANsqtccw0",playPauseIconVisible:"N9ISyhug_gbANsqtccw0",loader:"BuwPIpfujcI6amuCktti",l3:"HquGgdrKocaDk7Z3hCnQ","snapshot-missing-container":"x87oyxXco2VFS0qH9j5d",snapshotMissingContainer:"x87oyxXco2VFS0qH9j5d","is-snapshot-missing":"W_2EGwlgHjdnY4OdJkl4",isSnapshotMissing:"W_2EGwlgHjdnY4OdJkl4","player-progress-left-cap":"FHnCZ99QUPR_NwqZh8Py",playerProgressLeftCap:"FHnCZ99QUPR_NwqZh8Py","settings-select-option-group":"WWtmUnSyibQvJM6yqdwn",settingsSelectOptionGroup:"WWtmUnSyibQvJM6yqdwn","settings-button":"MJ5f2OPy69VBOTvHnsrQ",settingsButton:"MJ5f2OPy69VBOTvHnsrQ","settings-changed-dot":"Yf4YdVXiaexe_6AIlGuD",settingsChangedDot:"Yf4YdVXiaexe_6AIlGuD"};function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return kn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var xn=[{label:"Speed",data:{hint:s.createElement("span",null,s.createElement("b",{style:{fontWeight:600}},"Note:")," transitions or animations will still play at original speed.")},options:[{value:"0.5",content:"0.5x"},{value:"1",content:"1x"},{value:"1.5",content:"1.5x"},{value:"2",content:"2x"},{value:"4",content:"4x"}]}];function jn(e){var t;return 5===e.type&&"color-scheme-change"===(null==e||null===(t=e.data)||void 0===t?void 0:t.tag)}function Ln(e){if(!jn(e))return null;try{var t=e.data.payload.colorScheme;return"light"===t||"dark"===t?t:null}catch(e){return null}}var Bn=10,Un=function(e,t,r){var n,a=Pn(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.data.type===mr.Action&&i.data.startTime&&i.data.duration){var s=i.data.startTime-t,o=i.data.startTime-t+i.data.duration;if(r>s&&r<o)return i}}}catch(e){a.e(e)}finally{a.f()}return null};function zn(){var e,t=(0,o.useSelector)(Pe),r=(0,s.useState)(null),n=(0,d.Z)(r,2),a=n[0],c=n[1],u=(0,s.useRef)(null),p=(0,s.useRef)(null),f=(0,s.useRef)([]),m=(0,s.useState)("light"),g=(0,d.Z)(m,2),h=g[0],E=g[1],y=(0,s.useState)(1),I=(0,d.Z)(y,2),b=I[0],S=I[1],T=(0,s.useState)(1200),w=(0,d.Z)(T,2),O=w[0],N=w[1],R=(0,s.useState)(800),A=(0,d.Z)(R,2),M=A[0],D=A[1],Z=(0,s.useRef)(!1),P=(0,s.useState)({height:400,width:700}),k=(0,d.Z)(P,2),x=k[0],j=k[1],L=(0,s.useState)(0),B=(0,d.Z)(L,2),U=B[0],z=B[1],G=(0,s.useState)(!1),F=(0,d.Z)(G,2),V=F[0],W=F[1],q=(0,s.useState)(!1),Y=(0,d.Z)(q,2),K=Y[0],J=Y[1],X=(0,s.useRef)(!1),Q=(0,s.useState)(0),ee=(0,d.Z)(Q,2),te=ee[0],re=ee[1],ne=(0,s.useRef)(null),ae=(0,o.useDispatch)(),ie=(0,H.z)();(0,s.useEffect)((function(){null==ie||ie.trackFeatureUsage({featureName:"Time Travel Player Render"})}),[]);var se=(0,s.useRef)(null),oe=(0,o.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),ce=(0,o.useSelector)(Sr),ue=(0,s.useState)(!1),le=(0,d.Z)(ue,2),de=le[0],pe=le[1],fe=(0,s.useState)(0),me=(0,d.Z)(fe,2),ve=me[0],ge=me[1],he=(0,s.useRef)(null),Ee=function(){ne.current&&(cancelAnimationFrame(ne.current),ne.current=null)},ye=function(){ne.current&&(X.current=!0),W(!1),Ee(),function(){if(V){var e=ce.findLast((function(e){return e.data.type===mr.Action}));e&&ae((0,_.setCurrentStep)({stepId:e.id}))}}()},Ie=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.current&&(u.current.enableInteract(),u.current.on("resize",(function(t){var r=t;D(r.height),N(r.width),e&&!Z.current&&(Z.current=!0,j({width:r.width,height:r.height}))})),u.current.on("finish",ye),z(e?0:u.current.getMetaData().totalTime),re(0))}),[Z]),be=(0,s.useCallback)((function(){var e;null===(e=u.current)||void 0===e||e.destroy(),u.current=null}),[]);(0,s.useEffect)((function(){Z.current=!1,W(!1),Ee(),X.current=!1,J(!1)}),[null==t?void 0:t.id]);var Se=(0,s.useCallback)((function(e){if(u.current){var t,r=Pn(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;u.current.addEvent(n)}}catch(e){r.e(e)}finally{r.f()}if("live"!==u.current.service.state.value)if(e.length>0)try{u.current.play(Date.now()-e[0].timestamp)}catch(e){try{u.current.startLive()}catch(e){}}else u.current.startLive()}}),[]),Te=Nn(t,Se),we=(0,s.useCallback)((function(e){var t=Ln(e);t&&E(t)}),[]),Oe=(0,s.useCallback)((function(e){if(e&&null!=e&&e[1]){var t=Number(e[1]);S(t),u.current&&u.current.setConfig({speed:t})}}),[]);(0,s.useEffect)((function(){if(t&&a){if(t.status===C.ih.RUNNING)u.current=new fn.x([],{liveMode:!0,root:a,speed:b}),Ie(!0),Te(),u.current.on("custom-event",we);else{var e,r=null==t||null===(e=t.attachments)||void 0===e?void 0:e.find((function(e){return e.type===Me.s.Snapshot}));if(!r)return;Z.current||j({width:r.maxWidth,height:r.maxHeight}),p.current=new AbortController,pe(!0),ge(0);var n=new Date;On(r.path,{abortSignal:p.current.signal,onDownloadProgress:function(e){(new Date).getTime()-n.getTime()>500&&(ge(e),null===he.current&&(he.current=(new Date).getTime()))}}).then((function(e){f.current=e.filter(jn),u.current=new fn.x(e,{liveMode:!1,root:a,speed:b}),Ie(),u.current.on("custom-event",we),function(){var e=function(){pe(!1),he.current=null};if(null!==he.current){var t=(new Date).getTime()-he.current;t<1e3?setTimeout(e,1e3-t):e()}else e()}()})).catch((function(e){pe(!1),he.current=null,J(!0),console.warn("Failed to load snapshots",e)}))}return function(){var e;null===(e=p.current)||void 0===e||e.abort(),p.current=null,be()}}}),[t,a,Te,Ie,be,we]);var Ne=(0,s.useCallback)((function(e){null!==e&&c(e)}),[]),_e=Tn(a),Ce=(0,s.useCallback)((function(){K||(V&&u.current&&(u.current.pause(),W(!1),Ee(),X.current=!1),ae((0,_.setCurrentHighlightStep)({stepId:null})))}),[V,K]),Re=(0,s.useCallback)((function(e){if(!K&&u.current){var t=u.current.getMetaData().startTime,r=Un(ce,t,e);r&&r.id!==se.current&&(se.current=r.id,ae((0,_.setCurrentStep)({stepId:r.id})))}}),[ce,K]),Ae=(0,s.useCallback)((function(e){if(!K&&(re(e),u.current)){var t=f.current.findLast((function(t){return jn(t)&&u.current&&t.timestamp<=u.current.getMetaData().startTime+e}));if(t){var r=Ln(t);r&&E(r)}u.current.pause(e);var n=u.current.getMetaData().startTime,a=Un(ce,n,e);a&&a.id!==se.current&&(se.current=a.id,ae((0,_.setCurrentStep)({stepId:a.id})))}}),[ce,K]),De=(0,s.useCallback)((function(e){if(!K&&u.current){X.current=!1;var t=u.current.getMetaData().startTime,r=Un(ce,t,e);r&&r.id!==oe&&ae((0,_.setCurrentHighlightStep)({stepId:r.id}))}}),[ce,oe,K]),Ze=(0,s.useCallback)((function(){K||ae((0,_.setCurrentHighlightStep)({stepId:null}))}),[ae,K]),ke=(0,o.useSelector)((function(e){return e.app.snapshotsPlayer}));(0,s.useEffect)((function(){var e,t;if(!K)if(ke.isActive)null===(e=u.current)||void 0===e||e.pause(ke.highlightEndTime-(null===(t=u.current)||void 0===t?void 0:t.getMetaData().startTime)),W(!1),Ee();else if(!V){var r;null===(r=u.current)||void 0===r||r.pause(te>0?te:Bn)}}),[ke,K]),(0,s.useEffect)((function(){if(!K&&u.current){var e=Math.max(ke.goToTime-u.current.getMetaData().startTime,Bn);re(e),u.current.pause(e)}}),[ke.goToTime,K]);var xe={aspectRatio:"".concat(x.width," / ").concat(x.height),maxWidth:"".concat(x.width,"px"),maxHeight:"calc(100vh - var(--sticky-header-height) - 150px)",colorScheme:h},je={aspectRatio:"".concat(O," / ").concat(M),maxWidth:"min(".concat(O,"px, 100%)"),maxHeight:"100%",transition:"opacity .5s ease",position:"absolute",height:M>O?"100%":"auto",width:M>O?"auto":"100%"},Le=Zn(Zn({},je),{},{aspectRatio:void 0}),Be=(null==t?void 0:t.status)===C.ih.RUNNING,Ue=0;try{var ze,Ge;Ue=null!==(ze=null===(Ge=u.current)||void 0===Ge?void 0:Ge.getMetaData().startTime)&&void 0!==ze?ze:0}catch(e){}return s.createElement("div",{className:v()((e={},(0,l.Z)(e,Mn["is-loading"],de),(0,l.Z)(e,Mn["is-live"],Be),(0,l.Z)(e,Mn["is-snapshot-missing"],K),e))},s.createElement("div",{className:Mn.replayerRootContainer,style:{"--scale-factor":_e,width:"".concat(x.width,"px"),maxWidth:"100%"}},s.createElement("div",{className:Mn.replayerContainerCentered,style:xe},s.createElement("div",{className:Mn.replayerContainerCentered,style:je},s.createElement("div",{className:v()(Mn.lineHorizontal,Mn.lineHorizontalTop)}),s.createElement("div",{className:v()(Mn.lineHorizontal,Mn.lineHorizontalBottom)}),s.createElement("div",{className:v()(Mn.lineVertical,Mn.lineVerticalLeft)}),s.createElement("div",{className:v()(Mn.lineVertical,Mn.lineVerticalRight)}),s.createElement("div",{className:Mn.loadingContainer},s.createElement("span",null,"Loading snapshots data"),s.createElement("div",{className:Mn.loader})),K&&s.createElement("div",{className:Mn.snapshotMissingContainer},s.createElement("img",{src:_n,alt:"icon",width:44,height:44}),s.createElement("span",null,"Snapshot file is missing")),s.createElement("div",{className:Mn.replayerContainer,ref:Ne,style:Le},s.createElement("div",{style:{width:"100vw"}}))))),s.createElement("div",{className:Mn.buttonsContainer},s.createElement(i.zxk,{onClick:function(){if(V){var e;null===(e=u.current)||void 0===e||e.pause(),W(!1),Ee()}else{var t,r;if(W(!0),X.current)null===(t=u.current)||void 0===t||t.play();else null===(r=u.current)||void 0===r||r.play(te);X.current=!1,Ee(),ne.current=requestAnimationFrame((function e(){if(u.current){var t=u.current.getCurrentTime(),r=u.current.getMetaData();re(t);var n=u.current.getMetaData().startTime,a=Un(ce,n,t);a&&a.id!==se.current&&(se.current=a.id,ae((0,_.setCurrentStep)({stepId:a.id}))),t<r.totalTime&&(ne.current=requestAnimationFrame(e))}}))}},view:"flat",className:v()(Mn.playPauseButton,Mn.controlButton),disabled:K},s.createElement("div",{className:v()(Mn.playPauseIcon,(0,l.Z)({},Mn.playPauseIconVisible,V))},s.createElement(i.JO$,{data:pn.Z,size:14})),s.createElement("div",{className:v()(Mn.playPauseIcon,(0,l.Z)({},Mn.playPauseIconVisible,!V))},s.createElement(Cn,null))),s.createElement(En,{currentTime:te,totalTime:U,onScrubStart:Ce,onScrub:Re,onScrubEnd:Ae,onHover:De,onMouseLeave:Ze,isLive:Be,isLoading:de,downloadProgress:ve,isPlaying:V,playerStartTimestamp:Ue,highlightState:ke,isSnapshotMissing:K}),s.createElement(i.PhF,{value:[b.toString()],disabled:K,renderControl:function(e){var t=e.ref,r=e.triggerProps;return s.createElement(i.zxk,{disabled:K,view:"flat",className:v()(Mn.controlButton,Mn.settingsButton),onClick:r.onClick,onKeyDown:r.onKeyDown,ref:t,title:"Playback Speed: ".concat(b,"x")},1!==b&&s.createElement(An,{className:Mn.settingsChangedDot}),s.createElement($.Z,{width:16,height:16}))},renderOptionGroup:function(e){var t,r;return s.createElement("div",{className:Mn.settingsSelectOptionGroup},s.createElement("span",null,e.label),(null===(t=e.data)||void 0===t?void 0:t.hint)&&s.createElement(i.Ind,{popoverProps:{placement:"top-end"}},null===(r=e.data)||void 0===r?void 0:r.hint))},popupPlacement:"top-end",popupWidth:100,multiple:!0,onUpdate:Oe,options:xn})))}const Gn="Tug1x_GRwirD5182JffI";var Fn=function(){return s.createElement("div",{className:Gn},s.createElement(i.yCA,{size:"xs",style:{marginRight:"4px"}}),"Test is running")};const Hn={"steps-container":"UZ1foLEpLa_x1J4sMzHD",stepsContainer:"UZ1foLEpLa_x1J4sMzHD","steps-list-container":"R2V6Ql3t4TdzyIHdWk5w",stepsListContainer:"R2V6Ql3t4TdzyIHdWk5w","empty-steps-container":"EdwOvifO8vCoZmgOyVGt",emptyStepsContainer:"EdwOvifO8vCoZmgOyVGt",sticky:"_6ilQ6NIhc2LUkd5wel3",hidden:"Z9ybdZQbCBlLyGSkuR_b","collapsible-section__body":"mlO_dNqDOMn4OwXY1lhh",collapsibleSectionBody:"mlO_dNqDOMn4OwXY1lhh"};function Vn(){var e=(0,o.useSelector)(Pe),t=(0,o.useSelector)(Sr),r=(0,o.useSelector)((function(e){return e.running})),n=(0,o.useSelector)(xe),a=(0,o.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),i=n&&a;return s.createElement(s.Fragment,null,s.createElement(rr,{id:"actions",title:"Actions"},s.createElement("div",{className:Hn.stepsContainer},t.length>0?s.createElement(Xt.Boundary,{watchFor:[e],fallback:s.createElement(Xt.FallbackDataCorruption,null)},s.createElement(dn,{className:Hn.stepsListContainer})):r?s.createElement(Fn,null):s.createElement("div",{className:Hn.emptyStepsContainer},"No steps to show"),n&&s.createElement("div",{className:v()(Hn.sticky,!i&&Hn.hidden)},s.createElement(zn,null)))),s.createElement(rr,{id:"metadata",title:"Metadata"},e&&s.createElement("div",{className:Hn["collapsible-section__body"]},s.createElement(nr.o,{resultId:e.id}))))}var Wn=r(45037),qn=r(59740);const Yn={card:"zxOTbiSaaivowZnka3tD",card__title:"yAgFRUJpcXIwy7yE1SNl",cardTitle:"yAgFRUJpcXIwy7yE1SNl","tree-view-card":"Cnn2YfdSyzs0EmDBWIyo",treeViewCard:"Cnn2YfdSyzs0EmDBWIyo"};var Kn=r(79117),Jn=function(e){return s.createElement(i.ua7,{content:e.tooltip,placement:"top",openDelay:0},s.createElement(i.zxk,{size:"s",selected:e.selected,onClick:e.onClick,view:"flat",className:e.className},e.children))};const Xn="zOnAYvs_4rRrAWx9E99n",Qn="Pg9tdO8nzAKNoG_2cz_z",$n="meYo7lmvHyk4PZK6p78f",ea="orPcQftUNjsSserBi6Gt";var ta=function(){var e,t=(0,c.TH)();return(e=t.pathname).startsWith("/visual-checks")?Ne.T3.visualChecksPage:(e.startsWith("/suites"),Ne.T3.suitesPage)},ra=function(){var e=(0,o.useDispatch)(),t=ta(),r=(0,o.useSelector)((function(e){return e.app[t].nameFilter})),n=(0,o.useSelector)((function(e){return e.app[t].useRegexFilter})),a=(0,o.useSelector)((function(e){return e.app[t].useMatchCaseFilter})),c=(0,s.useState)(r),u=(0,d.Z)(c,2),l=u[0],p=u[1],f=(0,s.useCallback)((0,A.debounce)((function(r){return e(_.updateNameFilter({data:r,page:t}))}),500,{maxWait:3e3}),[]),m=(0,s.useCallback)((function(e){p(e.target.value),f(e.target.value)}),[p,f]),v=(0,o.useSelector)(x.Dr),g=(0,s.useMemo)((function(){if(!n)return!1;try{new RegExp(l)}catch(e){return!0}return!1}),[n,l]);return s.createElement("div",{className:Xn},s.createElement(i.oil,{disabled:!v,placeholder:"Search or filter",value:l,onChange:m,className:Qn,error:g,qa:"filter-input"}),s.createElement("div",{className:$n},s.createElement(Jn,{selected:a,tooltip:"Match case",onClick:function(){e(_.setMatchCaseFilter({data:!a,page:t}))}},s.createElement(i.JO$,{data:Kn.Z})),s.createElement(Jn,{selected:n,tooltip:"Regex",onClick:function(){e(_.setUseRegexFilter({data:!n,page:t}))},className:ea},".*")))};const na={icon:"S0C37_dyP4H4oFiRBC1p"};var aa={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function ia(e){var t=e.name,r=function(e){return s.createElement("i",{className:"fa fa-".concat(e," ").concat(na.icon),"aria-hidden":"true"})};if(!(0,A.isString)(t))return r("browser");var n=t.toLowerCase();for(var a in aa)if(n.includes(a))return r(aa[a]);return r("browser")}const sa={browserlist__filter:"B00K8OuB0liXPBnX_ZDn",browserlistFilter:"B00K8OuB0liXPBnX_ZDn","action-button":"OHRqVXyyF8A0XlgDDWW2",actionButton:"OHRqVXyyF8A0XlgDDWW2",browserlist__popup:"XDKyCXdmNKAG6PNf8DmB",browserlistPopup:"XDKyCXdmNKAG6PNf8DmB"};var oa=function(e,t){return"".concat(encodeURIComponent(e)).concat("/").concat(encodeURIComponent(t))},ca=function(e){var t=e.split("/"),r=(0,d.Z)(t,2),n=r[0],a=r[1];return{id:decodeURIComponent(n),version:decodeURIComponent(a)}},ua=function(){return s.createElement("div",{style:{position:"absolute",visibility:"hidden",height:0,width:0,overflow:"hidden"}},["google","chrome","firefox","safari","edge","yandex","yabro","ie","explorer","opera","phone","mobile","tablet","ipad","browser"].map((function(e){return s.createElement(ia,{key:e,name:e})})))};function la(){var e=(0,s.useState)([]),t=(0,d.Z)(e,2),r=t[0],n=t[1],a=ta(),c=(0,o.useSelector)((function(e){return e.browsers})),u=(0,o.useSelector)((function(e){return e.app[a].filteredBrowsers})),l=(0,o.useDispatch)();(0,s.useEffect)((function(){n(u)}),[c,u]);var p,f,m,v=(0,o.useSelector)(x.Dr),g=r.flatMap((function(e){return e.versions.map((function(t){return oa(e.id,t)}))}));return s.createElement(s.Fragment,null,s.createElement(ua,null),s.createElement(i.PhF,{disablePortal:!0,value:g,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return s.createElement("div",{className:sa.browserlist__filter},s.createElement(i.zxk,{onClick:function(){return n(c)},width:"max"},"Select All"))},renderOption:function(e){var t,r=g.includes(e.value)&&1===g.length;return s.createElement(i.kCb,{alignItems:"center",width:"100%",gap:2},s.createElement(i.kCb,{height:16,width:16,alignItems:"center",justifyContent:"center"},s.createElement(ia,{name:null===(t=e.data)||void 0===t?void 0:t.id})),s.createElement("div",{className:"browser-name"},e.content),s.createElement(i.zxk,{size:"s",onClick:r?function(t){t.preventDefault(),t.stopPropagation(),n(c.map((function(t){return{id:t.id,versions:t.versions.filter((function(r){var n,a;return t.id!==(null===(n=e.data)||void 0===n?void 0:n.id)||r!==(null===(a=e.data)||void 0===a?void 0:a.version)}))}})))}:function(t){var r,a;t.preventDefault(),t.stopPropagation(),n([{id:null===(r=e.data)||void 0===r?void 0:r.id,versions:[null===(a=e.data)||void 0===a?void 0:a.version]}])},className:sa.actionButton},r?"Except":"Only"))},renderControl:function(e){var t=e.ref,r=e.triggerProps,n=r.onClick,a=r.onKeyDown;return s.createElement(nt,{ref:t,onClick:n,onKeyDown:a,view:"outlined",disabled:!v,icon:s.createElement(i.JO$,{data:We.Z}),tooltip:"Filter by browser"})},popupClassName:sa.browserlist__popup,className:"browserlist",onUpdate:function(e){var t=[];e.forEach((function(e){var r=ca(e),n=r.id,a=r.version,i=t.find((function(e){return e.id===n}));i?i.versions.includes(a)||i.versions.push(a):t.push({id:n,versions:[a]})})),n(t)},onFocus:function(){0===g.length&&n(c)},onClose:function(){l((0,_.selectBrowsers)({data:r.filter((function(e){return e.versions.length>0}),a),page:a}))}},(p=c.filter((function(e){return e.versions.length>1})),f=c.filter((function(e){return 1===e.versions.length})),m=function(e,t){return{value:oa(e.id,t),content:e.id,data:{id:e.id,version:t}}},0===p.length?c.map((function(e){return s.createElement(i.PhF.Option,(0,Ht.Z)({key:e.id},m(e,e.versions[0])))})):s.createElement(s.Fragment,null,p.map((function(e){return s.createElement(i.PhF.OptionGroup,{key:e.id,label:e.id},e.versions.map((function(t){return s.createElement(i.PhF.Option,(0,Ht.Z)({key:t},m(e,t)))})))})),s.createElement(i.PhF.OptionGroup,{label:"Other"},f.map((function(e){return s.createElement(i.PhF.Option,(0,Ht.Z)({key:e.id},m(e,e.versions[0])))})))))))}const da={"test-status-filter":"CXbeXmEBG8Nx0JBaZffF",testStatusFilter:"CXbeXmEBG8Nx0JBaZffF","test-status-filter-option":"UBh8WFzqagmwvT6lPSRM",testStatusFilterOption:"UBh8WFzqagmwvT6lPSRM","test-status-filter-option__count":"CvfnTLLY1HbQSzm26bAM",testStatusFilterOptionCount:"CvfnTLLY1HbQSzm26bAM"};var pa=function(e){var t=e.count,r=e.icon,n=e.title;return s.createElement("div",{className:da["test-status-filter-option"]},r||s.createElement("span",null,n),s.createElement("span",{className:da["test-status-filter-option__count"]},t))};function fa(e){var t=e.list,r=e.value,n=e.onChange,a=e.disabled;return s.createElement(i.eWC,{disabled:a,className:da.testStatusFilter,width:"max",value:r,onChange:function(e){return n(e.target.value)}},t.map((function(e){var t=e.title,r=e.value,n=e.count,a=e.icon;return s.createElement(i.eWC.Option,{key:r,title:t,value:r,content:s.createElement(pa,{status:C.wO.ALL,count:n,title:t,icon:a})})})))}var ma=r(26064),va=r(20630),ga=r(82281),ha=r(50048),Ea=r(93315),ya=r(53602),Ia=r(54493),ba=r(15045);const Sa={container:"IKLpkyoFF26d8QlNaEGV","buttons-container":"pSp80Sq_QLxHCxzvv98U",buttonsContainer:"pSp80Sq_QLxHCxzvv98U","selected-container":"rR5VgY3P1ekK_5NipFh6",selectedContainer:"rR5VgY3P1ekK_5NipFh6","selected-container--visible":"DU3iTZjPpSwQoSd6A97R",selectedContainerVisible:"DU3iTZjPpSwQoSd6A97R","selected-title":"OT4xD6O6uwvTqb6CtWgU",selectedTitle:"OT4xD6O6uwvTqb6CtWgU","buttons-divider":"cw9M8Xmmuho10f9so05h",buttonsDivider:"cw9M8Xmmuho10f9so05h","icon-button":"yxSw1RmyIKMUFT9bcJfg",iconButton:"yxSw1RmyIKMUFT9bcJfg"};var Ta=r(8776),wa=r(69875),Oa=r(49674);const Na={"select-popup":"j7jN8SQFGQ1xEZTKH4kc",selectPopup:"j7jN8SQFGQ1xEZTKH4kc",select:"Km4ZhL3W0xf6kxOevReS","selected-option":"NqRk7u8qZ2ACE36VVI_i",selectedOption:"NqRk7u8qZ2ACE36VVI_i","label-icons-container":"xjg9EZZPevV_Ov9IX2_0",labelIconsContainer:"xjg9EZZPevV_Ov9IX2_0","label-dot":"jV7cHZyudT11WCGg3tEt",labelDot:"jV7cHZyudT11WCGg3tEt"};function _a(e){var t=(0,s.useRef)(null);return s.createElement("div",{className:Na.container},s.createElement(i.ua7,{content:e.label,openDelay:0,placement:"top"},s.createElement("div",{className:Na.tooltip},s.createElement(i.PhF,{ref:t,renderSelectedOption:function(e){return e.title?s.createElement("span",{className:Na.selectedOption},e.title):s.createElement(s.Fragment,null)},className:Na.select,popupClassName:Na.selectPopup,view:"clear",label:s.createElement(s.Fragment,null,s.createElement("div",{className:Na.labelIconsContainer},e.labelIcon,e.showDot&&s.createElement(An,{className:Na.labelDot}))),onUpdate:function(){var r;e.autoClose&&(null===(r=t.current)||void 0===r||r.click())},getOptionHeight:function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.height},multiple:e.multiple,value:e.currentValue},e.children))))}function Ca(){var e=(0,o.useDispatch)(),t="no-grouping",r=(0,o.useSelector)((function(e){return e.app.groupTestsData.currentExpressionIds}))[0],n=(0,o.useSelector)((function(e){return e.app.groupTestsData.availableSections})),a=(0,o.useSelector)((function(e){return e.app.groupTestsData.availableExpressions})),c=(0,s.useState)(t),u=(0,d.Z)(c,2),l=u[0],p=u[1],f=function(n){n===t?(p(t),e((0,_.setCurrentGroupByExpression)({expressionIds:[]}))):n!==r&&(p(n),e((0,_.setCurrentGroupByExpression)({expressionIds:[n]})))},m=[s.createElement(i.PhF.OptionGroup,{label:"Group by",key:"no-grouping"},s.createElement(i.PhF.Option,{value:t},s.createElement("div",{onClick:function(){return f(t)}},"Nothing")))];return m.push.apply(m,(0,yn.Z)(n.map((function(e){return s.createElement(i.PhF.OptionGroup,{label:e.label,key:e.id},a.filter((function(t){return t.sectionId===e.id})).map((function(e){var t=e.type===Ne.zX.Meta?e.key:"message";return s.createElement(i.PhF.Option,{key:e.id,value:e.id,title:t,content:s.createElement("div",{onClick:function(){return f(e.id)}},t)})})))})))),s.createElement(_a,{multiple:!0,autoClose:!0,currentValue:[l],label:"Group by",labelIcon:s.createElement(i.JO$,{data:sr.Z}),showDot:l!==t},m)}var Ra=r(68891),Aa=r(94709),Ma=r(78910),Da=r(14675),Za=r(77066),Pa=r(52813),ka=r(94589),xa=r(58311);const ja={"label-icon-right":"dMT7p7UjTmYUJd305IH2",labelIconRight:"dMT7p7UjTmYUJd305IH2","option-content":"uuMz2JT_6644Be5bjdmA",optionContent:"uuMz2JT_6644Be5bjdmA","option-icon":"u4rzn0wQ2RktbYqw_6hT",optionIcon:"u4rzn0wQ2RktbYqw_6hT"};var La=function(e){var t;switch(e.type){case Ne.ER.ByName:t=Kn.Z;break;case Ne.ER.ByFailedRuns:t=Ra.Z;break;case Ne.ER.ByTestsCount:t=Aa.Z;break;case Ne.ER.ByStartTime:t=Ma.Z;break;case Ne.ER.ByDuration:t=Da.Z;break;case Ne.ER.ByRelevance:t=Za.Z}return s.createElement(i.JO$,{data:t,className:ja.optionIcon,width:14,height:14})};function Ba(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){return e.app.sortTestsData.currentExpressionIds}))[0],r=(0,o.useSelector)((function(e){return e.app.sortTestsData.currentDirection})),n=function(t){r!==t&&e((0,xa.u)({direction:t}))},a=[s.createElement(i.PhF.OptionGroup,{label:"Sort by",key:"sort-by"},(0,o.useSelector)((function(e){return e.app.sortTestsData.availableExpressions})).map((function(n,a){return s.createElement(i.PhF.Option,{key:a,title:n.label,content:s.createElement("div",{className:ja.optionContent,onClick:function(){return a=n.id,void e(t!==a?(0,xa.Q)({expressionIds:[a]}):(0,xa.u)({direction:r===Ne.Sr.Asc?Ne.Sr.Desc:Ne.Sr.Asc}));var a}},La(n),s.createElement("span",{className:ja.optionText},n.label)),value:n.id})}))),s.createElement(i.PhF.OptionGroup,{label:"Direction",key:"sort-direction"},s.createElement(i.PhF.Option,{value:Ne.Sr.Asc,content:s.createElement("div",{className:ja.optionContent,onClick:function(){return n(Ne.Sr.Asc)}},s.createElement(i.JO$,{className:ja.optionIcon,data:Pa.Z,width:14,height:14}),s.createElement("span",{className:ja.optionText},"Ascending"))}),s.createElement(i.PhF.Option,{value:Ne.Sr.Desc,content:s.createElement("div",{className:ja.optionContent,onClick:function(){return n(Ne.Sr.Desc)}},s.createElement(i.JO$,{className:ja.optionIcon,data:ka.Z,width:14,height:14}),s.createElement("span",{className:ja.optionText},"Descending"))}))];return s.createElement(_a,{label:"Sort by",labelIcon:s.createElement(i.JO$,{data:r===Ne.Sr.Asc?Pa.Z:ka.Z}),currentValue:[t,r],autoClose:!1,multiple:!0},a)}var Ua="Tree actions toolbar:";function za(e){var t=(0,o.useDispatch)(),r=(0,H.z)(),n=(0,o.useSelector)((function(e){return e.tree.suites.allRootIds})),a=(0,o.useSelector)((function(e){return e.tree.suites.stateById})),c=(0,o.useSelector)((function(e){return e.tree.browsers.stateById})),u=(0,o.useSelector)((function(e){return e.tree.browsers.byId})),d=(0,o.useSelector)(wa.getCheckedTests),p=(0,o.useSelector)(wa.getVisibleBrowserIds),f=(0,o.useSelector)(x.Dr),m=(0,o.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===C.Wi.name})),g=(0,o.useSelector)((function(e){return e.running})),h=(0,o.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===C.B$.name})),E=(0,s.useMemo)((function(){return n.every((function(e){return a[e].checkStatus===Ta.ri}))}),[a,n]),y=(0,s.useMemo)((function(){return n.some((function(e){var t=a[e].shouldBeShown,r=a[e].checkStatus===Ta.ri||a[e].checkStatus===Ta.Km;return t&&r}))}),[a,n]),I=(0,o.useSelector)(x.Qy),b=(0,o.useSelector)(x.Fn),S=(0,o.useSelector)(x.c_),T=(0,o.useSelector)(wa.getVisibleImages),w=(0,o.useSelector)(wa.getSelectedImages),O=y?w:T,N=(0,o.useSelector)((function(e){return e.ui.suitesPage.treeViewMode})),R=(0,o.useSelector)((function(e){return e.app.suitesPage.currentTreeNodeId})),A=(0,o.useSelector)(Oa.V).visibleTreeNodeIds,M=f&&R&&A.includes(R),D=O.some((function(e){return(0,Fr.h3)(e)})),Z=O.some((function(e){return(0,Fr.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:I})}))&&!D,P=(0,s.useMemo)((function(){return Object.values(c).reduce((function(e,t){return e+Number(t.checkStatus===Ta.ri)}),0)}),[c]),k=y?"selected":"visible",L=g||!f,B=s.createElement(s.Fragment,null,m&&s.createElement(nt,{className:Sa.iconButton,icon:s.createElement(i.JO$,{data:ma.Z,height:14}),tooltip:"Run ".concat(k),view:"flat",onClick:function(){if(null==r||r.trackFeatureUsage({featureName:"".concat(Ua," run tests")}),y)t((0,_.thunkRunTests)({tests:d}));else{var e=p.map((function(e){return{testName:u[e].parentId,browserName:u[e].name}}));t((0,_.thunkRunTests)({tests:e}))}},disabled:g||!f}),h&&(Z?s.createElement(nt,{className:Sa.iconButton,icon:s.createElement(i.JO$,{data:j.Z}),tooltip:"Undo accepting ".concat(k," screenshots"),view:"flat",onClick:function(){var e=O.filter((function(e){return(0,Fr.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:I})})).map((function(e){return e.id}));null==r||r.trackFeatureUsage({featureName:"".concat(Ua," revert screenshots")}),t(I?(0,_.staticAccepterUnstageScreenshot)(e):(0,an.Ku)({imageIds:e}))},disabled:L}):s.createElement(nt,{className:Sa.iconButton,icon:s.createElement(i.JO$,{data:pe.Z}),tooltip:"Accept ".concat(k," screenshots"),view:"flat",onClick:function(){var e=O.filter((function(e){return(0,Fr.h3)(e)})).map((function(e){return e.id}));null==r||r.trackFeatureUsage({featureName:"".concat(Ua," accept screenshots")}),null==r||r.trackScreenshotsAccept({acceptedImagesCount:e.length}),t(I?(0,_.staticAccepterStageScreenshot)(e):(0,an.Ro)({imageIds:e}))},disabled:L||!D})),(m||h)&&s.createElement("div",{className:Sa.buttonsDivider}),s.createElement(nt,{icon:s.createElement(i.JO$,{data:N===Ne.xW.Tree?va.Z:ga.Z,height:14}),tooltip:N===Ne.xW.Tree?"Switch to list view":"Switch to tree view",view:"flat",onClick:function(){var e=N===Ne.xW.Tree?Ne.xW.List:Ne.xW.Tree;null==r||r.trackFeatureUsage({featureName:"".concat(Ua," change tree view mode"),treeViewMode:e}),t((0,_.setTreeViewMode)({treeViewMode:e}))},disabled:!f}),s.createElement(nt,{icon:s.createElement(i.JO$,{data:ha.Z,height:14}),tooltip:"Focus on active test",view:"flat",onClick:e.onHighlightCurrentTest,disabled:!M}),s.createElement(nt,{icon:s.createElement(i.JO$,{data:Ea.Z,height:14}),tooltip:"Expand all",view:"flat",onClick:function(){t((0,_.setAllTreeNodesState)({isExpanded:!0}))},disabled:!f}),s.createElement(nt,{icon:s.createElement(i.JO$,{data:ya.Z,height:14}),tooltip:"Collapse all",view:"flat",onClick:function(){t((0,_.setAllTreeNodesState)({isExpanded:!1}))},disabled:!f}),S&&s.createElement(nt,{icon:s.createElement(i.JO$,{data:E?Ia.Z:ba.Z}),tooltip:E?"Deselect all":"Select all",view:"flat",onClick:function(){t(E?(0,_.deselectAll)():(0,_.selectAll)())},disabled:!f}));return s.createElement("div",{className:Sa.container},s.createElement(Ca,null),s.createElement(Ba,null),s.createElement("div",{className:Sa.buttonsContainer},B),s.createElement("div",{className:v()(Sa.selectedContainer,(0,l.Z)({},Sa["selected-container--visible"],y))},s.createElement("div",{className:Sa.selectedTitle},s.createElement(i.JO$,{data:Q.Z}),s.createElement("span",null,P," ",P>1?"tests":"test"," selected")),s.createElement("div",{className:Sa.buttonsContainer},B)))}var Ga=r(94927),Fa=(0,fr.createSelector)([x.Wo,x.TJ,x.jA,function(e,t){return t}],(function(e,t,r,n){switch(n.entityType){case mt.p.Suite:return t[n.entityId]?t[n.entityId].checkStatus:Ta.wT;case mt.p.Browser:return e[n.entityId]?e[n.entityId].checkStatus:Ta.wT;case mt.p.Group:var a=r[n.entityId],i=a.browserIds.length,s=a.browserIds.reduce((function(t,r){return t+e[r].checkStatus}),0);return Number(s===i||s&&Ta.Km)}return console.warn("Unknown entity type while trying to determine checkbox status. Item: ".concat(JSON.stringify(n),". ")+"Please report this to our team at ".concat(C.WY,".")),Ta.wT}));const Ha="GmSTUcS__6ru6XqfUwTm",Va="SIjRYlrY7LUaIOEFLesg",Wa="gIbhX6XBQ2CObUyG_skK",qa="uguNCTZkxSBVVKR9K6lH",Ya="sOLV5Fsta5TwMmH05upY",Ka="oSQ67zTTCTB4ZNIEDsjE",Ja="iNFUSXIRxKm5Q8AkOQhV",Xa="FrxBxKBajEm3gR7JvEIh",Qa="vIAF9eDidGeyZDFKwzuW",$a="p9zBca1FFwHaMMqbjgML";function ei(e){var t,r=e.item,n=(0,o.useDispatch)(),a=(0,o.useSelector)(x.c_),c=(0,o.useSelector)((function(e){return e.tree.groups.byId})),u=(0,o.useSelector)((function(e){return Fa(e,r)})),d=(0,s.useRef)(null),p=/\/visual-checks/.test(location.hash);(0,s.useEffect)((function(){d.current&&(d.current.onclick=function(e){if(e.stopPropagation(),r.entityType===mt.p.Group){var t=c[r.entityId];n((0,_.toggleGroupCheckbox)({browserIds:t.browserIds,checkStatus:(0,vr.jj)(u)}))}else r.entityType===mt.p.Suite?n((0,_.toggleSuiteCheckbox)({suiteId:r.entityId,checkStatus:(0,vr.jj)(u)})):r.entityType===mt.p.Browser&&n((0,_.toggleBrowserCheckbox)({suiteBrowserId:r.entityId,checkStatus:(0,vr.jj)(u)}))})}),[d,r,u]);var f=r.title.slice(0,-1),m=r.title[r.title.length-1],g=v()((t={},(0,l.Z)(t,Qa,r.entityType===mt.p.Group),(0,l.Z)(t,$a,r.entityType!==mt.p.Group),t));return s.createElement("div",{className:Ha},s.createElement("div",null,s.createElement("div",{className:g},r.prefix&&s.createElement("span",{className:Wa},r.prefix),s.createElement("span",{className:qa},f.map((function(e,t){return s.createElement(s.Fragment,{key:t},s.createElement("span",{className:t!==f.length-1?Ya:""},e),s.createElement(Ve.Z,{height:12,className:Ka}))})),s.createElement("span",{className:f.length>0?Ya:""},m))),r.tags&&r.tags.length>0&&s.createElement("div",{className:Ja},r.tags.map((function(e,t){return s.createElement("span",{key:t,className:Xa},e)})))),a&&!p&&s.createElement(i.XZJ,{checked:(0,vr.CR)(u),indeterminate:(0,vr.Ph)(u),className:Va,size:"m",controlRef:d}))}var ti=r(84673),ri=r.n(ti);const ni={magnifier:"EjYvq5pA27vPFglbcsSz"};var ai=3;function ii(e){var t=e.image,r=e.style,n=e.magnifierHeight,a=void 0===n?150:n,i=e.magnifierWidth,o=void 0===i?150:i,c=e.zoomLevel,u=void 0===c?ai:c,l=e.scrollContainerRef,p=(0,s.useState)(!1),f=(0,d.Z)(p,2),m=f[0],v=f[1],g=(0,s.useState)([0,0]),h=(0,d.Z)(g,2),E=(0,d.Z)(h[0],2),y=E[0],I=E[1],S=h[1],T=(0,s.useState)([0,0]),w=(0,d.Z)(T,2),O=(0,d.Z)(w[0],2),N=O[0],_=O[1],C=w[1],R=(0,s.useRef)([0,0]),A=(0,s.useState)({}),M=(0,d.Z)(A,2),D=M[0],Z=M[1],P=(0,s.useRef)(null);return(0,s.useEffect)((function(){if(m&&null!=l&&l.current&&null!=P&&P.current){var e=function(){if(P.current){var e=(0,d.Z)(R.current,2),t=e[0],r=e[1],n=P.current.getBoundingClientRect(),a=n.top,i=t-n.left-window.scrollX,s=r-a-window.scrollY;C([i,s])}};return l.current.addEventListener("scroll",e),function(){var t;null===(t=l.current)||void 0===t||t.removeEventListener("scroll",e)}}}),[m,l]),(0,s.useEffect)((function(){var e=(0,d.Z)(R.current,2),r=e[0],n=e[1];Z({display:m?"":"none",height:"".concat(a,"px"),width:"".concat(o,"px"),backgroundImage:"url('".concat(t.path,"')"),top:"".concat(n-a/2,"px"),left:"".concat(r-o/2,"px"),backgroundSize:"".concat(y*u,"px ").concat(I*u,"px"),backgroundPositionX:"".concat(-N*u+o/2,"px"),backgroundPositionY:"".concat(-_*u+a/2,"px")})}),[m,y,I,N,_]),s.createElement("div",null,s.createElement(Cr.w,{image:t,style:r,ref:P,onMouseEnter:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.width,n=t.height;S([r,n]),v(!0),R.current=[e.clientX,e.clientY]}(e)},onMouseLeave:function(e){return function(e){e.preventDefault(),v(!1),R.current=[e.clientX,e.clientY]}(e)},onMouseMove:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.top,n=t.left,a=e.clientX-n-window.scrollX,i=e.clientY-r-window.scrollY;C([a,i]),R.current=[e.clientX,e.clientY]}(e)}}),(0,b.createPortal)(s.createElement("div",{className:ni.magnifier,style:D}),document.body))}const si="fOCwwY8SyBtdV8yd9MaE",oi="AU6DFFgGiakJnqZwq66G",ci="ZjC0bb2zdqSR5wNLRp4F",ui="FWP9wDidgiPcbjkeKMEW",li="SdbQF9QSHTIuzXbW5NhZ",di="lEKkI6Teiro44TkyeMy6",pi="TqV8drAzil99buolLGvD";function fi(e){var t;return e.item.status===C.ih.SKIPPED&&e.item.skipReason?s.createElement("div",{className:di},s.createElement("div",{className:pi},"Skipped ⋅ ",(0,dr.hk)(e.item.skipReason))):null!==(t=e.item.images)&&void 0!==t&&t.length?s.createElement("div",null,e.item.images.map((function(t){var r=[];return t.status!==C.ih.FAIL&&t.status!==C.ih.UPDATED&&t.status!==C.ih.SUCCESS||r.push({title:"Expected",image:t.expectedImg}),t.status!==C.ih.UPDATED&&t.status!==C.ih.SUCCESS&&r.push({title:"Actual",image:t.actualImg}),t.status===C.ih.FAIL&&r.push({title:"Diff",image:t.diffImg}),s.createElement("div",{key:t.id},s.createElement("span",{className:oi},t.stateName," ⋅ ",tn(t)),s.createElement("div",{className:ci},r.filter((function(e){var t=e.image;return Boolean(t)})).map((function(t){return s.createElement("div",{className:v()(li,3===r.length&&"Diff"!==t.title&&ui),key:t.title},s.createElement("p",null,t.title),s.createElement(ii,{image:t.image,scrollContainerRef:e.scrollContainerRef}))}))))}))):e.item.errorStack?s.createElement("div",{className:v()(si,e.className)},(e.item.errorTitle+"\n"+ri()(e.item.errorStack)).trim()):null}const mi="T3aXaKm5jZ4a6NLqYRBw",vi="w50MypVLjyV8yU8AnjiB",gi="xZyMfouBBnA33n0udtkK",hi="ApzdqHVcRYufL0rh7fmJ",Ei="D4aLlzPBALA9wUI7MVAE",yi="CvF3cmhVMllx30vyYbH4",Ii="zeS_VNPrT5fizUUHJnSq",bi="phHEhQJxiTI66Z6s54HL",Si="jzzo195Rmsd5uw8pctM3",Ti="k_aewXqIOI0UbVd5Jvsr",wi="mTrxnQFe6UTb97i6j4nW text-hint";var Oi=(0,s.forwardRef)((function(e,t){var r,n,a=e.currentTreeNodeId,c=e.treeData,u=e.treeViewExpandedById,d=e.onClick,p=(0,o.useDispatch)(),f=(0,ar.Lm)({items:c.tree,withExpandedState:!0,getItemId:function(e){return e.id},controlledState:{expandedById:u}}),m=(0,s.useCallback)((function(e){var t=e.id,r=f.structure.itemsById[t];d(r,f.state.expandedById[t])}),[f,u]),g=s.useRef(null),h=(0,Ga.MG)({count:f.structure.visibleFlattenIds.length,getScrollElement:function(){return g.current},estimateSize:function(e){var t=f.structure.visibleFlattenIds[e];return f.structure.itemsById[t].entityType===mt.p.Group?73:32},getItemKey:(0,s.useCallback)((function(e){return f.structure.visibleFlattenIds[e]}),[f]),overscan:50}),E=h.getVirtualItems();return(0,s.useImperativeHandle)(t,(function(){return{scrollToId:function(e){f.structure.visibleFlattenIds.includes(e)?h.scrollToIndex(f.structure.visibleFlattenIds.indexOf(e),{align:"auto"}):(p((0,_.revealTreeNode)({nodeId:e})),setTimeout((function(){try{h.scrollToIndex(f.structure.visibleFlattenIds.indexOf(e),{align:"auto"})}catch(e){}}),50))}}})),0===f.structure.visibleFlattenIds.length?s.createElement("div",{className:wi},"There are no tests that match selected filters"):s.createElement(ar.lW,{className:mi},s.createElement("div",{ref:g,className:vi},s.createElement("div",{className:gi,style:{height:h.getTotalSize()}},s.createElement("div",{className:hi,style:{transform:"translateY(".concat(null!==(r=null===(n=E[0])||void 0===n?void 0:n.start)&&void 0!==r?r:0,"px)")},"data-qa":"tree-view-list"},E.map((function(e){var t,r=f.structure.itemsById[e.key],n=r.id===a,o=[Ei,(t={"current-tree-node":n,"error-tree-node":r.entityType===mt.p.Browser&&(r.status===C.ih.FAIL||r.status===C.ih.ERROR)},(0,l.Z)(t,yi,n),(0,l.Z)(t,Si,r.entityType===mt.p.Browser),(0,l.Z)(t,Ti,r.entityType===mt.p.Browser&&(r.status===C.ih.FAIL||r.status===C.ih.ERROR)),t)];return s.createElement(i.xuv,{key:e.key,"data-index":e.index,ref:h.measureElement,spacing:{pt:1}},s.createElement(ar.CM,(0,Ht.Z)({height:0,className:v()(o)},(0,ar.vy)({id:e.key.toString(),list:f,onItemClick:m,mapItemDataToContentProps:function(e){return{startSlot:s.createElement(ur,null,e.status?(0,dr.XF)(e.status):s.createElement(sr.Z,null)),title:s.createElement(ei,{item:e,className:n?Ii:""}),subtitle:s.createElement(fi,{item:e,className:n?bi:"",scrollContainerRef:g})}}}).props)))}))))))}));const Ni={skeleton:"NfU5ZxuSXr88hxKKeomI","skeleton-appear":"ExjahJDmJwFVgynPb_Ou",skeletonAppear:"ExjahJDmJwFVgynPb_Ou"};function _i(){var e=(0,s.useState)([]),t=(0,d.Z)(e,2),r=t[0],n=t[1];return(0,s.useEffect)((function(){for(var e=0,t=[],r=0;r<24;r++){var a=pt()(0,e+1);e=a,t.push(s.createElement(i.OdW,{key:r,className:Ni.skeleton,style:{width:"calc(100% - ".concat(a," * 24px)"),"--delay":Math.floor(r/2)+"s"}}))}n(t)}),[]),s.createElement(i.kCb,{direction:"column",gap:3,alignItems:"end"},r)}var Ci=["title","isInitialized","onHighlightCurrentTest","treeViewRef","statusList","statusValue","onStatusChange"];function Ri(e){var t=e.title,r=e.isInitialized,n=e.onHighlightCurrentTest,a=e.treeViewRef,o=e.statusList,c=e.statusValue,u=e.onStatusChange,l=(0,qn.Z)(e,Ci);return s.createElement(Ae,{className:v()(Yn.card,Yn.treeViewCard),key:"tree-view",qa:"suites-tree-card"},s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackCardCrash,{recommendedAction:"Try to reload page"})},s.createElement(i.xvT,{variant:"header-2",className:Yn.card__title,qa:"sidebar-title"},t),s.createElement(i.kCb,{gap:2},s.createElement(ra,null),s.createElement(la,null)),s.createElement(fa,{list:o,value:c,onChange:u,disabled:!r}),n&&s.createElement(za,{onHighlightCurrentTest:n}),r&&s.createElement(Oi,(0,Ht.Z)({ref:a},l)),!r&&s.createElement(_i,null)))}function Ai(){var e=ta(),t=(0,o.useSelector)(Pe),r=(0,o.useSelector)(Oa.V),n=(0,o.useSelector)(ke),a=r.visibleTreeNodeIds,i=r.tree,u=(0,c.UO)(),p=(0,o.useSelector)(je),f=(0,o.useSelector)((function(e){return e.app[Ne.T3.suitesPage].currentBrowserId})),m=(0,o.useSelector)((function(e){return e.app[Ne.T3.suitesPage].currentTreeNodeId})),g=a.indexOf(m),h=(0,o.useSelector)(x.Dr),E=(0,o.useDispatch)(),y=(0,c.s0)(),I=(0,o.useSelector)((function(t){return t.app[e].viewMode})),b=(0,o.useSelector)((function(e){return(0,Oa.d)(e)})),S=(0,s.useCallback)((function(t){E(_.changeViewMode({data:t,page:e}))}),[e]);(0,s.useEffect)((function(){null!=t&&t.parentId&&null!==p&&n.length&&y("/"+["suites",t.parentId,void 0!==u.stateName?u.stateName:n[0].stateName,null==p?void 0:p.toString()].map(encodeURIComponent).join("/"))}),[t,p]),(0,s.useEffect)((function(){if(f!==u.suiteId&&(E((0,_.setStrictMatchFilter)(!1)),h&&u.suiteId)){var e=(0,Oe.iT)(r.tree,u.suiteId);if(!e)return;E((0,_.setCurrentTreeNode)({browserId:u.suiteId,treeNodeId:e.id})),void 0!==u.attempt&&E((0,_.changeTestRetry)({browserId:u.suiteId,retryIndex:Number(u.attempt)}))}}),[h,u]);var T=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;null==T||null===(e=T.current)||void 0===e||e.scrollToId(m)}),[T,m]);var w=(0,o.useSelector)((function(e){return e.ui[Ne.T3.suitesPage].expandedTreeNodesById})),O=(0,s.useMemo)((function(){return[{title:"All",value:C.wO.ALL,count:b.total},{icon:(0,dr.XF)(C.ih.SUCCESS),title:"Passed",value:C.wO.PASSED,count:b.success},{icon:(0,dr.XF)(C.ih.FAIL),title:"Failed",value:C.wO.FAILED,count:b.fail},{icon:(0,dr.XF)(C.ih.RETRY),title:"Retried",value:C.wO.RETRIED,count:b.retried},{icon:(0,dr.XF)(C.ih.SKIPPED),title:"Skipped",value:C.wO.SKIPPED,count:b.skipped}]}),[b]),N=function(e){var t,r=a[g+e],n=(0,Oe.Qt)(i,null!=r?r:"");if(n){var s=(0,Oe.av)(n);E(_.setCurrentTreeNode({treeNodeId:r,browserId:n.entityId,groupId:s})),null==T||null===(t=T.current)||void 0===t||t.scrollToId(r)}else console.warn("Couldn't find tree node by id in prev/next handler. ID: ".concat(m,". Tree: ").concat(JSON.stringify(i))+"Please report this to our team at ".concat(C.WY,"."))},R=(0,s.useCallback)((function(e,t){e.entityType===mt.p.Browser?E(_.setCurrentTreeNode({treeNodeId:e.id,browserId:e.entityId,groupId:(0,Oe.av)(e)})):E(_.setTreeNodeExpandedState({nodeId:e.id,isExpanded:!t}))}),[]),A=(0,o.useSelector)((function(e){return e.ui[Ne.T3.suitesPage].sectionSizes})),M=(0,s.useState)(null),D=(0,d.Z)(M,2),Z=D[0],P=D[1],k=(0,s.useState)(0),j=(0,d.Z)(k,2),L=j[0],B=j[1];return(0,s.useLayoutEffect)((function(){if(Z){B(Z.clientHeight);var e=new ResizeObserver((function(e){B(e[0].contentRect.height)}));return e.observe(Z),function(){return e.disconnect()}}}),[Z]),s.createElement("div",{className:lt.container},s.createElement(He,{sizes:A,onSizesChange:function(e){E(_.setSectionSizes({sizes:e,page:Ne.T3.suitesPage})),(0,Oe.aV)(e[0])?E(_.setBackupSectionSizes({sizes:[Wn.p,100-Wn.p],page:Ne.T3.suitesPage})):E(_.setBackupSectionSizes({sizes:e,page:Ne.T3.suitesPage}))}},s.createElement(Ri,{title:"Suites",onHighlightCurrentTest:function(){T.current&&null!=t&&t.parentId&&T.current.scrollToId(m)},isInitialized:h,treeViewRef:T,treeData:r,treeViewExpandedById:w,currentTreeNodeId:m,onClick:R,statusList:O,statusValue:I,onStatusChange:S}),s.createElement(Ae,{key:"test-view",className:v()(lt.card,lt.testViewCard),style:{"--sticky-header-height":L+"px"}},s.createElement(Xt.Boundary,{watchFor:[t,u.suiteId,h],fallback:s.createElement(Xt.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},t&&s.createElement(s.Fragment,null,s.createElement("div",{className:lt.stickyHeader,ref:function(e){return P(e)}},s.createElement(Xe,{className:lt.card__title,suitePath:t.suitePath,browserName:t.name,index:g,totalItems:a.length,onNext:function(){return N(1)},onPrevious:function(){return N(-1)}}),s.createElement(ut,{onAttemptChange:function(e,t,r){E(_.changeTestRetry((0,l.Z)({browserId:e,retryIndex:r},Ne.T3.suitesPage,m?{treeNodeId:m}:void 0)))}})),s.createElement(Vn,null)),!u.suiteId&&!t&&s.createElement("div",{className:lt.hintContainer},s.createElement("span",{className:lt.hint},"Select a test to see details")),u.suiteId&&!h&&s.createElement(ft,null)))))}function Mi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Di(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Zi=(0,fr.createSelector)([x.Jx,x.TZ,x.O7],(function(e,t,r){for(var n={},a=0,i=Object.values(e);a<i.length;a++){var s=i[a],o=r[s.parentId];if(s.stateName&&o){var c=t[o.parentId];if(c){var u="".concat(c.id," ").concat(s.stateName);n[u]||(n[u]={id:u,browserId:c.id,images:[],suitePath:o.suitePath,browserName:c.name,stateName:s.stateName}),n[u].images.push(Object.assign({},s,{timestamp:o.timestamp}))}}}for(var l={},p=function(){var n=(0,d.Z)(m[f],2),a=n[0],i=n[1],s=t[i.browserId],o=s.resultIds[s.resultIds.length-1],c=r[o];if(c.status!==C.ih.RUNNING&&c.status!==C.ih.ERROR&&!c.imageIds.find((function(t){return e[t].stateName===i.stateName})))return"continue";i.images.sort((function(e,t){return e.timestamp-t.timestamp})),l[a]={id:i.id,suitePath:i.suitePath,browserId:i.browserId,browserName:i.browserName,stateName:i.stateName,imageIds:i.images.map((function(e){return e.id})),status:c.status}},f=0,m=Object.entries(n);f<m.length;f++)p();return l})),Pi=function(e){var t=e.app.visualChecksPage.currentNamedImageId,r=Zi(e);return t?r[t]:Object.values(r)[0]},ki=function(e){var t=Pi(e);if(!t)return null;var r=e.tree.browsers.stateById[t.browserId].retryIndex,n=t.imageIds.find((function(t){var n=e.tree.images.byId[t].parentId;return e.tree.results.byId[n].attempt===r}));return n?(0,x.Jx)(e)[n]:null},xi=function(e){var t=Pi(e);return t?e.tree.browsers.stateById[null==t?void 0:t.browserId].retryIndex:null},ji=function(e){var t=Pi(e),r=(0,x.Jx)(e),n=null==t?void 0:t.browserId,a=n&&e.tree.browsers.byId[n];if(a)for(var i=(null==a?void 0:a.resultIds.length)-1;i>=0;i--){if(r["".concat(null==a?void 0:a.resultIds[i]," ").concat(null==t?void 0:t.stateName)])return i}return 0},Li=function(e){var t=e.app.visualChecksPage.currentNamedImageId,r=Zi(e);if(t){var n=r[t];return n?e.tree.browsers.byId[n.browserId]:null}return null};const Bi={container:"e8s4JSjd7RxAhPAaW8RZ",card:"LLcn_jBWNEuyQC5ZBgS5",card__title:"GS6Zo5RCv1s1Z6c3t0w2",cardTitle:"GS6Zo5RCv1s1Z6c3t0w2","toolbar-container":"XrScx7Cwyr_af5rbLwdl",toolbarContainer:"XrScx7Cwyr_af5rbLwdl","accept-button":"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button",acceptButton:"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button","buttons-container":"sLSIptbgAQ5QCgptRkAA",buttonsContainer:"sLSIptbgAQ5QCgptRkAA",hint:"HaHZlzIgRHYiaJTmV3fY","current-image":"lDjihigezbN9xQBOSlIn",currentImage:"lDjihigezbN9xQBOSlIn"};function Ui(){return s.createElement(i.kCb,{direction:"column",gap:4,style:{marginTop:"12px"}},s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"12px",width:"15%"}}),s.createElement(i.OdW,{style:{height:"12px",width:"25%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"24px",width:"40%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"12px",width:"150px"}}),s.createElement(i.OdW,{style:{height:"12px",width:"180px"}}),s.createElement(i.OdW,{style:{height:"12px",width:"120px"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"12px",width:"25%"}})),s.createElement(i.kCb,{gap:2},s.createElement(i.OdW,{style:{height:"500px"}}),s.createElement(i.OdW,{style:{height:"500px"}}),s.createElement(i.OdW,{style:{height:"500px"}})))}var zi=r(22578);const Gi={container:"ipa14zMJGXV7Y5F33sfG","attempt-select":"TcxhRYjS_wr5KAstgw3V",attemptSelect:"TcxhRYjS_wr5KAstgw3V","attempt-number":"vUAaXSCoIWZa4RTwiSEW",attemptNumber:"vUAaXSCoIWZa4RTwiSEW","attempt-option":"CO6bZtkzia3WT1X_RATs",attemptOption:"CO6bZtkzia3WT1X_RATs","attempt-select-popup":"oehf8WD6Wi4UG5QdUp5L",attemptSelectPopup:"oehf8WD6Wi4UG5QdUp5L"};function Fi(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(Pi),r=(0,o.useSelector)(x.Jx),n=null==t?void 0:t.browserId,a=(0,o.useSelector)((function(e){return n&&e.tree.browsers.byId[n]})),c=a?a.resultIds.length:null,u=(0,o.useSelector)((function(e){return a?e.tree.browsers.stateById[a.id].retryIndex:null})),l=function(e){if(a&&null!==u)for(var n=e?u+1:u-1;e?n<(null==a?void 0:a.resultIds.length):n>=0;){var i="".concat(null==a?void 0:a.resultIds[n]," ").concat(null==t?void 0:t.stateName);if(r[i])return!1;n+=e?1:-1}return!0},p=(0,s.useMemo)((function(){return l(!0)}),[u,a]),f=(0,s.useMemo)((function(){return l(!1)}),[u,a]),m=function(i){if(a&&null!==u){for(var s=null,o=i?u+1:u-1;i?o<(null==a?void 0:a.resultIds.length):o>=0;){var c="".concat(null==a?void 0:a.resultIds[o]," ").concat(null==t?void 0:t.stateName);if(r[c]){s=o;break}o+=i?1:-1}n&&null!==s&&e((0,_.changeTestRetry)({browserId:n,retryIndex:s}))}};return a?s.createElement("div",{className:Gi.container},s.createElement(i.ua7,{content:"Prev screenshot",openDelay:0,placement:"top"},s.createElement(i.zxk,{"aria-label":"Prev screenshot",view:"outlined",onClick:function(){return m(!1)},disabled:f},s.createElement(i.JO$,{data:zi.Z}))),s.createElement(i.ua7,{content:"Show all attempts",openDelay:0,placement:"top"},s.createElement(i.PhF,{renderControl:function(e){var t=e.triggerProps,r=t.onClick,n=t.onKeyDown,a=e.ref;return s.createElement(i.zxk,{className:Gi.attemptSelect,onClick:r,onKeyDown:n,ref:a,view:"flat"},"Attempt ",s.createElement("span",{className:Gi.attemptNumber},null!==u?u+1:"–")," of ",s.createElement("span",{className:Gi.attemptNumber},null!=c?c:"–"))},renderOption:function(e){var n="".concat(e.data.resultId," ").concat(null==t?void 0:t.stateName);return s.createElement("div",{className:Gi.attemptOption},en(r[n]||null,!0),s.createElement("span",null,e.content))},popupClassName:Gi.attemptSelectPopup,onUpdate:function(t){var r=(0,d.Z)(t,1)[0];n&&e((0,_.changeTestRetry)({browserId:n,retryIndex:Number(r)}))},value:u?[u.toString()]:[]},a.resultIds.map((function(e,t){return s.createElement(i.PhF.Option,{key:t,value:t.toString(),content:"Attempt #".concat(t+1),data:{resultId:e}})})))),s.createElement(i.ua7,{content:"Next screenshot",openDelay:0,placement:"top"},s.createElement(i.zxk,{view:"outlined",onClick:function(){return m(!0)},disabled:p},s.createElement(i.JO$,{data:Ve.Z})))):null}var Hi=r(79483),Vi=function(e,t){var r=(0,s.useRef)({}),n=t.slice(Math.max(0,e-1-3),Math.min(t.length,e+1+3)),a=(0,o.useSelector)((function(e){return function(e,t){var r,n=[],a=(0,x.Jx)(e),i=Zi(e),s=Mi(t);try{for(s.s();!(r=s.n()).done;){var o=i[r.value];o&&n.push.apply(n,(0,yn.Z)(o.imageIds.map((function(e){return a[e]}))))}}catch(e){s.e(e)}finally{s.f()}return n}(e,n)}));(0,s.useEffect)((function(){a.forEach((function(e){r.current[e.id]=(0,Hi.m)(e)}))}),[e]),(0,s.useEffect)((function(){return function(){Object.values(r.current).forEach((function(e){return null==e?void 0:e()}))}}),[])};function Wi(e){var t=e.currentNamedImage,r=e.visibleNamedImageIds,a=e.onImageChange,u=(0,o.useDispatch)(),l=(0,H.z)(),p=(0,o.useSelector)(ki),f=(0,o.useSelector)(xi),m=(0,c.s0)(),v=r.indexOf(null==t?void 0:t.id);Vi(v,r);var g=(0,o.useSelector)((function(e){return e.view.diffMode})),h=(0,o.useSelector)((function(e){return e.staticImageAccepter.enabled})),E=(0,o.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===C.B$.name})),y=(0,o.useSelector)((function(e){return e.running})),I=(0,o.useSelector)((function(e){return e.processing})),b=(0,o.useSelector)((function(e){return e.gui})),S=(0,o.useSelector)(Li),T=null==p?void 0:p.parentId,w=Boolean(T&&S&&T===S.resultIds[S.resultIds.length-1]),O=(0,Fr.KD)({gui:b,image:null!=p?p:{},isLastResult:w,isStaticImageAccepterEnabled:h});return s.createElement("div",{className:Bi.stickyHeader},t&&s.createElement(Xe,{className:Bi.card__title,suitePath:t.suitePath,browserName:t.browserName,index:v,totalItems:r.length,onPrevious:function(){return a(r[v-1])},stateName:t.stateName,onNext:function(){return a(r[v+1])}}),s.createElement("div",{className:Bi.toolbarContainer},s.createElement(Fi,null),s.createElement(i.izJ,{orientation:"vertical"}),s.createElement(rn,{image:p}),s.createElement(i.izJ,{orientation:"vertical"}),s.createElement(i.PhF,{className:Bi.diffModeSelect,label:"Diff Mode",value:[g],onUpdate:function(e){var t,r=(0,d.Z)(e,1)[0];return t=r,void u((0,_.setDiffMode)({diffModeId:t}))},multiple:!1},Object.values(C.nx).map((function(e){return s.createElement(i.PhF.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),s.createElement(i.kCb,{className:Bi.buttonsContainer,gap:2},s.createElement(i.zxk,{view:"outlined",className:Bi.acceptButton,disabled:y||I,onClick:function(){t&&m("/"+["suites",null==t?void 0:t.browserId,null==t?void 0:t.stateName,null==f?void 0:f.toString()].map(encodeURIComponent).join("/"))},qa:"go-suites-button"},s.createElement(i.JO$,{data:n.Z}),"Go to Suites"),E&&s.createElement(s.Fragment,null,O&&s.createElement(i.zxk,{view:"action",className:Bi.acceptButton,disabled:y||I,onClick:function(){p&&u(h?(0,_.staticAccepterUnstageScreenshot)([p.id]):(0,an.Ku)({imageIds:[p.id]}))},qa:"undo-button"},s.createElement(i.JO$,{data:j.Z}),"Undo"),p&&(0,Fr.h3)(p)&&s.createElement(i.zxk,{view:"action",className:Bi.acceptButton,disabled:y||I,onClick:function(){p&&(null==l||l.trackScreenshotsAccept(),u(h?(0,_.staticAccepterStageScreenshot)([p.id]):(0,an.Ro)({imageIds:[p.id]})))},qa:"accept-button"},s.createElement(i.JO$,{data:pe.Z}),"Accept"),s.createElement(ct,{showPlayer:!1,browser:S})))))}var qi=function(e){return e.app[Ne.T3.visualChecksPage].viewMode},Yi=(0,fr.createSelector)([x.Jx,Zi,qi,function(e){return e.app[Ne.T3.visualChecksPage].filteredBrowsers},function(e){return e.app[Ne.T3.visualChecksPage].nameFilter},function(e){return e.app[Ne.T3.visualChecksPage].useRegexFilter},function(e){return e.app[Ne.T3.visualChecksPage].useMatchCaseFilter}],(function(e,t,r,n,a,i,s){var o,c=new Set(n.map((function(e){return e.id}))),u=c.size,d={isRoot:!0,data:void 0},p=(o={},(0,l.Z)(o,C.wO.ALL,0),(0,l.Z)(o,C.wO.PASSED,0),(0,l.Z)(o,C.wO.FAILED,0),o),f=Object.values(t).filter((function(t){var n=t.browserId,o=t.browserName,l=t.imageIds;if(u&&!c.has(o))return!1;if(!(0,Fr.TV)(n.slice(0,-o.length-1),o,a,{strictMatchFilter:!1,useMatchCaseFilter:s,useRegexFilter:i,isNewUi:!0}).isMatch)return!1;var d=e[l[l.length-1]].status;switch(p[C.wO.ALL]++,d){case C.ih.SUCCESS:return p[C.wO.PASSED]++,r===C.wO.PASSED||r===C.wO.ALL;case C.ih.FAIL:case C.ih.ERROR:case C.ih.UPDATED:return p[C.wO.FAILED]++,r===C.wO.FAILED||r===C.wO.ALL;default:return!0}})).map((function(t){return{data:{id:t.id,entityId:t.id,entityType:mt.p.Browser,errorStack:void 0,errorTitle:void 0,parentData:void 0,isActive:!0,skipReason:"Unknown reason",status:t.status===C.ih.RUNNING?t.status:e[t.imageIds[t.imageIds.length-1]].status,tags:[],title:[].concat((0,yn.Z)(t.suitePath),[t.browserName]),images:[e[t.imageIds[t.imageIds.length-1]]]},parentNode:d}}));return{allTreeNodeIds:f.map((function(e){return e.data.id})),visibleTreeNodeIds:[],tree:f,stats:p}}));function Ki(){var e=(0,o.useDispatch)(),t=ta(),r=(0,o.useSelector)(Pi),n=(0,o.useSelector)(xi),a=(0,o.useSelector)(ji),i=(0,o.useSelector)(ki),u=(0,o.useSelector)(Li),l=(0,s.useState)(!1),p=(0,d.Z)(l,2),f=p[0],m=p[1],g=(0,c.s0)(),h=(0,c.UO)(),E=(0,s.useRef)(!1),y=(null==r?void 0:r.status)===C.ih.RUNNING,I=(0,o.useSelector)((function(e){return e.app.visualChecksPage.currentNamedImageId})),b=(0,o.useSelector)(Yi),S=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;null==S||null===(e=S.current)||void 0===e||e.scrollToId(I)}),[S,I]);var T=(0,o.useSelector)((function(e){return e.app.isInitialized})),w=(0,s.useCallback)((function(t){e((0,_.visualChecksPageSetCurrentNamedImage)(t)),m(!0)}),[u]),O=(0,s.useCallback)((function(t){e((0,_.visualChecksPageSetCurrentNamedImage)(t.id)),m(!0)}),[u,n]);(0,s.useEffect)((function(){f&&u&&(e((0,_.changeTestRetry)({browserId:null==u?void 0:u.id,retryIndex:a})),m(!1))}),[f,u]),(0,s.useEffect)((function(){I&&null!==n&&g("".concat(encodeURIComponent(I),"/").concat(n))}),[I,n]),(0,s.useEffect)((function(){if(h&&T&&!E.current&&(E.current=!0,h.imageId&&(e((0,_.visualChecksPageSetCurrentNamedImage)(h.imageId)),void 0!==h.attempt))){var t=h.imageId.split(" ").slice(0,-1).join(" ");e((0,_.changeTestRetry)({browserId:t,retryIndex:Number(h.attempt)}))}}),[h,T]);var N=(0,o.useSelector)(qi),R=(0,o.useSelector)((function(e){return e.ui[Ne.T3.visualChecksPage].sectionSizes})),A=(0,s.useMemo)((function(){return[{title:"All",value:C.wO.ALL,count:b.stats[C.wO.ALL]},{icon:(0,dr.XF)(C.ih.SUCCESS),title:"Passed",value:C.wO.PASSED,count:b.stats[C.wO.PASSED]},{icon:(0,dr.XF)(C.ih.FAIL),title:"Failed",value:C.wO.FAILED,count:b.stats[C.wO.FAILED]}]}),[b]),M=(0,s.useCallback)((function(r){e(_.changeViewMode({data:r,page:t}))}),[t]);return s.createElement("div",{className:Bi.container},s.createElement(He,{sizes:R,onSizesChange:function(t){e(_.setSectionSizes({sizes:t,page:Ne.T3.visualChecksPage})),(0,Oe.aV)(t[0])?e(_.setBackupSectionSizes({sizes:[Wn.p,100-Wn.p],page:Ne.T3.visualChecksPage})):e(_.setBackupSectionSizes({sizes:t,page:Ne.T3.visualChecksPage}))}},s.createElement(Ri,{title:"Visual Checks",isInitialized:T,treeViewRef:S,treeData:b,treeViewExpandedById:{},currentTreeNodeId:I,onClick:O,statusList:A,statusValue:N,onStatusChange:M}),s.createElement(Ae,{key:"test-view",className:v()(Bi.card,Bi.testViewCard)},s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackCardCrash,{recommendedAction:"Try to reload page"})},T?s.createElement(s.Fragment,null,r&&s.createElement(Wi,{currentNamedImage:r,visibleNamedImageIds:b.allTreeNodeIds,onImageChange:w}),i&&!y&&s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},s.createElement("div",{className:Bi.currentImage},s.createElement(Gr,{result:i}))),!i&&!y&&s.createElement("div",{className:Bi.hint},"This run doesn't have an image with id \"",h.imageId,'"'),y&&s.createElement(Fn,null)):s.createElement(Ui,null)))))}var Ji=r(82979),Xi=r(52505),Qi=r(41493),$i=r(36498),es=new i.x7r;function ts(){var e=[{title:"Suites",url:"/suites",icon:n.Z,element:s.createElement(Ai,null),children:[s.createElement(c.AW,{key:"suite",path:"/suites/:suiteId?/:stateName?/:attempt?",element:s.createElement(Ai,null)})]},{title:"Visual Checks",url:"/visual-checks",icon:a.Z,element:s.createElement(Ki,null),children:[s.createElement(c.AW,{key:"image",path:"/visual-checks/:imageId?/:attempt?",element:s.createElement(Ki,null)})]}],t=Ji.Z.getState().config.customScripts;return s.createElement(s.StrictMode,null,s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackAppCrash,null)},s.createElement(Xi.h,{scripts:t}),s.createElement(i.f6W,{theme:"light"},s.createElement(i.Nj1,{toaster:es},s.createElement(o.Provider,{store:Ji.Z},s.createElement($i.s,null),s.createElement(Qi.n,null,s.createElement(u.UT,null,s.createElement(Xt.Boundary,{fallback:s.createElement(Xt.FallbackAppCrash,null)},s.createElement(Ce,{pages:e},s.createElement(g,null),s.createElement(c.Z5,null,s.createElement(c.AW,{element:s.createElement(c.Fg,{to:"/suites"}),path:"/"}),e.map((function(e){return s.createElement(c.AW,{element:s.createElement(Xt.Boundary,{watchFor:[e.url],fallback:s.createElement(Xt.FallbackAppCrash,null)},e.element),path:e.url,key:e.url},e.children)}))),s.createElement(Z,null),s.createElement(i.B1r,null))))))))))}},54901:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n=function(e){var t=Object.values(e.app.loading.progress);return 0===t.length?1:t.reduce((function(e,t){return e+t}),0)/t.length}},13583:(e,t,r)=>{"use strict";r.d(t,{j:()=>m});var n=r(7896),a=r(56666),i=r(93150),s=r(2784),o=r(72779),c=r.n(o),u=r(4792),l=r(82806),d=r(73241);const p={"attempt-picker-item":"neU_Cfm3M15M3BSF4BPC",attemptPickerItem:"neU_Cfm3M15M3BSF4BPC","attempt-picker-item--active":"mz1xnPKov1eE1lGUtwUv",attemptPickerItemActive:"mz1xnPKov1eE1lGUtwUv","attempt-picker-item--staged":"iAZPQjWXiP66s5pbRcqA",attemptPickerItemStaged:"iAZPQjWXiP66s5pbRcqA","attempt-picker-item--commited":"C9a9oXaqFg2uA4N1pXsr",attemptPickerItemCommited:"C9a9oXaqFg2uA4N1pXsr","attempt-picker-item--skipped":"yZQDV4KWeKF4hDJx3bLU",attemptPickerItemSkipped:"yZQDV4KWeKF4hDJx3bLU","attempt-picker-item--success":"RWXkwQeHYIvjx3N0kdgs",attemptPickerItemSuccess:"RWXkwQeHYIvjx3N0kdgs","attempt-picker-item--error":"r1_mjVoKA8ouzPY8bjCQ",attemptPickerItemError:"r1_mjVoKA8ouzPY8bjCQ","attempt-picker-item--fail":"PQAov1teNrPubSI8MNIR",attemptPickerItemFail:"PQAov1teNrPubSI8MNIR","attempt-picker-item--fail_error":"FXnkwqXQroxRnmZM4jOY",attemptPickerItemFailError:"FXnkwqXQroxRnmZM4jOY","attempt-picker-item--non-matched":"QTotjE7NfIFLwCD4nllF",attemptPickerItemNonMatched:"QTotjE7NfIFLwCD4nllF"};var f=r(76635),m=function(e){var t=e.isActive,r=e.onClick,o=e.title,m=e.resultId,v=(0,u.useSelector)((function(e){return e.tree.results.byId[m]})),g=(0,u.useSelector)((function(e){var t=e.tree,r=e.app,n=r.isNewUi,a=r.suitesPage.currentGroupId,i=t.groups.byId[null!=a?a:""];return n?Boolean(null==i?void 0:i.resultIds.includes(m)):(0,f.get)(t.results.stateById[m],"matchedSelectedGroup",!1)})),h=(0,u.useSelector)((function(e){var t=e.view.keyToGroupTestsBy,r=e.app,n=r.isNewUi,a=r.suitesPage.currentGroupId;return n?Boolean(a):Boolean(t)})),E=(0,l.R6)(v.status)&&(0,l.MO)(v.error)?d.ih.FAIL_ERROR:v.status,y=function(e){switch(e){case d.ih.SUCCESS:case d.ih.UPDATED:return{view:"flat-success",selected:!0};case d.ih.ERROR:return{view:"flat-danger",selected:!0};case d.ih.FAIL:case d.ih.FAIL_ERROR:return{view:"flat-utility",selected:!0};case d.ih.SKIPPED:return{view:"normal",selected:!1};case d.ih.RUNNING:return{view:"outlined",selected:!1};default:return{view:"flat",selected:!1}}}(E);if(!v)return null;var I=c()(p.attemptPickerItem,(0,a.Z)({},p["attempt-picker-item--active"],t),(0,a.Z)({},p["attempt-picker-item--".concat(E)],E),(0,a.Z)({},p["attempt-picker-item--non-matched"],h&&!g));return s.createElement(i.zxk,(0,n.Z)({},y,{title:o,className:I,onClick:r,qa:"retry-switcher"}),v.attempt+1)}},52505:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(2784);function a(e){var t=e.scripts;if(0===t.length)return null;var r=(0,n.useRef)(null);return(0,n.useEffect)((function(){t.forEach((function(e){var t,n=document.createElement("script");n.type="text/javascript",n.innerHTML="(".concat(e,")();"),null===(t=r.current)||void 0===t||t.appendChild(n)}))}),[t]),n.createElement("div",{className:"custom-scripts",ref:r})}},64714:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(2784),a=r(81845);const i={"list-mode":"pj_ogOToZAibT8t0BgVn",listMode:"pj_ogOToZAibT8t0BgVn","image-container":"TKY8DEuKhmN3I38ss1pw",imageContainer:"TKY8DEuKhmN3I38ss1pw"};function s(e){return n.createElement("div",{className:i.listMode},n.createElement("div",null,e.expected.label,n.createElement(a.w,{image:e.expected,containerClassName:i.imageContainer})),n.createElement("div",null,e.actual.label,n.createElement(a.w,{image:e.actual,containerClassName:i.imageContainer})),n.createElement("div",null,e.diff.label,n.createElement(a.w,{image:e.diff,diffClusters:e.diff.diffClusters,containerClassName:i.imageContainer})))}},44049:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var n=r(96234),a=r(72779),i=r.n(a),s=r(2784),o=r(81845),c=r(47747);const u={"onion-skin":"JSIx_EJphtVsIOFTU5QV",onionSkin:"JSIx_EJphtVsIOFTU5QV","image-wrapper--actual":"Q5vhPogTmJE1FfxuRnL7",imageWrapperActual:"Q5vhPogTmJE1FfxuRnL7",image:"hcZ0imC7qhNvmlqNtFoQ","slider-container":"Po2tBfl76gN4J7lhdMx2",sliderContainer:"Po2tBfl76gN4J7lhdMx2",slider:"q6XqAEzv7jg60neBIjuS"};var l=r(93150);function d(e){var t=e.expected,r=e.actual,a=Math.max(t.size.width,r.size.width),d=Math.max(t.size.height,r.size.height),p=(0,s.useState)(.5),f=(0,n.Z)(p,2),m=f[0],v=f[1],g={"--max-natural-width":a,"--max-natural-height":d},h={opacity:m};return s.createElement("div",{style:g},s.createElement("div",{className:i()(c.Z.imagesContainer,u.onionSkin)},s.createElement(o.w,{containerClassName:c.Z.screenshotContainer,imageClassName:u.image,image:t}),s.createElement(o.w,{containerClassName:i()(c.Z.screenshotContainer,u["image-wrapper--actual"]),imageClassName:u.image,image:r,style:h})),s.createElement("div",{className:u.sliderContainer},s.createElement(l.iRW,{className:u.slider,min:0,max:1,step:.01,value:m,onUpdate:function(e){v(e)}})))}},7065:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(2784),a=r(81845);function i(e){return n.createElement(a.w,{image:e.diff,diffClusters:e.diff.diffClusters})}},50929:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(2784),a=r(81845);const i={"side-by-side-mode":"VaICsBk68CAt6__oFWHt",sideBySideMode:"VaICsBk68CAt6__oFWHt","image-wrapper":"ceWtSKkw1pWlOywz2czZ",imageWrapper:"ceWtSKkw1pWlOywz2czZ","image-container":"gQbv5w1fUR3HJWHeYMNE",imageContainer:"gQbv5w1fUR3HJWHeYMNE"};var s=r(60460);function o(e){var t=e.expected,r=e.actual,o=e.diff;return n.createElement("div",{className:i.sideBySideMode},n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(t.size)},t.label,n.createElement(a.w,{image:t,containerClassName:i.imageContainer})),n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(r.size)},r.label,n.createElement(a.w,{image:r,containerClassName:i.imageContainer})),n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(o.size)},o.label,n.createElement(a.w,{image:o,diffClusters:o.diffClusters,containerClassName:i.imageContainer})))}},55476:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var n=r(2784),a=r(81845);const i={"side-by-side-to-fit-mode":"odZUnNHY2XMygzB79rZr",sideBySideToFitMode:"odZUnNHY2XMygzB79rZr","image-wrapper":"pjyzjeoFj88o4B1RByYm",imageWrapper:"pjyzjeoFj88o4B1RByYm",image:"qZNS0CIwKnODxsVOx_uJ","image-container":"YLOTuSJw5PGf0_34gj3k",imageContainer:"YLOTuSJw5PGf0_34gj3k"};var s=r(60460);function o(e){var t=e.expected,r=e.actual,o=e.diff;return n.createElement("div",{className:i.sideBySideToFitMode,style:{"--desired-height":e.desiredHeight}},n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(t.size)},t.label,n.createElement(a.w,{imageClassName:i.image,image:t,containerClassName:i.imageContainer})),n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(r.size)},r.label,n.createElement(a.w,{imageClassName:i.image,image:r,containerClassName:i.imageContainer})),n.createElement("div",{className:i.imageWrapper,style:(0,s.g)(o.size)},o.label,n.createElement(a.w,{imageClassName:i.image,image:o,diffClusters:o.diffClusters,containerClassName:i.imageContainer})))}},74677:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n=r(56666),a=r(96234),i=r(22578),s=r(93714),o=r(72779),c=r.n(o),u=r(76635),l=r(2784),d=r(81845),p=r(47747);const f={divider:"xke4FSHwIkNDc3R1Pn3p","divider-icons":"t48ArlFt1zMl8nZBbqDh",dividerIcons:"t48ArlFt1zMl8nZBbqDh","is-dragging":"uFAl8OCDlPnWB9KDpWZS",isDragging:"uFAl8OCDlPnWB9KDpWZS",image:"i2Zondv7u1IKr7xhYko5","left-section":"x_BqwwIcOAHEWLS7lAfy",leftSection:"x_BqwwIcOAHEWLS7lAfy","right-section":"TCpTUl4F7IHmjnr2F3NZ",rightSection:"TCpTUl4F7IHmjnr2F3NZ"};function m(e){var t=e.expected,r=e.actual,o=Math.max(t.size.width,r.size.width),m=Math.max(t.size.height,r.size.height),v=(0,l.useRef)(null),g=(0,l.useState)(0),h=(0,a.Z)(g,2),E=h[0],y=h[1],I=(0,l.useState)(!1),b=(0,a.Z)(I,2),S=b[0],T=b[1];(0,l.useEffect)((function(){v.current&&y(v.current.getBoundingClientRect().width/2)}),[v]);var w=function(e){var t,r,n=null!==(t=null===(r=v.current)||void 0===r?void 0:r.getBoundingClientRect().left)&&void 0!==t?t:0,a=e.pageX-n-window.scrollX;y((0,u.clamp)(a,0,o))},O=function(e){w(e)},N=function e(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",O),T(!1)},_={"--max-natural-width":o,"--max-natural-height":m};return l.createElement("div",{className:c()(p.Z.imagesContainer,(0,n.Z)({},f.isDragging,S)),style:_,ref:v,onMouseDown:function(e){window.addEventListener("mousemove",O),window.addEventListener("mouseup",N),T(!0),w(e)}},l.createElement("div",{className:f.leftSection,style:{width:E}},l.createElement(d.w,{containerClassName:p.Z.screenshotContainer,imageClassName:f.image,image:t})),l.createElement("div",{className:f.divider},l.createElement("div",{className:f.dividerIcons},l.createElement(i.Z,null),l.createElement(s.Z,null))),l.createElement(d.w,{containerClassName:c()(p.Z.screenshotContainer,f.rightSection),imageClassName:f.image,image:r}))}},35682:(e,t,r)=>{"use strict";r.d(t,{H:()=>d});var n=r(56666),a=r(96234),i=r(72779),s=r.n(i),o=r(2784),c=r(81845),u=r(47747);const l={"switch-mode":"Ny2vpBqeksODYVelzNbP",switchMode:"Ny2vpBqeksODYVelzNbP","screenshot-container":"TAxLNBXorF3F9JKBwFkg",screenshotContainer:"TAxLNBXorF3F9JKBwFkg",image:"ITrvrng5zrWXzj8ERZ6Y","image--hidden":"OMGRjCMdfbrMSJBcS5Ty",imageHidden:"OMGRjCMdfbrMSJBcS5Ty"};function d(e){var t=e.expected,r=e.actual,i=Math.max(t.size.width,r.size.width),d=Math.max(t.size.height,r.size.height),p=(0,o.useState)(!0),f=(0,a.Z)(p,2),m=f[0],v=f[1],g={"--max-natural-width":i,"--max-natural-height":d};return o.createElement("div",{className:s()(u.Z.imagesContainer,l.switchMode),onClick:function(){v(!m)},style:g},o.createElement(c.w,{containerClassName:s()(u.Z.screenshotContainer,(0,n.Z)({},l["image--hidden"],m)),imageClassName:l.image,image:t}),o.createElement(c.w,{containerClassName:s()(u.Z.screenshotContainer,l.screenshotContainer,(0,n.Z)({},l["image--hidden"],!m)),imageClassName:l.image,image:r}))}},60460:(e,t,r)=>{"use strict";r.d(t,{g:()=>n,h:()=>a});var n=function(e){return{"--natural-width":e.width,"--natural-height":e.height,"--img-width":e.width>e.height?"100%":"auto","--img-height":e.width>e.height?"auto":"100%"}},a=function(e){var t=100*e,r=Math.ceil(100*t)/100;return t<.01?"< ".concat(.01):String(r)}},28978:(e,t,r)=>{"use strict";r.d(t,{o:()=>E});var n=r(96234),a=r(56666),i=r(21023),s=r.n(i),o=r(93150),c=r(76635),u=r(2784),l=r(4792),d=r(82806);const p="WzmFjz0FM1ic3ZIH2oGn",f="o2HLUxfvjsG8hxnSpso3";var m=r(71011),v=r(73241);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=(0,l.connect)((function(e,t){var r=e.tree,n=e.config.metaInfoBaseUrls,a=e.apiValues,i=e.view,s=t.resultId,o=r.results.byId[s],c=r.browsers.byId[null==o?void 0:o.parentId];return{result:o,testName:null==c?void 0:c.parentId,metaInfoBaseUrls:n,apiValues:a,baseHost:i.baseHost}}))((function(e){var t,r,a,i,l,g=e.result,E=e.metaInfoBaseUrls,y=e.baseHost,I=(t=h(h({},g.metaInfo),(r=e.testName,a=e.apiValues,i=a.extraItems,l=a.metaInfoExtenders,(0,c.omitBy)((0,c.mapValues)(l,(function(e){var t=e.startsWith("return")?e:"return ".concat(e);return new Function(t)()({testName:r},i)})),c.isEmpty))),(0,c.mapValues)(t,(function(e){var t;return(0,c.isObject)(e)?JSON.stringify(e):null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"No value"}))),b=Object.entries(I).map((function(e){var t=(0,n.Z)(e,2);return{label:t[0],content:t[1]}})).map((function(e){if("url"===e.label||"auto"===E[e.label]){var t=(0,d.zV)(e.content,y);return{label:e.label,content:(0,d.qC)(e.content),url:t,copyText:t}}if(E[e.label]){var r=E[e.label],n=(0,d.CB)(r)?(0,d.zV)(e.content,r):s().join(r,e.content),a=(0,d.CB)(e.content)?n:e.content;return{label:e.label,content:a,copyText:a,url:n}}return(0,d.CB)(e.content)?{label:e.label,content:e.content,url:e.content}:e}));return void 0!==g.duration&&b.push({label:"duration",content:"".concat((new Intl.NumberFormat).format(g.duration)," ms")}),!b.some((function(e){return"url"===e.label}))&&g.suiteUrl&&b.push({label:"url",content:(0,d.qC)(g.suiteUrl),url:(0,d.zV)(g.suiteUrl,y)}),g.status===v.ih.SKIPPED&&g.skipReason&&b.push({label:"skipReason",content:(0,m.hk)(g.skipReason),copyText:g.skipReason}),u.createElement(o.wq_,{className:p,qa:e.qa},b.map((function(e){var t,r;return e.url?u.createElement(o.wq_.Item,{name:e.label,copyText:null!==(r=e.copyText)&&void 0!==r?r:e.content,key:e.label},u.createElement("a",{className:f,"data-suite-view-link":e.url,target:"_blank",href:e.url,rel:"noreferrer"},e.content)):u.createElement(o.wq_.Item,{name:e.label,copyText:null!==(t=e.copyText)&&void 0!==t?t:e.content,key:e.label},u.createElement("span",{className:f},e.content))})))}))},36498:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});var n=r(2784),a=r(4792);function i(){var e=(0,a.useSelector)((function(e){return e.config.yandexMetrika.enabled})),t=(0,n.useRef)(null);return(0,n.useEffect)((function(){var r;if(e){var n=document.createElement("script");n.type="text/javascript",n.innerHTML='\n   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};\n   m[i].l=1*new Date();\n   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}\n   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})\n   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");\n\n   ym(99267510, "init", {\n        webvisor:false,\n        clickmap:false,\n        trackLinks:false,\n        accurateTrackBounce:false\n   });',null===(r=t.current)||void 0===r||r.appendChild(n)}}),[e]),e?n.createElement("div",{ref:t,"data-qa":"metrika-script"}):null}},81845:(e,t,r)=>{"use strict";r.d(t,{w:()=>I});var n=r(56666),a=r(72779),i=r.n(a),s=r(2784),o=r(28316),c=r(82806);var u=r(96234),l=r(73241);const d="ZHDuTpi0eKH5j4KuxLJH";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=s.forwardRef((function(e,t){var r=(0,s.useState)(!1),n=(0,u.Z)(r,2),a=n[0],i=n[1];(0,s.useImperativeHandle)(t,(function(){return{pulse:function(){i(!1),window.requestAnimationFrame((function(){return i(!0)}))}}}));var o=e.diffImageOriginalSize,c=e.diffCluster,p=e.diffImageRef;if(!a||!p.current)return null;var m=o.width,v=p.current.getBoundingClientRect(),g=p.current.offsetWidth/m,h=Math.ceil(g*(c.bottom-c.top+1)),E=Math.ceil(g*(c.right-c.left+1)),y=(c.left+c.right)/2,I=(c.top+c.bottom)/2,b=v.left+g*y,S=v.top+g*I,T=Math.floor(Math.sqrt(E*E+h*h)),w={width:"".concat(T,"px"),height:"".concat(T,"px"),top:"".concat(Math.ceil(S-T/2),"px"),left:"".concat(Math.ceil(b-T/2),"px")},O=T+l.S7;return s.createElement("div",{className:d,style:f({"--diff-bubbles-scale":O/T,animation:"diff-bubbles 1s ease-out forwards"},w),onAnimationEnd:function(){return i(!1)}})}));const v="NFIZiiWMKKM72Q7QinYA",g="puC6eSB0vrcDWA1sRjhl",h="kAVAR2DCvLLAyEG8UIGa";function E(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I=(0,s.forwardRef)((function(e,t){var r,a,u,l=(0,s.useRef)(null),d=(0,s.useRef)([]),p=(0,s.useCallback)((function(){if(d.current){var e,t=E(d.current);try{for(t.s();!(e=t.n()).done;){e.value.pulse()}}catch(e){t.e(e)}finally{t.f()}}}),[d]),f=e.image,y=(u=f.path,(0,c.CB)(u)?u:u.split(/[/\\]/).map((function(e){return encodeURIComponent(e)})).join("/")),I=e.disableCache?function(e){return"".concat(e,"?t=").concat(Date.now())}(y):y,b=i()(v,e.containerClassName,(0,n.Z)({},g,null===(r=e.diffClusters)||void 0===r?void 0:r.length)),S=Object.assign({},e.containerStyle);f.size&&(S["--natural-width"]=f.size.width,S["--natural-height"]=f.size.height);var T=i()(h,e.imageClassName),w=Object.assign({},e.style);f.size&&(w.aspectRatio="".concat(f.size.width," / ").concat(f.size.height));var O=[];return null!==(a=e.diffClusters)&&void 0!==a&&a.length&&(O=e.diffClusters.map((function(e,t){return f.size&&(0,o.createPortal)(s.createElement(m,{diffImageOriginalSize:f.size,diffImageRef:l,diffCluster:e,ref:function(e){e&&(d.current[t]=e)},key:t}),document.body)}))),s.createElement("div",{className:b,onClick:p,style:S},s.createElement("img",{className:T,src:I,alt:"Screenshot",ref:function(e){l.current=e,"function"==typeof t?t(e):t&&(t.current=e)},style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove}),O)}))},49674:(e,t,r)=>{"use strict";r.d(t,{d:()=>N,V:()=>O});var n=r(97698),a=r(40645),i=r(68079),s=r(76635),o=r(82806),c=r(73241),u=r(36397),l=r(52902),d=r(11200),p=r(14054);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function e(t,r){return r?(0,u.po)(r)?r.suitePath:[].concat((0,i.Z)(e(t,t[r.parentId])),[r.name]):[]},g=function(e,t,r,n){var a,i=e.results,c=e.images,f=e.suites,m=e.treeViewMode;if((0,u.po)(t))return{id:r,entityType:(0,d.nt)(t),entityId:t.id,title:[t.name],status:t.status,parentData:n,tags:[]};if((0,u.Dk)(t))return{id:t.id,entityType:l.p.Group,entityId:t.id,prefix:"".concat(t.key,":"),title:[t.label],status:null,tags:[]};var g,h,E,y=i[(0,s.last)(t.resultIds)],I=y.imageIds.map((function(e){return c[e]})).filter((function(e){return(0,p.h3)(e)}));(0,u.kI)(y)&&null!==(a=y.error)&&void 0!==a&&a.stack&&(g=null===(E=y.error)||void 0===E?void 0:E.name,h=(0,o.G6)(y.error.stack.split("\n")).slice(0,3).join("\n"));return{id:r,entityType:(0,d.nt)(t),entityId:t.id,title:m===u.xW.Tree?[t.name]:v(f,t),status:y.status,images:I,errorTitle:g,errorStack:h,parentData:n,skipReason:y.skipReason,tags:[]}},h=function(e,t,r){var n,a,i=e.browsers,s=e.suites,o=e.browsersState,c=e.treeViewMode,l=Symbol(),d={},p=function(){return{isRoot:!0,data:r}},m=function t(r){var n,a,f=r.parentId;c===u.xW.Tree&&f?n=t(null!==(a=s[f])&&void 0!==a?a:i[f]):(d[l]||(d[l]=p()),n=d[l]);if((0,u.og)(r)&&!o[r.id].shouldBeShown)return n;var m=c===u.xW.Tree?(0,u.og)(r)?r.name:r.suitePath[r.suitePath.length-1]:r.id,v=n.data?"".concat(n.data.id,"/").concat(m):m;if(d[v])return d[v];var h={parentNode:n,data:g(e,r,v,n.data)};return d[v]=h,n&&(n.children||(n.children=[]),n.children.push(h)),h},v=f(t);try{for(v.s();!(a=v.n()).done;){m(a.value)}}catch(e){v.e(e)}finally{v.f()}return null!==(n=d[l])&&void 0!==n?n:p()},E=function(e){var t=[],r=[],n=function e(n){if(n.data&&n.data.id&&t.push(n.data.id),n.children){var a,i=f(n.children);try{for(i.s();!(a=i.n()).done;){var s,o=a.value;o.data.entityType===l.p.Browser?r.push(o.data.id):null!==(s=o.children)&&void 0!==s&&s.length&&e(o)}}catch(e){i.e(e)}finally{i.f()}}};return e.forEach((function(e){return n(e)})),{allTreeNodeIds:t,visibleTreeNodeIds:r}},y=function(e,t){return{value:e,metadata:null!=t?t:{}}},I=function(e){return e&&(console.warn("Failed to determine suite weight for tree node listed below. Please let us know at "+c.WY),console.warn(e)),{value:[0],metadata:{}}},b=function(e,t,r){var n=e.groups,a=e.browsersState,i=e.browsers,s=e.results,c=e.currentSortExpression;switch(t.data.entityType){case l.p.Group:var p=n[t.data.entityId],f=p.browserIds.flatMap((function(e){return a[e].shouldBeShown?[i[e]]:[]})).length,m=p.resultIds.filter((function(e){return a[s[e].parentId].shouldBeShown})).length;if(c.type===u.ER.ByTestsCount)return y([0,f,m],{testsCount:f,runsCount:m});if(c.type===u.ER.ByName)return y([t.data.title.join(" "),f,m],{testsCount:f,runsCount:m});if(!r)return I(t);if(c.type===u.ER.ByFailedRuns)return y([r.value[0],f,m],Object.assign({},{testsCount:f,runsCount:m},r.metadata));if(c.type===u.ER.ByDuration||c.type===u.ER.ByStartTime||c.type===u.ER.ByRelevance)return r;break;case l.p.Suite:if(c.type===u.ER.ByName)return y([t.data.title.join(" ")]);if(!r)return I(t);if(c.type===u.ER.ByDuration)return y([r.value[0],t.data.title.join(" ")],r.metadata);if(c.type===u.ER.ByFailedRuns||c.type===u.ER.ByTestsCount||c.type===u.ER.ByStartTime||c.type===u.ER.ByRelevance)return r;break;case l.p.Browser:if(c.type===u.ER.ByName)return y([t.data.title.join(" ")]);if(c.type===u.ER.ByFailedRuns){var v=i[t.data.entityId],g=(0,d.av)(t.data),h=v.resultIds.filter((function(e){return((0,o.R6)(s[e].status)||(0,o.KM)(s[e].status))&&(!g||n[g].resultIds.includes(e))})).length;return y([h],{failedRunsCount:h})}if(c.type===u.ER.ByTestsCount){var E=i[t.data.entityId],b=(0,d.av)(t.data),S=b?E.resultIds.filter((function(e){return n[b].resultIds.includes(e)})).length:E.resultIds.length;return y([1,S],{runsCount:S})}if(c.type===u.ER.ByDuration){var T=i[t.data.entityId],w=(0,d.av)(t.data),O=w?T.resultIds.filter((function(e){return n[w].resultIds.includes(e)})):T.resultIds,N=O.reduce((function(e,t){var r;return e+(null!==(r=s[t].duration)&&void 0!==r?r:0)}),0);return y([N,t.data.title.join(" ")],{runsCount:O.length,duration:N})}if(c.type===u.ER.ByStartTime){var _=i[t.data.entityId],C=s[_.resultIds[0]].timestamp;return y([C],{startTime:C})}var R;if(c.type===u.ER.ByRelevance)return y([null!==(R=a[t.data.entityId].fuzzyMatchScore)&&void 0!==R?R:0])}return I(t)},S=function(e,t){var r,n,a=e.currentSortExpression;if(!a||a.type===u.ER.ByName)return I();if(a.type===u.ER.ByFailedRuns||a.type===u.ER.ByTestsCount||a.type===u.ER.ByDuration)return t.reduce((function(e,t){for(var r,n,a,i,s=y(e.value.slice(0),e.metadata),o=0;o<t.value.length;o++){var c;s.value[o]=Number(null!==(c=e.value[o])&&void 0!==c?c:0)+Number(t.value[o])}void 0!==t.metadata.testsCount&&(s.metadata.testsCount=(null!==(r=s.metadata.testsCount)&&void 0!==r?r:0)+t.metadata.testsCount);void 0!==t.metadata.runsCount&&(s.metadata.runsCount=(null!==(n=s.metadata.runsCount)&&void 0!==n?n:0)+t.metadata.runsCount);void 0!==t.metadata.failedRunsCount&&(s.metadata.failedRunsCount=(null!==(a=s.metadata.failedRunsCount)&&void 0!==a?a:0)+t.metadata.failedRunsCount);void 0!==t.metadata.duration&&(s.metadata.duration=(null!==(i=s.metadata.duration)&&void 0!==i?i:0)+t.metadata.duration);return s}),y(new Array(null===(r=t[0])||void 0===r||null===(r=r.value)||void 0===r?void 0:r.length)));if(a.type===u.ER.ByStartTime){var i,s=864e13;return t.reduce((function(e,t){for(var r=y(e.value.slice(0),e.metadata),n=0;n<t.value.length;n++)r.value[n]=Math.min(Number(e.value[n]||s),Number(t.value[n]));return void 0!==t.metadata.startTime&&(r.metadata.startTime=Math.min(r.metadata.startTime||s,t.metadata.startTime)),r}),y(new Array(null===(i=t[0])||void 0===i||null===(i=i.value)||void 0===i?void 0:i.length)))}return a.type===u.ER.ByRelevance?t.reduce((function(e,t){for(var r=y(e.value.slice(0),e.metadata),n=0;n<t.value.length;n++)r.value[n]=Math.max(Number(e.value[n]||0),Number(t.value[n]));return r}),y(new Array(null===(n=t[0])||void 0===n||null===(n=n.value)||void 0===n?void 0:n.length))):I()},T=function(e){var t=[],r=e.metadata.testsCount;void 0!==r&&t.push("".concat(r," ").concat(1===r?"test":"tests"));var n=e.metadata.runsCount;void 0!==n&&t.push("".concat(n," ").concat(1===n?"run":"runs"));var a=e.metadata.failedRunsCount;void 0!==a&&t.push("".concat(a," ").concat(1===a?"failed run":"failed runs"));var i=e.metadata.duration;if(void 0!==i){var s=Math.round(i/1e3*10)/10,o=0;e.metadata.runsCount&&e.metadata.runsCount>1&&(o=Math.round(s/e.metadata.runsCount*10)/10),s<.1?t.push("~0s in total"):t.push("".concat(s,"s in total").concat(o>.1?", ".concat(o,"s on avg."):""))}var c=e.metadata.startTime;return void 0!==c&&t.push("Started at ".concat(new Date(c).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))),t},w=function(e,t){var r=e.currentSortDirection;return function t(n){var a=n.slice(0),s={};return a.forEach((function(r,n){var o,c;if(r.data.entityType===l.p.Group&&null!==(o=r.children)&&void 0!==o&&o.length){var u,d=t(r.children),p=b(e,r,d.weight),f=Object.assign({},r,{children:d.sortedTreeNodes});(u=f.data.tags).push.apply(u,(0,i.Z)(T(p))),s[r.data.id]=p,a[n]=f}else if(r.data.entityType===l.p.Suite&&null!==(c=r.children)&&void 0!==c&&c.length){var m,v=t(r.children),g=b(e,r,v.weight),h=Object.assign({},r,{children:v.sortedTreeNodes});(m=h.data.tags).push.apply(m,(0,i.Z)(T(g))),s[r.data.id]=g,a[n]=h}else if(r.data.entityType===l.p.Browser){var E,y=b(e,r),I=Object.assign({},r);(E=I.data.tags).push.apply(E,(0,i.Z)(T(y))),s[r.data.id]=y,a[n]=I}})),{sortedTreeNodes:a.sort((function(e,t){for(var n=r===u.Sr.Desc?-1:1,a=0;a<s[e.data.id].value.length;a++){var i=s[e.data.id].value[a],o=s[t.data.id].value[a];if(i!==o)return"string"==typeof i||"string"==typeof o?i.toString().localeCompare(o.toString())*n:(i-o)*n}return 0})),weight:S(e,Object.values(s))}}(t).sortedTreeNodes},O=(0,n.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY],(function(e,t,r,n,a,i,s,o,c){var u,l,d,p=c.currentDirection,f=null!==(u=c.availableExpressions.find((function(e){return e.id===c.currentExpressionIds[0]})))&&void 0!==u?u:c.availableExpressions[0],m={results:i,images:s,suites:t,treeViewMode:o,browsersState:a,browsers:n,groups:e,currentSortDirection:p,currentSortExpression:f};if(r.length>0){var v=r.map((function(t){var r=e[t],i=r.browserIds.flatMap((function(e){return a[e].shouldBeShown?[n[e]]:[]})),s=g(m,r,r.id);return{data:s,children:h(m,i,s).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),y=w(m,v),I=E(y);return{tree:y,allTreeNodeIds:I.allTreeNodeIds,visibleTreeNodeIds:I.visibleTreeNodeIds}}var b=h(m,Object.values(n).filter((function(e){return a[e.id].shouldBeShown})));b.children=w(m,null!==(l=b.children)&&void 0!==l?l:[]);var S=E([b]);return{allTreeNodeIds:S.allTreeNodeIds,visibleTreeNodeIds:S.visibleTreeNodeIds,tree:null!==(d=b.children)&&void 0!==d?d:[]}})),N=(0,n.createSelector)([a.O7,a.Wo],(function(e,t){var r={},n=new Set,a=0;Object.values(e).forEach((function(e){var i,s,o=e.parentId,c=e.attempt,u=e.status,l=e.timestamp;(t[o].shouldBeShown||t[o].isHiddenBecauseOfStatus)&&(c>0&&n.add(o),(!r[o]||r[o].timestamp<l)&&(a-=null!==(i=null===(s=r[o])||void 0===s?void 0:s.attempt)&&void 0!==i?i:0,a+=c,r[o]={attempt:c,status:u,timestamp:l}))}));var i={success:0,fail:0,skipped:0,total:Object.keys(r).length,retried:n.size,retries:a,idle:0};return Object.values(r).forEach((function(e){var t=e.status,r=t===c.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(i,r)&&i[r]++})),i}))},52902:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=function(e){return e.Group="group",e.Suite="suite",e.Browser="browser",e}({})},45037:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=25},11200:(e,t,r)=>{"use strict";r.d(t,{Qt:()=>d,aV:()=>p,av:()=>o,iT:()=>l,nt:()=>c});var n=r(52902),a=r(36397);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var o=function(e){for(var t=null,r=e;r;){if(r.entityType===n.p.Group){t=r.entityId;break}r=r.parentData}return t},c=function(e){return(0,a.og)(e)?n.p.Browser:n.p.Suite},u=function e(t,r){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(r(s))return s.data;if(s.children){var o=e(s.children,r);if(o)return o}}}catch(e){a.e(e)}finally{a.f()}return null},l=function(e,t){return u(e,(function(e){return e.data.entityType===n.p.Browser&&e.data.entityId===t}))},d=function(e,t){return u(e,(function(e){return e.data.id===t}))},p=function(e){return e<1}},63550:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(2784),a=r(41493),i=r(73241),s=function(){var e=(0,n.useContext)(a.f);return e||console.warn("Failed to get analytics class instance to send usage info. If you are a user, you can safely ignore this. Feel free to report it to use at "+i.WY),e}},41493:(e,t,r)=>{"use strict";r.d(t,{f:()=>i,n:()=>s});var n=r(2784),a=r(59948),i=(0,n.createContext)(null),s=function(e){var t,r,s=e.children,o=(r=null===(t=(window.data||{}).config)||void 0===t?void 0:t.yandexMetrika,Boolean((null==r?void 0:r.enabled)&&(null==r?void 0:r.counterNumber))),c=function(){var e,t,r=null===(e=(window.data||{}).config)||void 0===e?void 0:e.yandexMetrika;return null!==(t=null==r?void 0:r.counterNumber)&&void 0!==t?t:0}(),u=(0,n.useMemo)((function(){return new a.m(o,c)}),[]);return n.createElement(i.Provider,{value:u},s)}},40645:(e,t,r)=>{"use strict";r.d(t,{Al:()=>a,Bl:()=>c,Dr:()=>m,EZ:()=>i,Fn:()=>g,JK:()=>h,Jx:()=>f,LD:()=>s,O7:()=>p,Qy:()=>v,TJ:()=>u,TZ:()=>l,WY:()=>E,Wo:()=>d,c_:()=>y,jA:()=>o});var n=r(73241),a=function(e){return e.apiValues.toolName},i=function(e){return e.tree.suites.allRootIds},s=function(e){return e.tree.groups.allRootIds},o=function(e){return e.tree.groups.byId},c=function(e){return e.tree.suites.byId},u=function(e){return e.tree.suites.stateById},l=function(e){return e.tree.browsers.byId},d=function(e){return e.tree.browsers.stateById},p=function(e){return e.tree.results.byId},f=function(e){return e.tree.images.byId},m=function(e){return e.app.isInitialized},v=function(e){return e.staticImageAccepter.enabled},g=function(e){return e.gui},h=function(e){return e.ui.suitesPage.treeViewMode},E=function(e){return e.app.sortTestsData},y=function(e){return e.app.availableFeatures.includes(n.Wi)||e.app.availableFeatures.includes(n.B$)}},36397:(e,t,r)=>{"use strict";r.d(t,{Dk:()=>o,ER:()=>l,Sr:()=>d,T3:()=>f,kI:()=>c,og:()=>s,po:()=>i,xW:()=>p,zX:()=>u});var n=r(73241),a=r(52902),i=function(e){return Boolean(e.suitePath)},s=function(e){return Boolean(e.resultIds)},o=function(e){return e.type===a.p.Group},c=function(e){return e.status===n.ih.ERROR},u=function(e){return e.Meta="meta",e.Error="error",e}({}),l=function(e){return e[e.ByName=0]="ByName",e[e.ByFailedRuns=1]="ByFailedRuns",e[e.ByTestsCount=2]="ByTestsCount",e[e.ByStartTime=3]="ByStartTime",e[e.ByDuration=4]="ByDuration",e[e.ByRelevance=5]="ByRelevance",e}({}),d=function(e){return e.Asc="asc",e.Desc="desc",e}({}),p=function(e){return e.Tree="tree",e.List="list",e}({}),f=function(e){return e.suitesPage="suitesPage",e.visualChecksPage="visualChecksPage",e}({})},32444:(e,t,r)=>{"use strict";r.d(t,{R:()=>s,r:()=>o});var n=r(34795),a=r(82841),i=r.n(a),s=function(e){return"error"in e},o=function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/update-time-travel-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},71011:(e,t,r)=>{"use strict";if(r.d(t,{Pz:()=>g,XF:()=>m,hk:()=>h,k:()=>v}),!/^9(29|83)$/.test(r.j))var n=r(75098);if(!/^9(29|83)$/.test(r.j))var a=r(60148);if(!/^9(29|83)$/.test(r.j))var i=r(27766);if(!/^9(29|83)$/.test(r.j))var s=r(68891);if(!/^9(29|83)$/.test(r.j))var o=r(41421);if(!/^9(29|83)$/.test(r.j))var c=r(27163);if(!/^9(29|83)$/.test(r.j))var u=r(49014);var l=r(93150),d=r(2784),p=r(73241),f=r(76635),m=function(e){switch(e){case p.ih.FAIL:case p.ih.ERROR:return d.createElement(n.Z,{className:"icon-fail"});case p.ih.SUCCESS:return d.createElement(a.Z,{className:"icon-success"});case p.ih.SKIPPED:return d.createElement(i.Z,{className:"icon-skip"});case p.ih.RETRY:return d.createElement(s.Z,{className:"icon-retry"});case p.ih.UPDATED:case p.ih.STAGED:return d.createElement(o.Z,{className:"icon-updated"});case p.ih.RUNNING:return d.createElement(l.yCA,{size:"xs"});case p.ih.COMMITED:return d.createElement(c.Z,{className:"icon-committed"});default:return d.createElement(u.Z,null)}},v=function(e){return"".concat(e.size.width,"×").concat(e.size.height)},g=function(e){return(0,f.isString)(e)?e:(0,f.isObject)(e)?JSON.stringify(e):(0,f.isNull)(e)?"null":(0,f.isUndefined)(e)?"undefined":(0,f.toString)(e)},h=function(e){var t=/https?:\/\/[^\s]*/g,r=e.split(t),n=e.match(t)||[];return d.createElement(d.Fragment,null,r.reduce((function(e,t,r){if(e.push(t),n[r]){var a=n[r].startsWith("www.")?"http://".concat(n[r]):n[r];e.push(d.createElement("a",{key:r,href:a,target:"_blank",rel:"noopener noreferrer"},n[r]))}return e}),[]))}},61394:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,z:()=>n});var n=function(e){return e.Name="n",e.Args="a",e.Duration="d",e.IsFailed="f",e.Children="c",e.IsGroup="g",e.TimeStart="ts",e.Repeat="r",e}({}),a=function(e){return e[e.Snapshot=0]="Snapshot",e}({})},58672:()=>{},47747:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={"images-container":"lekVuI_nLrElsyC4GckA",imagesContainer:"lekVuI_nLrElsyC4GckA","screenshot-container":"wed99yOfilwr4262OpnN",screenshotContainer:"wed99yOfilwr4262OpnN"}},57605:()=>{},87240:()=>{},83397:()=>{},33196:()=>{},38087:()=>{},27464:()=>{},39415:()=>{},30633:()=>{},20395:()=>{},30488:()=>{},87374:()=>{},29285:()=>{},6024:()=>{},53260:()=>{},15862:()=>{},57267:()=>{},59255:()=>{},81114:e=>{"use strict";e.exports={i8:"10.19.0"}}}]);