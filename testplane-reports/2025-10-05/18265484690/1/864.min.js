"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[864],{58733:(e,t,n)=>{n.d(t,{e:()=>r,u:()=>a});var r=function(e){return e.UNKNOWN="unknown",e}({}),a=function(e){return e.LiveSnapshotsStreaming="live-snapshots-streaming",e}({})},72273:(e,t,n)=>{n.d(t,{WY:()=>r,XB:()=>a});var r="https://github.com/gemini-testing/html-reporter/issues/new",a="image comparison failed"},27202:(e,t,n)=>{n.d(t,{B$:()=>s.EditScreensFeature,ES:()=>d.ES,Ez:()=>d.Ez,He:()=>a.He,JW:()=>d.JW,Kr:()=>l.Kr,MR:()=>d.MR,Nv:()=>u.Nv,QV:()=>l.QV,S7:()=>i.S,SA:()=>l.SA,SH:()=>d.SH,WY:()=>c.WY,Wi:()=>s.RunTestsFeature,XB:()=>c.XB,YO:()=>m.Y,eb:()=>r.e,em:()=>d.em,ih:()=>d.ih,kb:()=>d.kb,nx:()=>o.n,pn:()=>d.pn,qW:()=>s.TimeTravelFeature,sS:()=>d.sS,t6:()=>d.t6,uf:()=>r.u,wO:()=>p.w,yW:()=>a.yW});var r=n(58733),a=n(46126),i=n(58270),o=n(58615),c=n(72273),s=n(28909),l=n(54077),u=n(71770),d=(n(32705),n(75631),n(62602)),m=n(14811),p=n(37487)},30266:(e,t,n)=>{n.d(t,{JX:()=>r});var r={BEGIN_SUITE:"beginSuite",BEGIN_STATE:"beginState",TEST_RESULT:"testResult",RETRY:"retry",ERROR:"err",END:"end",CONNECTED:"connected",DOM_SNAPSHOTS:"DOM_SNAPSHOTS"}},55862:(e,t,n)=>{n.d(t,{types:()=>B});var r=n(9249),a=n(87371),i=n(45754),o=n(11987),c=n(95058),s=n(56666),l=n(13980),u=n.n(l),d=n(2784),m=n(49330),p=n(50479);function f(e){var t=E();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var g=function(e){(0,i.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.browserId,r=e.equalImages,a=e.comparedImages;return d.createElement(m.Z,{size:"small",open:!0,onClose:t},d.createElement(m.Z.Header,{content:"Find same diffs result"}),d.createElement(m.Z.Content,{scrolling:!0},d.createElement("p",null,"Search was carried out in: ",d.createElement("b",null,n)),d.createElement("p",null,"Found ",d.createElement("b",null,r)," equal images from ",d.createElement("b",null,a))),d.createElement(m.Z.Actions,null,d.createElement(p.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),n}(d.Component);(0,s.Z)(g,"propTypes",{onClose:u().func.isRequired,browserId:u().string.isRequired,equalImages:u().number.isRequired,comparedImages:u().number.isRequired});var v=n(68079),I=n(34795),h=n(80753),S=n(82841),y=n.n(S),T=n(4792),N=n(18717),b=n(76635),M=n(64141),C=n(41381),w=n(26611),O=n(99913),A=n(69875),D=n(78272),_=n(41493),L=n(79483);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=j();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var P=function(e){(0,i.Z)(o,e);var t,n=k(o);function o(e){var t;(0,r.Z)(this,o),t=n.call(this,e),(0,s.Z)((0,h.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,s.Z)((0,h.Z)(t),"onActiveImageChange",(function(e){var n=t._getActiveImages(e);t.setState({retryIndex:n.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,s.Z)((0,h.Z)(t),"onScreenshotAccept",function(){var e=(0,I.Z)(y().mark((function e(n){var r,a,i,o,c,s,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._getActiveImages(),a=r[0].stateName,i=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===n}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(n,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(n,a);case 9:e.t0=e.sent;case 10:if(null!==(o=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[i],ind:i,imageId:o}),c=t.state.stateNameImageIds.filter((function(e,t){return t!==i})),!(0,b.isEmpty)(c)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:c,retryIndex:null}));case 17:s=Math.min(t.state.activeImageIndex,c.length-1),l=t._getActiveImages(s,c),t.setState({activeImageIndex:s,stateNameImageIds:c,retryIndex:l.length-1}),t._preloadAdjacentImages(s,c);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)((0,h.Z)(t),"onScreenshotUndo",(0,I.Z)(y().mark((function e(){var n,r,a,i,o,c,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,b.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(n=t.state.stateNameImageIds,r=t.acceptedImages.pop(),a=r.stateNameImageId,i=r.ind,o=r.imageId,c=[].concat((0,v.Z)(n.slice(0,i)),[a],(0,v.Z)(n.slice(i))),s=t._getActiveImages(i,c),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[o],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:i,stateNameImageIds:c,retryIndex:s.length-1}),t._preloadAdjacentImages(i,c);case 15:case"end":return e.stop()}}),e)})))),(0,s.Z)((0,h.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,s.Z)((0,h.Z)(t),"onClose",(function(){if((0,b.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,b.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,s.Z)((0,h.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,i=a.image,c=a.activeImageIndex,l=a.stateNameImageIds,u=a.imagesByStateName,m=t._getActiveImages(c,l),p=(0,b.findIndex)(m,{id:i.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:l,activeImageIndex:c,retryIndex:p,showMeta:!1,disposables:{}},t.topRef=d.createRef(),t.totalImagesCount=(0,b.size)(u);for(var f=1;f<=3;f++)t._preloadAdjacentImages(c,l,f);return t.analytics=t.context,t}return(0,a.Z)(o,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,b.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,I.Z)(y().mark((function e(t,n){var r,a,i,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(r=this.analytics)||void 0===r||r.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),i=(0,b.get)(a,"[0].images",[]),o=i.find((function(e){return e.stateName===n}))||{},c=o.id,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var n=this,r=this.props.stateNameImageIds.find((function(t){return n.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:r}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,b.size)(t);[(a+e-r)%a,(e+r)%a].filter((function(e){return e>=0})).forEach((function(e){var r=t[e],a=(0,b.last)(n.props.imagesByStateName[r]),i=a.expectedImg,o=a.actualImg,c=a.diffImg,s={};[i,o,c].filter(Boolean).forEach((function(e){var t=e.path,n=(0,L.p)(t);s[t]=n})),n.setState({disposables:R(R({},n.state.disposables),s)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.view,r=e.staticImageAccepter,a=this.state,i=a.retryIndex,o=a.stateNameImageIds,c=a.activeImageIndex,s=a.showMeta,l=this._getActiveImages(),u=(0,b.isNumber)(i)?l[i]:null,m=this.totalImagesCount-o.length;return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.topRef}),d.createElement(C.Z,{actions:t,view:n,images:l,stateNameImageIds:o,retryIndex:i,activeImageIndex:c,showMeta:s,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:m,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:r}),d.createElement(w.Z,{showMeta:s,image:u}),d.createElement(O.Z,{image:u}))}}]),o}(d.Component);(0,s.Z)(P,"contextType",_.f),(0,s.Z)(P,"propTypes",{view:u().shape({diffMode:u().string.isRequired}),image:u().shape({id:u().string.isRequired,parentId:u().string.isRequired,stateName:u().string.isRequired}).isRequired,onClose:u().func.isRequired,imagesByStateName:u().object.isRequired,stateNameImageIds:u().arrayOf(u().string).isRequired,activeImageIndex:u().number.isRequired,staticImageAccepter:D.O$,actions:u().object.isRequired});(0,T.connect)((function(e,t){var n=t.image,r=(0,A.getAcceptableImagesByStateName)(e),a=Object.keys(r),i=e.tree.results.byId[n.parentId].parentId,o="".concat(i," ").concat(n.stateName),c=a.indexOf(o),s=e.staticImageAccepter;return{view:e.view,imagesByStateName:r,stateNameImageIds:a,activeImageIndex:c,staticImageAccepter:s}}),(function(e){return{actions:(0,N.bindActionCreators)(M,e)}}))(P);var Z=n(63690);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,T.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,N.bindActionCreators)(M,e)}}))((function(e){var t=e.toolName,n=e.staticImageAccepter,r=e.staticAccepterConfig,a=e.imagesById,i=e.actions,o="chore: update ".concat(t," screenshot references"),c=r.pullRequestUrl,s=(0,d.useRef)(null);(0,d.useEffect)((function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var l=(0,d.useMemo)((function(){return(0,D.Yo)(Object.values(n.acceptableImages),a,n.accepterDelayedImages)}),[n,a]),u=function(){var e=(0,I.Z)(y().mark((function e(){var t,n,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===(t=s.current)||void 0===t?void 0:t.value)||o,a=U(U({},(0,b.pick)(r,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:n}),e.next=4,i.staticAccepterCommitScreenshot(l,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement(Z.Card,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},d.createElement(Z.Text,null,"You are commiting ",l.length," images to Pull Request:"),d.createElement("br",null),d.createElement(Z.Link,{href:c,target:"_blank"},c),d.createElement("br",null),d.createElement("br",null),d.createElement("br",null),d.createElement(Z.Text,null,"Enter commit message:"),d.createElement(Z.TextArea,{autoFocus:!0,defaultValue:o,controlRef:s,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),u())}}),d.createElement("div",{className:"static-accepter-confirm__controls"},d.createElement(Z.Button,{className:"static-accepter-confirm__cancel",onClick:function(){i.staticAccepterCloseConfirm()}},"Cancel"),d.createElement(Z.Button,{view:"action",className:"static-accepter-confirm__confirm",onClick:u},"Commit")))}));var B={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},97566:(e,t,n)=>{n.d(t,{Z:()=>r});const r={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES",SET_SEARCH_LOADING:"SET_SEARCH_LOADING"}},29909:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_BROWSER_FEATURES,payload:e}}},70839:(e,t,n)=>{n.d(t,{M:()=>u,u:()=>l});var r=n(34795),a=n(82841),i=n.n(a),o=n(87741),c=n(97566),s=n(48394),l=function(e){return{type:c.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},u=function(e){return function(){var t=(0,r.Z)(i().mark((function t(n){var r,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.sectionName,a=e.groupIndex,c=e.controlIndex,t.next=4,o.default.post("/run-custom-gui-action",{sectionName:r,groupIndex:a,controlIndex:c});case 4:n(l(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((0,s.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},19272:(e,t,n)=>{n.d(t,{Lf:()=>c,QC:()=>i,QJ:()=>s,R4:()=>u,cQ:()=>o,if:()=>l});var r=n(97566),a=n(94646),i=function(e){return{type:r.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},o=function(e){return{type:r.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},c=function(e){return{type:r.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},s=function(e){return(0,a.WI)(e.data),{type:r.Z.BROWSERS_SELECTED,payload:e}},l=function(e){return{type:r.Z.SET_SEARCH_LOADING,payload:e}},u=function(e){return{type:r.Z.CHANGE_VIEW_MODE,payload:e}}},60540:(e,t,n)=>{n.d(t,{C:()=>m});var r=n(34795),a=n(82841),i=n.n(a),o=n(76635),c=n(87741),s=n(55862),l=n(33981),u=n(70807),d=n(95834),m=function(e,t,n){return function(){var a=(0,r.Z)(i().mark((function r(a){var m,p,f,E,g;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a((0,l.o)({active:!0,content:"Find same diffs..."})),m=t.filter((function(t){return t.includes(n)&&t!==e})),p=[],r.prev=3,(0,o.isEmpty)(m)){r.next=13;break}return r.next=7,c.default.post("/get-find-equal-diffs-data",[e].concat(m));case 7:if(f=r.sent,E=f.data,(0,o.isEmpty)(E)){r.next=13;break}return r.next=12,c.default.post("/find-equal-diffs",E);case 12:p=r.sent.data;case 13:g=(0,o.difference)(t,[].concat(e,p)),(0,o.isEmpty)(g)||a((0,u.DI)(g)),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(3),console.error("Error while trying to find equal diffs:",r.t0);case 20:return r.prev=20,a((0,l.o)({active:!1})),a((0,d.h)({id:s.types.FIND_SAME_DIFFS,type:s.types.FIND_SAME_DIFFS,data:{browserId:n,equalImages:p.length,comparedImages:m.length}})),r.finish(20);case 24:case"end":return r.stop()}}),r,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()}},32481:(e,t,n)=>{n.d(t,{I:()=>a,i:()=>i});var r=n(97566),a=function(e){return{type:r.Z.GROUP_TESTS_BY_KEY,payload:e}},i=function(e){return{type:r.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}}},48907:(e,t,n)=>{n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},33981:(e,t,n)=>{n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_LOADING,payload:e}}},95834:(e,t,n)=>{n.d(t,{M:()=>i,h:()=>a});var r=n(97566),a=function(e){return{type:r.Z.OPEN_MODAL,payload:e}},i=function(e){return{type:r.Z.CLOSE_MODAL,payload:e}}},48394:(e,t,n)=>{n.d(t,{N5:()=>a.N5,sc:()=>s,uX:()=>l});var r=n(56666),a=n(78505),i=n(14054);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=c({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},r);return(0,a.h4)(c({id:e,status:t,message:n},i))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return s(e,"error",(0,i.ML)(t),n)}},84787:(e,t,n)=>{n.d(t,{$:()=>a,E:()=>i});var r=n(97566),a=function(){return{type:r.Z.PROCESS_BEGIN}},i=function(){return{type:r.Z.PROCESS_END}}},54432:(e,t,n)=>{n.d(t,{GC:()=>u,Ku:()=>p,Ro:()=>d,sP:()=>m});var r=n(34795),a=n(82841),i=n.n(a),o=n(87741),c=n(97566),s=n(84787),l=n(48394),u=function(e){return{type:c.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},d=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,c,d,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,s.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return r=e.sent,c=r.data,e.next=8,o.default.post("/update-reference",c);case 8:return d=e.sent,m=d.data,a&&n(u(m)),n((0,s.E)()),e.abrupt("return",m);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),n((0,l.uX)("acceptScreenshot",e.t0)),n((0,s.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return{type:c.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},p=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,s.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return r=e.sent,c=r.data,e.next=8,o.default.post("/undo-accept-images",c);case 8:u=e.sent,d=u.data,a&&n(m(d)),n((0,s.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),n((0,l.uX)("undoScreenshot",e.t0)),n((0,s.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},22253:(e,t,n)=>{n.d(t,{B:()=>a,H:()=>i});var r=n(97566),a=function(e){return{type:r.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},i=function(e){return{type:r.Z.SET_DIFF_MODE,payload:e}}},58311:(e,t,n)=>{n.d(t,{Q:()=>a,u:()=>i});var r=n(97566),a=function(e){return{type:r.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},i=function(e){return{type:r.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},49012:(e,t,n)=>{n.d(t,{A2:()=>h,FD:()=>y,Lt:()=>w,cO:()=>S,dd:()=>b,mm:()=>C,sv:()=>M,vx:()=>T,x_:()=>N});var r=n(56666),a=n(34795),i=n(82841),o=n.n(i),c=n(87741),s=n(76635),l=n(19456),u=n.n(l),d=n(55862),m=n(14054),p=n(78272),f=n(97566),E=n(95834),g=n(48394);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return{type:f.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},S=function(){return{type:f.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},y=function(e){return{type:f.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},T=function(e){return{type:f.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},N=function(){return(0,E.h)({id:d.types.STATIC_ACCEPTER_CONFIRM,type:d.types.STATIC_ACCEPTER_CONFIRM})},b=function(){return(0,E.M)({id:d.types.STATIC_ACCEPTER_CONFIRM})},M=function(e,t){var n=t.repositoryUrl,r=t.pullRequestUrl,i=t.serviceUrl,l=t.message,d=t.axiosRequestOptions,E=void 0===d?{}:d,v=t.meta;return function(){var t=(0,a.Z)(o().mark((function t(d){var h,S,y,T,N,M,C,w;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d({type:f.Z.PROCESS_BEGIN}),d(b()),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(h=new FormData).append("repositoryUrl",n),h.append("pullRequestUrl",r),h.append("message",l),(0,s.isEmpty)(v)||h.append("meta",JSON.stringify(v)),S=new(u())({concurrency:256}),y=o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.add((0,a.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Ow)(e[n].image);case 2:r=t.sent,h.append("image",r,e[n].path),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(n+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),T=0;case 14:if(!(T<e.length)){t.next=19;break}return t.delegateYield(y(T),"t0",16);case 16:T++,t.next=14;break;case 19:return t.next=21,S.onIdle();case 21:return d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,c.default.post(i,h,I(I({},E),{},{onUploadProgress:function(e){var t;d({type:f.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(N=t.sent,M=e.map((function(e){return e.id})),C=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(N.status>=200&&N.status<400)){t.next=35;break}d({type:f.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:M}),(0,p.AM)(C),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),d((0,g.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw w=["Unexpected status code from the service: ".concat(N.status,"."),"Server response: '".concat(N.data,"'")].join("\n"),new Error(w);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),d((0,g.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),d({type:f.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},w=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}}},40554:(e,t,n)=>{n.d(t,{$X:()=>u,Bq:()=>i,Gm:()=>o,KW:()=>m,Nu:()=>s,Qh:()=>f,_r:()=>a,cI:()=>c,gM:()=>p,o9:()=>l,tF:()=>E,zE:()=>d});var r=n(97566),a=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},i=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},o=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},c=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},s=function(e){return{type:r.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},l=function(e){return{type:r.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},u=function(e){return{type:r.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},d=function(e){return{type:r.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},m=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},p=function(e){return{type:r.Z.PAGE_SET_SECTION_SIZES,payload:e}},f=function(e){return{type:r.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},E=function(e){return{type:r.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},70807:(e,t,n)=>{n.d(t,{Cd:()=>I,DI:()=>i,IP:()=>g,LL:()=>v,T9:()=>E,V1:()=>s,Z$:()=>f,cd:()=>m,iB:()=>h,kF:()=>d,kR:()=>c,nS:()=>p,qz:()=>a,td:()=>o,tp:()=>u,vf:()=>l});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_STATE_RESULT,payload:e}},i=function(e){return{type:r.Z.CLOSE_SECTIONS,payload:e}},o=function(){return{type:r.Z.SELECT_ALL}},c=function(){return{type:r.Z.DESELECT_ALL}},s=function(){return{type:r.Z.VIEW_EXPAND_ALL}},l=function(){return{type:r.Z.VIEW_EXPAND_ERRORS}},u=function(){return{type:r.Z.VIEW_EXPAND_RETRIES}},d=function(){return{type:r.Z.VIEW_COLLAPSE_ALL}},m=function(e){return{type:r.Z.TOGGLE_SUITE_SECTION,payload:e}},p=function(e){return{type:r.Z.TOGGLE_BROWSER_SECTION,payload:e}},f=function(e){return{type:r.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},E=function(e){return{type:r.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},g=function(e){return{type:r.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},v=function(e){return{type:r.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},I=function(e){return{type:r.Z.TOGGLE_TESTS_GROUP,payload:e}},h=function(e){return{type:r.Z.CHANGE_TEST_RETRY,payload:e}}},84006:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(97566),a=function(e){return{type:r.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:{namedImageId:e}}}},94646:(e,t,n)=>{n.d(t,{V$:()=>l,WI:()=>u,mB:()=>c});var r=n(96234),a=n(19126),i=n.n(a),o=n(76635);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),i().parse(e,{decoder:function(e,n,r,a){if("key"===a){var i=n(e,null,r);return t[i]?t[i]:i}var o=n(e,null,r);return"true"===o||"false"!==o&&(o&&!isNaN(o)?Number(o):o)}})):{}}function s(e){return e.map((function(e){var t=e.id,n=e.versions,r=encodeURIComponent(t);if((0,o.isEmpty)(n))return r;var a=n.map(encodeURIComponent).join(",");return"".concat(r,":").concat(a)}))}function l(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),n=(0,r.Z)(t,2),a=n[0],i=n[1],c=(void 0===i?"":i).split(",").map(decodeURIComponent);return{id:decodeURIComponent(a),versions:(0,o.compact)(c)}}))}function u(e){var t,n,r,a,c,l=(t=window.location.href,n={browser:s(e)},r=new URL(t),a=r.search||"",c=(0,o.assign)(i().parse(a.slice(1)),n),r.search=i().stringify(c,{arrayFormat:"repeat"}),r.href);window.history.pushState(null,null,l)}},98645:(e,t,n)=>{n.d(t,{ZL:()=>c,xU:()=>o,yC:()=>s});var r,a=n(64141),i=new Set([]),o=function(e){"undefined"!=typeof Worker&&(r=new Worker(new URL(n.p+n.u(938),n.b))).postMessage({type:"init",data:e})},c=function(e){return i.has(e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;s((0,a.setSearchLoading)(!0)),new Promise((function(a){n?a([]):r?(r.postMessage({type:"search",data:{text:e,matchCase:t}}),r.onmessage=function(e){a(e.data)},r.onerror=function(){console.error("Error while searching ".concat(e)),a([])}):a([])})).then((function(n){i=new Set(n),s(c?(0,a.setMatchCaseFilter)({data:t,page:o}):(0,a.updateNameFilter)({data:e,page:o})),s((0,a.setSearchLoading)(!1))}))}},47039:(e,t,n)=>{n.r(t),n.d(t,{getStatsFilteredByBrowsers:()=>o});var r=n(97698),a=n(76635),i=n(51869),o=(0,r.createSelector)((function(e){return e.stats}),i.getFilteredBrowsers,(function(e,t){if((0,a.isEmpty)(t)||(0,a.isEmpty)(e.perBrowser))return e.all;var n={},r=t.map((function(t){var n=t.id,r=t.versions;return(0,a.isEmpty)(r)?(0,a.keys)(e.perBrowser[n]).map((function(t){return e.perBrowser[n][t]})):r.map((function(t){return e.perBrowser[n][t]}))}));return(0,a.flatten)(r).forEach((function(e){(0,a.forEach)(e,(function(e,t){n[t]=void 0===n[t]?e:n[t]+e}))})),n}))},69875:(e,t,n)=>{n.r(t),n.d(t,{areAllRootSuitesIdle:()=>U,getAcceptableImagesByStateName:()=>h,getAcceptableOpenedImageIds:()=>b,getCheckedTests:()=>I,getFailedOpenedImageIds:()=>M,getFailedSuiteResults:()=>j,getFailedTests:()=>v,getSelectedBrowserIds:()=>w,getSelectedImages:()=>D,getSuiteResults:()=>L,getVisibleBrowserIds:()=>C,getVisibleImages:()=>A,getVisibleRootSuiteIds:()=>_,mkGetLastImageByStateName:()=>g,mkGetTestsBySuiteId:()=>E});var r=n(76635),a=n(97698),i=n(37487),o=n(9560),c=n(14054),s=n(40645),l=n(8776),u=function(e){return e.tree.suites.stateById},d=function(e){return e.tree.browsers.allIds},m=function(e){return e.tree.browsers.stateById},p=function(e,t){var n=t.suiteId;return e.tree.suites.byId[n]},f=function(e,t){var n=t.imageId;return e.tree.images.byId[n]},E=function(){return(0,a.createSelector)(p,s.Bl,s.TZ,(function(e,t,n){return R(e,{suites:t,browsers:n}).map((function(e){return{testName:e.parentId,browserName:e.name}}))}))},g=function(){return(0,a.createSelector)(f,s.TZ,s.O7,s.Jx,Z)},v=(0,a.createSelector)(s.Bl,s.TZ,s.O7,(function(e){return e.tree.suites.failedRootIds}),(function(e,t,n,a){return(0,r.flatMap)(a,(function(a){return L(e[a],{suites:e,browsers:t,results:n},r.last)})).filter((function(e){return(0,c.D8)(e)})).map((function(e){var n=e.parentId,r=t[n];return{testName:r.parentId,browserName:r.name,metaInfo:e.metaInfo}}))})),I=(0,a.createSelector)(d,s.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus})).map((function(e){return{testName:t[e].parentId,browserName:t[e].name}}))})),h=(0,a.createSelector)(m,s.TZ,s.O7,s.Jx,(function(e,t,n,a){var i=function(e){var r=z(e,t,n);return{suiteId:r.parentId,browserName:r.name}},o=Object.keys(e).filter((function(t){return e[t].shouldBeShown})).map((function(e){return t[e]}));return(0,r.flatMap)(o,(function(e){return k(e,{results:n,images:a})})).filter(c.h3).sort((function(e,t){var n=i(e),r=n.suiteId,a=n.browserName,o=i(t),c=o.suiteId,s=o.browserName,l=r.localeCompare(c);return 0===l?a.localeCompare(s):l})).reduce((function(e,r){var i=Z(r,t,n,a);if((0,c.F7)(i))return e;var o=n[r.parentId],s="".concat(o.parentId," ").concat(r.stateName);return e[s]?e[s].push(r):e[s]=[r],e}),{})})),S=(0,a.createSelector)(s.EZ,s.Bl,u,(function(e,t,n){var a=function(e){var t=n[e.id],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a},i=e.map((function(e){return t[e]})).filter(a);return(0,r.flatMap)(i,(function(e){return x(e,{suites:t},a)}))})),y=(0,a.createSelector)(S,s.TZ,m,S,(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.browserIds})).filter((function(e){var t=n[e],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a})).map((function(e){return t[e]}))})),T=(0,a.createSelector)(y,m,s.O7,(function(e,t,n){return e.map((function(e){var r=t[e.id].retryIndex,a=e.resultIds[r];return n[a]}))})),N=(0,a.createSelector)(T,s.Jx,(function(e){return e.tree.images.stateById}),(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.imageIds.filter((function(e){return n[e].shouldBeOpened})).map((function(e){return t[e]}))}))})),b=(0,a.createSelector)(N,(function(e){return e.filter(c.h3).map((function(e){return e.id}))})),M=(0,a.createSelector)(N,(function(e){return e.filter(c.D8).map((function(e){return e.id}))})),C=(0,a.createSelector)(d,m,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))})),w=(0,a.createSelector)(d,s.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus===l.ri}))})),O=function(e,t,n,a,i,o){return e.map((function(e){return(0,r.last)(t[e].resultIds)})).flatMap((function(e){return n[e].imageIds.map((function(e){return a[e]})).filter((function(e){return(0,c.h3)(e)||(0,c.KD)({image:e,isLastResult:!0,isStaticImageAccepterEnabled:i,gui:o})}))}))},A=(0,a.createSelector)(C,s.TZ,s.O7,s.Jx,s.Qy,s.Fn,O),D=(0,a.createSelector)(w,s.TZ,s.O7,s.Jx,s.Qy,s.Fn,O),_=(0,a.createSelector)((function(e){return e.app.suitesPage.viewMode===i.w.FAILED?e.tree.suites.failedRootIds:e.tree.suites.allRootIds}),u,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))}));function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity,a=t.suites,i=t.browsers,o=t.results;return(0,c.Et)(e,{suiteCb:function(e){return L(a[e],t,n)},browserCb:function(e){return[].concat(n(i[e].resultIds)).map((function(e){return o[e]}))}})}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity;return n(e)?(0,c.Et)(e,{suiteCb:function(e){return x(t.suites[e],t,n)},browserIdsCb:function(e,t){return[t]}}):[]}function R(e,t){var n=t.suites,a=t.browsers;return e.browserIds?e.browserIds.map((function(e){return a[e]})):(0,r.flatMap)(e.suiteIds,(function(e){return R(n[e],t)}))}function k(e,t){var n=t.results,a=t.images;return e.imageIds?[].concat(e.imageIds).map((function(e){return a[e]})):(0,r.flatMap)(e.resultIds,(function(e){return k(n[e],t)}))}function j(e){var t=e.suites.failedRootIds.map((function(t){return e.suites.byId[t]})),n=(0,r.compact)((0,r.flatMap)(t,(function(t){return P(t,e.suites.byId)})));return(0,r.flatMap)(n,(function(t){return(0,c.Et)(t,{browserCb:function(t){return e.browsers.byId[t].resultIds.map((function(t){return e.results.byId[t]}))}})}))}function P(e,t){return(0,c.D8)(e)?(0,c.Et)(e,{suiteCb:function(e){return P(t[e],t)},browserIdsCb:function(e,t){return[t]}}):[]}function Z(e,t,n,a){var i=z(e,t,n),o=(0,r.flatMap)(i.resultIds,(function(e){return n[e].imageIds.map((function(e){return a[e]}))}));return(0,r.findLast)(o,{stateName:e.stateName})}function z(e,t,n){return t[n[e.parentId].parentId]}var U=(0,a.createSelector)(s.EZ,s.Bl,(function(e,t){return!e.some((function(e){return!(0,o.nc)(t[e].status)}))}))},51869:(e,t,n)=>{n.r(t),n.d(t,{getFilteredBrowsers:()=>r,getKeyToGroupTestsBy:()=>a});var r=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,n)=>{n.d(t,{AM:()=>v,Iv:()=>g,O$:()=>I,Yo:()=>f,fQ:()=>p});var r=n(56666),a=n(13980),i=n.n(a),o=n(76635),c=n(27202),s=n(31804);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=null,m="static-image-accepter",p=function(e,t){if(null!==d)return d;if(!e||!e.enabled||t)return d=!1;var n=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return n.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(n.join(", "),"' is(/are) missing!")),d=!1):d=!0},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.filter((function(e){return e.commitStatus===c.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(n);if(r.find((function(e){var n,r=e.imageId;return!(null!==(n=t[r].refImg)&&void 0!==n&&n.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return r.map((function(e){var n=e.imageId;return{id:n,stateNameImageId:e.stateNameImageId,image:t[n].actualImg.path,path:t[n].refImg.relativePath}}))},E=function(){var e=(0,o.get)(window,["data","date"]),t=(0,o.get)(window,["location","pathname"]),n=s.rV(m,null);return n&&n.date===e&&n.pathName===t?n.commitedImages:{}},g=function(){return Object.values(E())},v=function(e){var t=(0,o.get)(window,["data","date"]),n=(0,o.get)(window,["location","pathname"]),r=E(),a=e.reduce((function(e,t){var n=t.imageId;return e[t.stateNameImageId]=n,e}),{});s.LS(m,{date:t,pathName:n,commitedImages:u(u({},r),a)})},I=i().shape({enabled:i().bool.isRequired,accepterDelayedImages:i().arrayOf(i().shape({imageId:i().string.isRequired,stateName:i().string.isRequired,stateNameImageId:i().string.isRequired})).isRequired,acceptableImages:i().objectOf(i().shape({id:i().string.isRequired,parentId:i().string.isRequired,stateName:i().string.isRequired,commitStatus:i().oneOf([null,c.Ez,c.t6]),originalStatus:i().string.isRequired}))})},79483:(e,t,n)=>{n.d(t,{m:()=>s,p:()=>c});var r=n(9249),a=n(87371),i=n(56666),o=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var n;null===(n=e.cache[t])||void 0===n||n.remove(),delete e.cache[t]}}]),e}();function c(e){return o.register(e),function(){return o.dispose(e)}}function s(e){var t=[];return function(e){return Object.hasOwn(e,"expectedImg")}(e)&&t.push(c(e.expectedImg.path)),function(e){return Object.hasOwn(e,"actualImg")}(e)&&t.push(c(e.actualImg.path)),function(e){return Object.hasOwn(e,"diffImg")}(e)&&t.push(c(e.diffImg.path)),function(e){return Object.hasOwn(e,"refImg")}(e)&&t.push(c(e.refImg.path)),function(){return t.forEach((function(e){return e()}))}}(0,i.Z)(o,"cache",{})},14054:(e,t,n)=>{n.d(t,{An:()=>b,D8:()=>f,Et:()=>N,F7:()=>E,Gz:()=>y,KD:()=>v,ML:()=>h,Ow:()=>M,TV:()=>S,V_:()=>I,h3:()=>g,kp:()=>T,rm:()=>m.rm});var r=n(86522),a=n(34795),i=n(46840),o=n(68079),c=n(82841),s=n.n(c),l=n(76635),u=n(9560),d=n(27202),m=n(21990),p=Object.values(d.SA);function f(e){return(0,u.R6)(e.status)||(0,u.KM)(e.status)}function E(e){return(0,u.Mg)(e.status)||(0,u.Cr)(e.status)||(0,u.Cx)(e.status)||(0,u.hO)(e.status)}function g(e){var t=e.status,n=e.error;return(0,u.KM)(t)&&((0,u.S5)(n)||(0,u.Ne)(n))||(0,u.R6)(t)||(0,u.sx)(t)}function v(e){var t=e.gui,n=e.image,r=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,n=e.image,r=e.isLastResult;return t&&n.stateName&&r&&(0,u.Cr)(n.status)}({gui:t,image:n,isLastResult:r})||function(e){var t=e.gui,n=e.image,r=e.isStaticImageAccepterEnabled;return!t&&r&&n.stateName&&(0,u.Cx)(n.status)}({gui:t,image:n,isStaticImageAccepterEnabled:a})}function I(e){if(!e)return"";var t=(0,l.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function h(e){var t=e.message,n=e.response;return n?"(".concat(n.status,") ").concat(n.data):t}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.strictMatchFilter,i=r.useMatchCaseFilter,o=void 0!==i&&i,c=r.useRegexFilter,s=void 0!==c&&c,l=r.isNewUi,u=arguments.length>4?arguments[4]:void 0;if(!n)return!0;if(!(void 0===l||l))return function(e,t,n,r){if(!n)return!0;var a=n.replace(/ /g,"(?: | › )");return r?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,n,a);var m=o?"":"i";if(s)try{var p=new RegExp(n,m);return p.test(e)||p.test("".concat(e," ").concat(t))}catch(e){return!1}if(a){var f=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),E="^".concat(f.replace(/ /g,"(?: | › )"),"$");try{var g=new RegExp(E,m);return g.test(e)||g.test("".concat(e," ").concat(t))}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(E,". Please file an issue at ").concat(d.WY)),!1}}return u}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return n===d.wO.ALL||(!(n!==d.wO.PASSED||!(0,u.Mg)(t))||(!(n!==d.wO.FAILED||!(0,u.R6)(t)&&!(0,u.KM)(t))||(n===d.wO.RETRIED?(0,m.xg)(e,r,"resultIds.length")>1:t===n)))}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,l.isEmpty)(t))return!0;var r=(0,l.find)(t,{id:(0,m.xg)(e,n,"name")});if(!r)return!1;var a=[].concat(r.versions).filter(Boolean);return!!(0,l.isEmpty)(a)||a.includes((0,m.xg)(e,n,"version"))}function N(e,t){var n=t.suiteCb,r=t.browserCb,a=t.browserIdsCb,i=[],c=[];return e.browserIds&&[r,a].some(l.isFunction)&&(i=a?a(e.browserIds,e):(0,l.flatMap)(e.browserIds,(function(t){return r(t,e)}))),e.suiteIds&&(0,l.isFunction)(n)&&(c=(0,l.flatMap)(e.suiteIds,(function(t){return n(t,e)}))),[].concat((0,o.Z)(i),(0,o.Z)(c))}function b(e){var t=e.split(d.QV),n=(0,i.Z)(t),r=n[0],a=n.slice(1);if(a=a.join(d.QV),!p.includes(r))throw new Error("Group section must be one of ".concat(p.join(", "),", but got ").concat(r));if(r===d.SA.RESULT&&!d.Kr.includes(a))throw new Error("Group key must be one of ".concat(d.Kr.join(", "),", but got ").concat(a));return[r,a]}function M(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)(s().mark((function e(t){var n,a,i,o,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n=c.length>1&&void 0!==c[1]?c[1]:3,i=s().mark((function e(){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){return e(r.response)},r.onerror=function(){return n(new Error("Got an error trying to download object at: ".concat(t)))},r.open("GET",t),r.responseType="blob",r.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return r=n-a,i=500*Math.pow(2,r),e.next=16,new Promise((function(e){return setTimeout(e,i)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(i(),"t0",5);case 5:if(o=e.t0,"object"!==(0,r.Z)(o)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}},65746:(e,t,n)=>{n.d(t,{g:()=>Do});var r=n(91545),a=n(34871),i=n(63690),o=(n(43810),n(636),n(2784)),c=n(4792),s=n(73557),l=n(39857),u=n(56666),d=n(96234);const m={container:"lnO8uESZgfvSVtEYpGam",hidden:"CCI5LqUNgjS7zF83pAM6",message:"_0P3PuPuWLCazLlHikM5Q","message-container":"ctAvRjl5qkms0WmO9Dyu",messageContainer:"ctAvRjl5qkms0WmO9Dyu",loader:"pYmZDVrmXITQHOBg1tOt",l3:"gOFBlufBkLmypSqR7R2v","progress-container":"yVAMk4VsEQ_6jVIb0ZeI",progressContainer:"yVAMk4VsEQ_6jVIb0ZeI","progress-pulse":"sp69klhG7YYuGCk2ohtA",progressPulse:"sp69klhG7YYuGCk2ohtA"};var p=function(e){var t=Object.values(e.app.loading.progress);return 0===t.length?1:t.reduce((function(e,t){return e+t}),0)/t.length},f=n(72779),E=n.n(f);function g(){var e=(0,c.useSelector)((function(e){return e.app.loading.isVisible})),t=(0,c.useSelector)((function(e){return e.app.loading.isInProgress})),n=(0,o.useRef)(e),r=(0,c.useSelector)(p),a=(0,c.useSelector)((function(e){return e.app.loading.taskTitle})),i=o.useState(!0),s=(0,d.Z)(i,2),l=s[0],f=s[1];return(0,o.useEffect)((function(){n.current=e;var t=setTimeout((function(){e===n.current&&f(!e)}),500);return function(){return clearTimeout(t)}}),[e]),o.createElement("div",{className:E()(m.container,(0,u.Z)({},m.hidden,l))},o.createElement("div",{className:m.messageContainer},o.createElement("div",{className:m.message},o.createElement("span",null,a),t&&o.createElement("div",{className:m.loader}))),o.createElement("div",{className:m.progressContainer,style:{width:"".concat(100*r,"%")}},o.createElement("div",{className:m.progressPulse})))}var v=n(34795),I=n(82841),h=n.n(I),S=n(17943),y=n(28316);const T={container:"_Whrj1os2LaeakwNCWXc",dragging:"nny5LU0yAUoYFCPqorjl",visible:"h5wWg4eXX6Ef2iJDlryi","icon-container":"Zn_L8aLsSwvb6op30RbA",iconContainer:"Zn_L8aLsSwvb6op30RbA"};function N(e){var t,n=(0,o.useState)(!1),r=(0,d.Z)(n,2),a=r[0],c=r[1],s=(0,o.useState)({x:0,y:0}),l=(0,d.Z)(s,2),m=l[0],p=l[1],f=function(t){if(a&&e.draggable){var n={x:t.clientX-m.x,y:t.clientY-m.y};e.draggable.onOffsetChange(n)}},g=function(){c(!1)};return(0,o.useEffect)((function(){return a?(document.body.style.userSelect="none",document.addEventListener("mousemove",f),document.addEventListener("mouseup",g)):(document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)),function(){document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)}}),[a]),(0,y.createPortal)(o.createElement("div",{style:e.draggable?{"--x":e.draggable.offset.x,"--y":e.draggable.offset.y}:{},className:E()(T.container,e.className,(t={},(0,u.Z)(t,T.visible,e.isVisible),(0,u.Z)(t,T.dragging,a),t))},o.createElement("div",{className:T.iconContainer},e.draggable&&o.createElement("span",{onMouseDown:function(t){e.draggable&&(c(!0),p({x:t.clientX-e.draggable.offset.x,y:t.clientY-e.draggable.offset.y}))}},o.createElement(i.Icon,{data:S.Z}))),e.children),document.body)}var b=n(88089),M=n(37283);const C={container:"FAV97LLAqyGsXyP9FlJ5","buttons-container":"xw120Yd5IR_HMqKpWYp_",buttonsContainer:"xw120Yd5IR_HMqKpWYp_",title:"wiY78pdZ9qzQZNdMwhhJ",button:"iX3eJNi_qplLUklfzHEu regular-button","primary-button":"XMmHFWjGcfFG6skzXtpi",primaryButton:"XMmHFWjGcfFG6skzXtpi","modal-container":"btAIBB2I8fIo0a8_s3UK",modalContainer:"btAIBB2I8fIo0a8_s3UK","modal-description":"v9MDW0qGIYeLZgFPOfNr",modalDescription:"v9MDW0qGIYeLZgFPOfNr","modal-field-label":"jEZBeZsifpKQoioykkK6",modalFieldLabel:"jEZBeZsifpKQoioykkK6","modal-input":"RpmfSkLvOcu30db6Nz0Z",modalInput:"RpmfSkLvOcu30db6Nz0Z","modal-buttons-container":"aZkH5agDK5fZGNbNWDu5",modalButtonsContainer:"aZkH5agDK5fZGNbNWDu5","modal-button-primary":"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button",modalButtonPrimary:"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button","error-toaster":"jIjx1MgodgCldWWt3EFg",errorToaster:"jIjx1MgodgCldWWt3EFg","toast-appear":"eN0scBvLJxQGinnsxagF",toastAppear:"eN0scBvLJxQGinnsxagF","error-toaster-icon":"eKNTjhi7z6cNmuv8bKDI",errorToasterIcon:"eKNTjhi7z6cNmuv8bKDI"};var w=n(64141),O=n(27202),A=n(78272),D=n(76635);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=(0,c.useDispatch)(),t=(0,i.useToaster)(),n=(0,c.useSelector)((function(e){return e.processing})),r=(0,c.useSelector)((function(e){return e.tree.images.byId})),a=(0,c.useSelector)((function(e){return e.staticImageAccepter.acceptableImages})),l=(0,c.useSelector)((function(e){return e.staticImageAccepter.accepterDelayedImages})),u=Object.values(a).filter((function(e){return e.commitStatus===O.ih.STAGED})),m=(0,c.useSelector)((function(e){return e.config.staticImageAccepter})),p=(0,c.useSelector)((function(e){return e.config.staticImageAccepter.pullRequestUrl})),f=(0,c.useSelector)((function(e){return e.ui.staticImageAccepterToolbar.offset})),g=(0,s.TH)(),I=(0,o.useState)(null),S=(0,d.Z)(I,2),y=S[0],T=S[1],_=(0,o.useState)(!1),x=(0,d.Z)(_,2),R=x[0],k=x[1],j=(0,c.useSelector)((function(e){return e.app.staticImageAccepterModal.commitMessage}));(0,o.useEffect)((function(){var e=u.length>0&&!n&&!R&&["/suites","/visual-checks"].some((function(e){return g.pathname.startsWith(e)}));Boolean(e)!==Boolean(y)&&T(e)}),[u,g,R]);var P=function(){var n=(0,v.Z)(h().mark((function n(){var i,c,s;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,A.Yo)(Object.values(a),r,l),c=L(L({},(0,D.pick)(m,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:j}),k(!1),n.next=5,e((0,w.staticAccepterCommitScreenshot)(i,c));case 5:(s=n.sent).error&&t.add({name:"static-accepter-error",title:"Failed to commit images",content:s.error.message+". See console for details.",isClosable:!0,autoHiding:5e3,renderIcon:function(){return o.createElement(b.Z,{className:C.errorToasterIcon,width:20,height:20})},className:C.errorToaster});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return o.createElement(N,{isVisible:y,className:C.container,draggable:{offset:f,onOffsetChange:function(t){e((0,w.staticAccepterUpdateToolbarOffset)({offset:t}))}}},o.createElement("div",null,u.length," ",u.length>1?"images are":"image is"," staged for commit"),o.createElement("div",{className:C.buttonsContainer},o.createElement(i.Button,{view:"flat-contrast",className:C.button,onClick:function(){e((0,w.staticAccepterUnstageScreenshot)(u.map((function(e){return e.id}))))}},"Cancel"),o.createElement(i.Button,{view:"normal-contrast",className:E()(C.primaryButton,C.button),onClick:function(){k(!0)}},"Commit...")),o.createElement(i.Modal,{open:R,onClose:function(){return k(!1)},contentClassName:C.modalContainer},o.createElement("div",{className:"text-header-1"},"Commit images"),o.createElement("div",{className:C.modalDescription},"Commit with ",u.length," ",u.length>1?"images":"image"," will be added to your pull request at ",o.createElement("a",{href:p,target:"_blank",rel:"noreferrer"},p),"."),o.createElement("div",{className:C.modalFieldLabel},"Commit Message"),o.createElement(i.TextInput,{className:C.modalInput,value:j,onUpdate:function(t){e((0,w.staticAccepterUpdateCommitMessage)({commitMessage:t}))}}),o.createElement("div",{className:C.modalButtonsContainer},o.createElement(i.Button,{view:"flat",className:C.button,onClick:function(){k(!1)}},"Cancel"),o.createElement(i.Button,{view:"action",className:C.modalButtonPrimary,onClick:P},o.createElement(i.Icon,{data:M.Z}),"Commit"))))}var R=n(15463),k=n(16060),j=n(40645),P=n(2542),Z=n(24298),z=n(57159);const U={container:"ngrs5mVBeAlYXfHWBJXn",divider:"BO7pOO65LGTLghKX4XEf"};function B(e){return o.createElement("div",{className:E()(U.container,e.className)},o.createElement("h2",{className:E()("text-display-1")},e.title),o.createElement(i.Divider,{className:U.divider,orientation:"horizontal"}),e.children)}var G=n(10431),F=n(63550);const V={container:"GZUFCStbf0CDjlxJFCpX","text-container":"TJzZcWwIu5mBPKg3eyYF",textContainer:"TJzZcWwIu5mBPKg3eyYF",title:"JVNFhJhbJhIpMyWaD02f",description:"pa8e9Xu2uszdGKlBM7Gp"};function H(e){return o.createElement("div",{className:V.container},o.createElement("div",{className:V.textContainer},o.createElement("div",{className:V.title},e.title),e.description&&o.createElement("div",{className:V.description},e.description)),o.createElement(i.Switch,{checked:e.checked,onUpdate:e.onUpdate}))}var Y=n(32444);const W={sections:"kBR0zSo3Phnma59SvT_C"};var Q=n(59740),K=n(9249),X=n(87371),q=n(45754),J=n(11987),$=n(95058),ee=n(13980),te=n.n(ee),ne=n(6857),re=n(58841),ae=["name","children"];function ie(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=se();return function(){var n,r=(0,$.Z)(e);if(t){var a=(0,$.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,J.Z)(this,n)}}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}var le=function(e){(0,q.Z)(n,e);var t=ce(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,X.Z)(n,[{key:"render",value:function(){var e=re.xj();if(e.length){var t=this.props,n=t.name,r=t.children,a=(0,Q.Z)(t,ae);return function(e,t,n){var r,a=t,i=ie(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;a=ue(o.PluginComponent,n,a,o.position,o.config)}}catch(e){i.e(e)}finally{i.f()}return a}(de(e,n),r,a)}return this.props.children}}]),n}(o.Component);function ue(e,t,n,r,a){switch(r){case"wrap":return o.createElement(ne.Z,{fallback:n},o.createElement(e,t,n));case"before":return o.createElement(o.Fragment,null,o.createElement(ne.Z,null,o.createElement(e,t)),n);case"after":return o.createElement(o.Fragment,null,n,o.createElement(ne.Z,null,o.createElement(e,t)));default:return console.error("".concat(Ee(a),' unexpected position "').concat(r,'" specified.')),n}}function de(e,t){return e.map((function(e){try{var t=re.U2(e.name,e.component);return{PluginComponent:t,name,point:me(t,e),position:pe(t,e),config:e}}catch(e){return console.error(e),{}}})).filter((function(e){var n=e.point,r=e.position;return n&&r&&n===t}))}function me(e,t){return fe(e,t,"point")}function pe(e,t){return fe(e,t,"position")}function fe(e,t,n){return e[n]&&t[n]&&e[n]!==t[n]?(console.error("".concat(Ee(t),' "').concat(n,'" field does not match the one from the config: "').concat(o.Component[n],'" vs "').concat(t[n],'".')),null):e[n]||t[n]?e[n]||t[n]:(console.error("".concat(Ee(t),' "').concat(n,'" field is not set.')),null)}function Ee(e){return'Component "'.concat(e.component,'" of "').concat(e.name,'" plugin')}(0,u.Z)(le,"propTypes",{name:te().string.isRequired,children:te().oneOfType([te().element,te().string,te().array])});var ge=function(e){return e.SettingsPanel="settings-panel",e}({});function ve(){var e=(0,c.useDispatch)(),t=(0,F.z)(),n=(0,c.useSelector)((function(e){return e.view.baseHost})),r=(0,c.useSelector)((function(e){return e.app.availableFeatures.some((function(e){return e.name===O.qW.name}))})),a=(0,z.Z)(Z.Fe.UIMode,Z.HT.New),s=(0,d.Z)(a,2)[1],l=(0,z.Z)(Z.Fe.TimeTravelUseRecommendedSettings,!0),u=(0,d.Z)(l,2),m=u[0],p=u[1],f=(0,o.useCallback)(function(){var n=(0,v.Z)(h().mark((function n(a){var i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return null==t||t.trackFeatureUsage({featureName:a?"Enable Time Travel Recommended Settings":"Disable Time Travel Recommended Settings"}),p(a),n.next=6,(0,Y.r)({useRecommendedSettings:a});case 6:i=n.sent,(0,Y.R)(i)?console.error("Failed to update time travel settings:",i.error.message):e(w.setBrowserFeatures({browserFeatures:i.data.browserFeatures}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,p]),g=[];return g.push(o.createElement(G.c,{key:"base-host",title:"Base Host",description:o.createElement(o.Fragment,null,"URLs in Meta and in test steps' commands are affected by this.")},o.createElement(i.TextInput,{onChange:function(t){e(w.updateBaseHost(t.target.value))},value:n,hasClear:!0}))),g.push(o.createElement(G.c,{key:"new-ui",title:"New UI",description:"Minimalistic yet informative, the new UI offers a cleaner look and optimised screen space usage."},o.createElement(i.Button,{className:E()(W.settingControl,"regular-button"),onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to old UI"}),s(Z.HT.Old),window.location.pathname=window.location.pathname.replace(/\/new-ui(\.html)?$/,(function(e,t){return t?"/index.html":"/"}))}},o.createElement(i.Icon,{data:P.Z}),"Switch back to the old UI"))),g.push(o.createElement(G.c,{key:"theme",title:"Theme",description:"Currently only light theme is available — stay tuned for night mode."},o.createElement(i.Select,{className:E()(W.settingControl,"regular-button"),value:["Light"],width:"max",disabled:!0}))),r&&g.push(o.createElement(G.c,{key:"time-travel",title:"Time Travel"},o.createElement(H,{title:"Use recommended settings",description:m?"Settings for the best debugging experience will be applied on top of your config (recommended).":"Using project config without changes. This may affect availability of time travel features.",checked:m,onUpdate:f}))),de(re.xj(),ge.SettingsPanel).forEach((function(e){var t=e.PluginComponent,n=e.position,r=e.config;"after"===n&&g.push(o.createElement(ne.Z,{key:"plugin-".concat(r.name)},o.createElement(t,null)))})),o.createElement(B,{title:"Settings"},o.createElement("div",{className:W.sections},g))}const Ie="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTTExLjIyLDI5LjQ2YzIuMTMsMCw0LjEyLTEuMTMsNS4xOS0yLjk4bDMuNjItNi4yNywyLjkuMDJjMi4xMiwwLDQuMDktMS4xMyw1LjE1LTIuOTdsMS4wNi0xLjgxaC04LjYxYy0yLjEzLDAtNC4xMiwxLjEzLTUuMTksMi45OGwtNi4zNiwxMS4wMWgyLjI0Wk0yNy45OCwxNi4xMmwtLjQ5LjgxYy0uOTQsMS42My0yLjY5LDIuNjQtNC41NywyLjYzbC0yLjUyLS4wMiwxLjk3LTMuNDNoNS42WiIgc3R5bGU9ImZpbGw6I2ZmZjsgc3Ryb2tlLXdpZHRoOjBweDsiLz48cGF0aCBkPSJNMjguMDMsMTEuMDVjLTEuMDYtMS44NS0zLjA0LTMtNS4xNy0zaC03LjI0cy0xLjQzLTIuNTItMS40My0yLjUyYy0xLjA2LTEuODQtMy4wMy0yLjk4LTUuMTQtMi45OGwtMi4xLS4wMiw0LjMsNy40NWMxLjA2LDEuODUsMy4wNCwzLDUuMTcsM2gxMi43MnMtMS4xMS0xLjk0LTEuMTEtMS45NFpNOC4wOSwzLjJsLjk1LjAyYzEuODgsMCwzLjYzLDEuMDEsNC41NywyLjY0bDEuMjQsMi4xOWgtMy45NnMtMi44LTQuODUtMi44LTQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Ik0zLjY3LDUuN2MtMS4wNywxLjg0LTEuMDgsNC4xMy0uMDEsNS45OGwzLjYyLDYuMjctMS40NywyLjVjLTEuMDYsMS44My0xLjA2LDQuMTEsMCw1Ljk0bDEuMDMsMS44Miw0LjMtNy40NWMxLjA3LTEuODQsMS4wOC00LjEzLjAxLTUuOThMNC44LDMuNzdsLTEuMTMsMS45M1pNNi44NSwyNi44OWwtLjQ2LS44M2MtLjk0LTEuNjMtLjk0LTMuNjUsMC01LjI4bDEuMjctMi4xNywxLjk4LDMuNDItMi44LDQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjwvc3ZnPg==",he={"aside-header-bg-wrapper":"WmsnGRyf__x9VugItYEg",asideHeaderBgWrapper:"WmsnGRyf__x9VugItYEg","aside-header-bg":"hN0bow_PIW9RKTKYo57R",asideHeaderBg:"hN0bow_PIW9RKTKYo57R","footer-item":"JebroZPzNgvfFBlBqe48",footerItem:"JebroZPzNgvfFBlBqe48","footer-item--active":"MbgAvT0VZWc0256Q1xEf",footerItemActive:"MbgAvT0VZWc0256Q1xEf"};var Se=n(34863),ye=n(38461),Te=n(86224),Ne=n(28786);const be={container:"oAYBNG9X8F88k_cmCgvG",arrow:"hvS2LCYxMAYSD1dM7myQ","arrow-shake":"Eebk71F2Nvmg2lv0N8l5",arrowShake:"Eebk71F2Nvmg2lv0N8l5","hint-title":"GpX1OLIjDf0OyfN77NPa",hintTitle:"GpX1OLIjDf0OyfN77NPa","close-button":"XVrHRjoyGo1vWYVsh8fB",closeButton:"XVrHRjoyGo1vWYVsh8fB"};function Me(e){return o.createElement(N,{isVisible:e.isVisible,className:be.container},o.createElement(Te.Z,{className:be.arrow}),o.createElement("div",{className:be.hintTitle},"Hint"),o.createElement("svg",{viewBox:"0 0 2 2",height:2},o.createElement("circle",{r:"1",cx:"1",cy:"1"})),o.createElement("div",null,"You can always switch back to the old UI in Settings"),o.createElement(Ne.Z,{className:be.closeButton,onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}))}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e){var t=(0,c.useSelector)(j.Dr),n=(0,o.useState)(null),r=(0,d.Z)(n,2),a=r[0],s=r[1],l=(0,z.Z)("ui-mode-hint-shown",!1),m=(0,d.Z)(l,2),p=m[0],f=m[1];(0,o.useEffect)((function(){var e="1"===new URL(window.location.href).searchParams.get("switched-from-old-ui");if(t&&e&&!p){s(!0),f(!0);var n=setTimeout((function(){s(!1)}),2e4);return function(){clearTimeout(n)}}}),[t]),(0,o.useEffect)((function(){a&&e.visiblePanel&&s(!1)}),[e.visiblePanel]);var g=e.visiblePanel===Ke.Info,v=e.visiblePanel===Ke.Settings;return o.createElement(o.Fragment,null,o.createElement(Me,{isVisible:a,onClose:function(){return s(!1)}}),o.createElement(R.F,{compact:!1,item:{id:Ke.Info,title:"Info",onItemClick:e.onFooterItemClick,current:g,qa:"footer-item-info",itemWrapper:function(e,n){var r;return n(we(we({},e),{},{icon:o.createElement(i.Icon,{className:E()((r={},(0,u.Z)(r,he.footerItem,!g),(0,u.Z)(r,he["footer-item--active"],g),(0,u.Z)(r,"disabled",!t),r)),data:Se.Z})}))}}}),o.createElement(R.F,{compact:!1,item:{id:Ke.Settings,title:"Settings",onItemClick:e.onFooterItemClick,current:v,itemWrapper:function(e,n){var r;return n(we(we({},e),{},{icon:o.createElement(i.Icon,{className:E()((r={},(0,u.Z)(r,he.footerItem,!v),(0,u.Z)(r,he["footer-item--active"],v),(0,u.Z)(r,"disabled",!t),r)),data:ye.Z})}))}}}))}const Ae={"common-card":"Fj5sjZwVCKyeWxfmeV7A",commonCard:"Fj5sjZwVCKyeWxfmeV7A",wrapper:"KVTvH44NwI6y99IsSdWq"};function De(e){return o.createElement("div",{className:Ae.wrapper,"data-qa":e.qa},o.createElement("div",{className:E()(Ae.commonCard,e.className),style:e.style},e.children))}const _e={card:"cyRw19fvYYe2TPp2AnDQ text-hint"};function Le(e){return o.createElement(De,{className:E()(_e.card,e.className)},e.children)}const xe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTA0LjY5IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTA0LjY5IDEyMi44ODsgZmlsbDogcmdiYSgwLCAwLCAwLCAwLjQpOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTk4LjM4LDg4LjQxbC05Ljc5LDEwLjQ4TDk4LjM4LDg4LjQxTDk4LjM4LDg4LjQxeiBNODQuMywxMDMuNDhsLTkuNzksMTAuNDhMODQuMywxMDMuNDhMODQuMywxMDMuNDh6IE01Ni44NSwxMTYuNTggYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDcuMzNjLTIuMDIsMC0zLjg1LTAuODItNS4xOC0yLjE1QzAuODIsMTE5LjQsMCwxMTcuNTcsMCwxMTUuNTVWNy4zMyBjMC0yLjAyLDAuODItMy44NSwyLjE1LTUuMThDMy40OCwwLjgyLDUuMzEsMCw3LjMzLDBoOTAuMDJjMi4wMiwwLDMuODUsMC44Miw1LjE4LDIuMTVjMS4zMywxLjMzLDIuMTUsMy4xNiwyLjE1LDUuMThWNzIuNiBjMCwxLjc0LTEuNDEsMy4xNS0zLjE1LDMuMTVjLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1VjcuMzNjMC0wLjI4LTAuMTItMC41NC0wLjMtMC43M2MtMC4xOS0wLjE5LTAuNDUtMC4zLTAuNzMtMC4zSDcuMzMgYy0wLjI4LDAtMC41NCwwLjEyLTAuNzMsMC4zUzYuMyw3LjA1LDYuMyw3LjMzdjEwOC4yMWMwLDAuMjgsMC4xMiwwLjU0LDAuMywwLjczYzAuMTksMC4xOSwwLjQ0LDAuMywwLjczLDAuM0g1Ni44NUw1Ni44NSwxMTYuNTh6IE0zMS41NCw4Ni45NWMtMS43NCwwLTMuMTYtMS40My0zLjE2LTMuMTljMC0xLjc2LDEuNDEtMy4xOSwzLjE2LTMuMTloMjAuNWMxLjc0LDAsMy4xNiwxLjQzLDMuMTYsMy4xOSBjMCwxLjc2LTEuNDEsMy4xOS0zLjE2LDMuMTlIMzEuNTRMMzEuNTQsODYuOTV6IE0zMS41NCw0Mi4yN2MtMS43NCwwLTMuMTUtMS40MS0zLjE1LTMuMTVjMC0xLjc0LDEuNDEtMy4xNSwzLjE1LTMuMTVoNDEuNjEgYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDMxLjU0TDMxLjU0LDQyLjI3eiBNMzEuNTQsNjQuNTljLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1IGMwLTEuNzQsMS40MS0zLjE1LDMuMTUtMy4xNWg0MS42MWMxLjc0LDAsMy4xNSwxLjQxLDMuMTUsMy4xNWMwLDEuNzQtMS40MSwzLjE1LTMuMTUsMy4xNUgzMS41NEwzMS41NCw2NC41OXogTTcxLjUyLDkxLjU1IGMtMS4yNy0xLjE4LTEuMzQtMy4xNy0wLjE2LTQuNDRjMS4xOC0xLjI3LDMuMTctMS4zNCw0LjQ0LTAuMTZsMTAuNDksOS43OWw5Ljc4LTEwLjQ4YzEuMTgtMS4yNywzLjE3LTEuMzQsNC40NC0wLjE2IGMxLjI3LDEuMTgsMS4zNCwzLjE3LDAuMTYsNC40NGwtOS43OSwxMC40OGwxMC40OCw5Ljc4YzEuMjcsMS4xOCwxLjM0LDMuMTcsMC4xNiw0LjQ0Yy0xLjE4LDEuMjctMy4xNywxLjM0LTQuNDQsMC4xNmwtMTAuNDgtOS43OSBsLTkuNzgsMTAuNDhjLTEuMTgsMS4yNy0zLjE3LDEuMzQtNC40NCwwLjE2Yy0xLjI3LTEuMTgtMS4zNC0zLjE3LTAuMTYtNC40NEw4MiwxMDEuMzRMNzEuNTIsOTEuNTVMNzEuNTIsOTEuNTV6Ii8+PC9nPjwvc3ZnPgo=";var Re=n(47486);const ke={container:"QKOcpEIhc51Re6PikjJy","hint-card":"CZF_AuDP2XptHxh7JFus",hintCard:"CZF_AuDP2XptHxh7JFus","empty-report-icon":"NMiy6d6xTVc_ZXEmjn8E",emptyReportIcon:"NMiy6d6xTVc_ZXEmjn8E","card-title":"n8yDmeEYkuOk6kb_ItbC",cardTitle:"n8yDmeEYkuOk6kb_ItbC","hints-container":"yBA5vUr2DQ0jWSo5WNTB",hintsContainer:"yBA5vUr2DQ0jWSo5WNTB",hint:"Ad77ZbGy9Nx84CBDNE2_","hint-item-icon":"KNC3S7aGd3oCjOkoLy4g",hintItemIcon:"KNC3S7aGd3oCjOkoLy4g","hint-item-text":"VWK0qAioJXCQR8TSG6Lh",hintItemText:"VWK0qAioJXCQR8TSG6Lh"};function je(){return o.createElement("div",{className:ke.container},o.createElement(Le,{className:ke.hintCard},o.createElement("img",{src:xe,alt:"icon",className:ke.emptyReportIcon}),o.createElement("span",{className:E()("text-header-1",ke.cardTitle)},"This report is empty"),o.createElement("div",{className:ke.hintsContainer},["Check if your project contains any tests","Check if the tool you are using is configured correctly and is able to find your tests","Check logs to see if some critical error has occurred and prevented report from collecting any results"].map((function(e,t){return o.createElement("div",{key:t,className:ke.hint},o.createElement(i.Icon,{data:Re.Z,className:ke.hintItemIcon}),o.createElement("div",{className:ke.hintItemText},e))})))))}var Pe=n(68005),Ze=n(93938);const ze={"data-source-item":"LTL9A2TRwCX4DfrCEZxM",dataSourceItem:"LTL9A2TRwCX4DfrCEZxM","data-source-title-container":"wsCjpO5WCpkJaVzKz8gi",dataSourceTitleContainer:"wsCjpO5WCpkJaVzKz8gi","data-source-icon":"G4SXQma4zhRaaqly12Tg",dataSourceIcon:"G4SXQma4zhRaaqly12Tg","data-source-status":"gGakSFrXewIw9Fkez5EX",dataSourceStatus:"gGakSFrXewIw9Fkez5EX","data-source-status-circle":"v4CYpSxdllHQxSacb6ab",dataSourceStatusCircle:"v4CYpSxdllHQxSacb6ab","data-source-status-circle-offline":"IySDb0dG_HpKVzuBYhNO",dataSourceStatusCircleOffline:"IySDb0dG_HpKVzuBYhNO","data-source-status-circle-online":"GC12k5XwNRP2nJmuOnTl",dataSourceStatusCircleOnline:"GC12k5XwNRP2nJmuOnTl",pulse:"Di_aKyccUn6pF8KZT3gJ",title:"FzJkyNqOjGi_N4OIQHRw",ellipsis:"ORSnh7QVKqOW7FQrJdvF"};function Ue(e){var t,n=null===(t=e.url)||void 0===t?void 0:t.replace(/^https?:\/\//,"");return o.createElement("div",{className:ze.dataSourceItem},o.createElement("div",{className:ze.dataSourceTitleContainer},o.createElement(i.Icon,{data:e.icon,className:ze.dataSourceIcon}),e.url&&n?o.createElement("a",{href:e.url,className:ze.title,title:e.title},o.createElement("span",{className:ze.ellipsis,style:{"--max-width":"130px"}},n.slice(0,-24)),n.slice(-24)):o.createElement("span",{className:ze.ellipsis},e.title)),o.createElement("div",{className:ze.dataSourceStatus},o.createElement("span",null,e.success?"OK":e.statusCode&&"number"==typeof e.statusCode?"E".concat(e.statusCode):"ERR"),o.createElement("div",{className:E()(ze.dataSourceStatusCircle,e.success?ze.dataSourceStatusCircleOnline:ze.dataSourceStatusCircleOffline)})))}const Be={divider:"N2706ZMdYcBUFCM2piKF","extra-items-list":"gVLUrneQukXMSGbW12Be",extraItemsList:"gVLUrneQukXMSGbW12Be","data-source-heading":"zugSCLp3ZHvaLI_h3IeQ",dataSourceHeading:"zugSCLp3ZHvaLI_h3IeQ","data-source-list":"pC4JFYgK7ZksVWDUckMA",dataSourceList:"pC4JFYgK7ZksVWDUckMA"};var Ge=n(81114);function Fe(){var e=(0,c.useSelector)((function(e){return e.gui})),t=Object.entries((0,c.useSelector)((function(e){return e.apiValues.extraItems}))),n=[];t.length>0&&n.push(o.createElement(G.c,{title:"Links",description:"Project-specific links and actions. Configure what you see here via extraItems API."},o.createElement("ul",{className:Be.extraItemsList},t.map((function(e,t){return o.createElement("li",{key:t},o.createElement("a",{href:e[1]},e[0]))}))))),n.push(o.createElement(G.c,{title:"Testplane UI v"+Ge.i8,description:o.createElement("span",null,"To get the most out of Testplane UI, try to keep it updated to the latest version. Check out fresh ",o.createElement("a",{href:"https://github.com/gemini-testing/html-reporter/releases"},"releases on GitHub"),".")}));var r=(0,c.useSelector)((function(e){return e.timestamp})),a=(0,D.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],s=new Date(r).toLocaleString(a);e||n.push(o.createElement(G.c,{title:"Created at "+s,description:"Date and time when this report was generated. Report generates once all tests finish running."}));var l=(0,c.useSelector)((function(e){return e.app.guiServerConnection.isConnected})),u=(0,c.useSelector)((function(e){return e.fetchDbDetails}));n.push(o.createElement(G.c,{title:"Data sources",description:"To display test run data, Testplane UI needs access to corresponding data sources."},o.createElement("div",null,o.createElement("div",{className:Be.dataSourceHeading},o.createElement("span",null,"Source"),o.createElement("span",null,"Status")),o.createElement("div",{className:Be.dataSourceList},e&&o.createElement(Ue,{icon:Pe.Z,title:"Testplane UI Server",success:l}),!e&&u.map((function(e,t){var n=e.url,r=e.success,a=e.status;return o.createElement(Ue,{key:t,icon:Ze.Z,title:n,url:n,success:r,statusCode:a})}))))));var d=n.pop();return o.createElement(B,{title:"Info",className:Be.infoPanel},n.map((function(e,t){return o.createElement(o.Fragment,{key:t},e,o.createElement(i.Divider,{orientation:"horizontal",className:Be.divider}))})),d)}var Ve=n(40554),He=n(46294),Ye=n(26542),We=n(11200),Qe=n(36397),Ke=function(e){return e.Settings="settings",e.Info="info",e}({});function Xe(e){var t=(0,c.useDispatch)(),n=(0,s.s0)(),r=(0,s.TH)(),a=(0,F.z)(),i=e.pages.map((function(e){return{id:e.url,title:e.title,icon:e.icon,current:Boolean((0,k.LX)("".concat(e.url.replace(/\/$/,""),"/*"),r.pathname)),onItemClick:function(){null==a||a.trackFeatureUsage({featureName:"Go to ".concat(e.url," page")}),n(e.url)},qa:"".concat(e.url.slice(1),"-page-menu-item")}})),l=(0,c.useSelector)((function(e){return e.ui[Qe.T3.suitesPage].sectionSizes})),u=(0,c.useSelector)((function(e){return e.ui[Qe.T3.suitesPage].backupSectionSizes}));if(/\/suites/.test(r.pathname)){var m=(0,We.aV)(l[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:m?"Expand tree":"Collapse tree",icon:m?He.Z:Ye.Z,onItemClick:function(){t((0,Ve.gM)({sizes:m?u:[0,100],page:Qe.T3.suitesPage}))},qa:"expand-collapse-suites-tree"})}var p=(0,c.useSelector)((function(e){return e.ui[Qe.T3.visualChecksPage].sectionSizes})),f=(0,c.useSelector)((function(e){return e.ui[Qe.T3.visualChecksPage].backupSectionSizes}));if(/\/visual-checks/.test(r.pathname)){var g=(0,We.aV)(p[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:g?"Expand tree":"Collapse tree",icon:g?He.Z:Ye.Z,onItemClick:function(){t((0,Ve.gM)({sizes:g?f:[0,100],page:Qe.T3.visualChecksPage}))},qa:"expand-collapse-visual-checks"})}var v=(0,c.useSelector)(j.Dr),I=(0,c.useSelector)((function(e){return e.tree.browsers.byId})),h=v&&0===Object.keys(I).length,S=(0,o.useState)(null),y=(0,d.Z)(S,2),T=y[0],N=y[1],b=function(e){T===e.id?N(null):(N(e.id),null==a||a.trackFeatureUsage({featureName:"Open ".concat(e.id," panel")}))};return o.createElement(R.A,{className:E()({"aside-header--initialized":v}),logo:{text:"Testplane UI",iconSrc:Ie,iconSize:32,onClick:function(){return n("/suites")}},compact:!0,headerDecoration:!1,menuItems:i,customBackground:o.createElement("div",{className:he.asideHeaderBg}),customBackgroundClassName:he.asideHeaderBgWrapper,renderContent:function(){return h?o.createElement(je,null):e.children},hideCollapseButton:!0,renderFooter:function(){return o.createElement(Oe,{visiblePanel:T,onFooterItemClick:b})},panelItems:[{id:Ke.Info,children:o.createElement(Fe,null),visible:T===Ke.Info},{id:Ke.Settings,children:o.createElement(ve,null),visible:T===Ke.Settings}],onClosePanel:function(){return N(null)}})}const qe={card:"JsBSTVhMZmtk8M0HKNIj"};function Je(e){return o.createElement(De,{className:E()(qe.card,e.className),style:e.style,qa:e.qa},e.children)}var $e=function(e){return e.Name="n",e.Args="a",e.Duration="d",e.IsFailed="f",e.Children="c",e.IsGroup="g",e.TimeStart="ts",e.Repeat="r",e}({}),et=function(e){return e[e.Snapshot=0]="Snapshot",e}({}),tt=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.byId[t]:null},nt=function(e){var t,n,r=e.app.suitesPage.currentBrowserId,a=e.app.suitesPage.currentTreeNodeId;if(!r||!a)return null;var i,o=e.tree.browsers.byId[r].resultIds,c=e.app.suitesPage.currentGroupId,s=o[null!==(t=e.ui.suitesPage.retryIndexByTreeNodeId[a])&&void 0!==t?t:-1];if(c){var l=e.tree.groups.byId[c];i=o.findLast((function(e){return l.resultIds.includes(e)}))}var u=o[e.tree.browsers.stateById[r].retryIndex];return null!==(n=null!=s?s:i)&&void 0!==n?n:u},rt=function(e){var t=nt(e);return t?e.tree.results.byId[t]:null},at=function(e){var t,n=rt(e);return null!==(t=null==n?void 0:n.imageIds.map((function(t){return e.tree.images.byId[t]})))&&void 0!==t?t:[]},it=function(e){var t,n,r=rt(e);if(!r)return!1;var a=e.running,i=e.browserFeatures,o=null===(t=r.attachments)||void 0===t?void 0:t.some((function(e){return e.type===et.Snapshot})),c=e.app.availableFeatures.some((function(e){return e.name===O.qW.name}))&&(null===(n=i[r.name])||void 0===n?void 0:n.some((function(e){return e===O.uf.LiveSnapshotsStreaming})));return o||a&&c},ot=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.stateById[t].retryIndex:null},ct=n(51344);const st={"overlay-container":"YhnQZ2DR9KPdAJiIHKx6",overlayContainer:"YhnQZ2DR9KPdAJiIHKx6",pulsing:"np7Tims64LSzx1fxP9Vw","overlay-pulse":"iG7hgUdlfOAYJ2zEOMkz",overlayPulse:"iG7hgUdlfOAYJ2zEOMkz",hint:"lDwBbrcxapUWyB9bSmAM",appear:"euJ_Z7JcmqkNU0UuaTBi"};function lt(){return o.createElement("div",{className:E()(Ae.commonCard,st.overlayContainer)},o.createElement("div",{className:st.pulsing}),o.createElement("span",{className:st.hint},"Keep dragging to hide"))}const ut={"animated-appear-card":"nvHu0JYixG_n3L8bHaiy",animatedAppearCard:"nvHu0JYixG_n3L8bHaiy","border-pulse":"_hvSdUy_Sy8mnl5BcKJj",borderPulse:"_hvSdUy_Sy8mnl5BcKJj","background-overlay":"fOXVHPDXnIXRnLvKJK5w",backgroundOverlay:"fOXVHPDXnIXRnLvKJK5w",hidden:"oNABdOFiTaceIpXIecxT"};function dt(){var e=(0,c.useSelector)((function(e){return e.app.isInitialized}));return o.createElement("div",{className:E()(Ae.commonCard,ut.animatedAppearCard,(0,u.Z)({},ut.hidden,e))},o.createElement("div",{className:ut.backgroundOverlay}))}const mt={split:"Yt_7hFDWMBBzwRxhtPGA",gutter:"BjLGDET4dsmTg5n7BGOC","gutter-appear":"GkXIdhlZ0Ksl8HY5uIGM",gutterAppear:"GkXIdhlZ0Ksl8HY5uIGM","gutter-handle":"cEss7sGcuntXKcSdrYGx",gutterHandle:"cEss7sGcuntXKcSdrYGx","gutter-activate":"QhcMa1LcrZef4FaMYu9B",gutterActivate:"QhcMa1LcrZef4FaMYu9B","gutter-deactivate":"xDCzx4XYGvK_feKceOC3",gutterDeactivate:"xDCzx4XYGvK_feKceOC3",container:"R1neC10QiHgV72yl__vn","container-collapsed":"jhPJSKkfojnb9ejRA7Kg",containerCollapsed:"jhPJSKkfojnb9ejRA7Kg","is-disabled-transitions":"QfgLrNwN7f_q5YM2eMTC",isDisabledTransitions:"QfgLrNwN7f_q5YM2eMTC"};function pt(e){var t=o.useState(!1),n=(0,d.Z)(t,2),r=n[0],a=n[1],i=o.useState(!1),s=(0,d.Z)(i,2),l=s[0],m=s[1],p=o.useState(!1),f=(0,d.Z)(p,2),g=f[0],v=f[1],I=o.useState(e.sizes.map(We.aV)),h=(0,d.Z)(I,2),S=h[0],y=h[1];(0,o.useLayoutEffect)((function(){v(!l),y(e.sizes.map(We.aV))}),[e.sizes]);var T=(0,c.useSelector)(j.Dr),N=o.Children.toArray(e.children);return o.createElement(ct.Z,{direction:"horizontal",className:E()(mt.split,{"is-resizing":l,"is-idle":r&&!l,"is-initialized":T}),minSize:0,snapOffset:200,onDrag:function(t){var n;null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragStart:function(t){var n;a(!0),m(!0),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragEnd:function(t){var n;m(!1),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},gutter:function(){var e=document.createElement("div");e.classList.add(mt.gutterHandle),e.setAttribute("data-qa","split-view-gutter-handle");var t=document.createElement("div");return t.appendChild(e),t.classList.add(mt.gutter),t},sizes:e.sizes},N.map((function(e,t){var n;return o.createElement("div",{key:t,className:E()(mt.container,(n={},(0,u.Z)(n,mt.containerCollapsed,S[t]),(0,u.Z)(n,"is-collapsed",S[t]),(0,u.Z)(n,mt.isDisabledTransitions,g),n))},o.createElement(lt,null),o.createElement(dt,null),e)})))}var ft=n(93714),Et=n(85715),gt=n(6740),vt=n(13432),It=n(82714);const ht={container:"YWnVRZp6Xpq2emGNusEL",breadcrumbs:"Ed4tVlxzgeV8lu4LStw4",separator:"dpX1ZvrQ0Rb7KZsrGdrB",content:"p9SwrHyY6_rkCo8WnJ4B","title-container":"eN__kxnFqti2d9lyLscG",titleContainer:"eN__kxnFqti2d9lyLscG","labels-container":"fkNFekMpeg9PQWBvk6SA",labelsContainer:"fkNFekMpeg9PQWBvk6SA",label:"cyOS5FVBjs_XwfWf3hqw","pagination-container":"FjhbMq232twU07JGqpxG",paginationContainer:"FjhbMq232twU07JGqpxG",counter:"wUSN7d_qH5YeEFdi_k8a"};function St(e){var t=e.suitePath[e.suitePath.length-1],n=e.suitePath.slice(0,-1);return o.createElement("div",{className:E()(ht.container,e.className)},o.createElement("div",{className:ht.content},n.length>0&&o.createElement("div",{className:E()(ht.breadcrumbs)},n.map((function(e,t){return o.createElement("div",{key:t,className:ht.breadcrumbsItem},e,t!==n.length-1&&o.createElement("div",{className:ht.separator},o.createElement(ft.Z,{height:12})))}))),o.createElement("div",{className:ht.titleContainer},o.createElement("h2",{className:E()("text-display-1")},null!=t?t:"Unknown Suite"),o.createElement("div",{className:ht.labelsContainer},o.createElement(i.Label,{theme:"normal",size:"xs",className:ht.label},o.createElement(Et.Z,null),e.browserName),e.stateName&&o.createElement(i.Label,{theme:"utility",size:"xs",className:E()(ht.label)},o.createElement(gt.Z,null),e.stateName)))),o.createElement("div",{className:ht.paginationContainer},o.createElement("span",{className:ht.counter},-1===e.index?"–":e.index+1,"/",e.totalItems),o.createElement(i.Button,{qa:"suite-prev",view:"flat",disabled:e.index<=0,onClick:e.onPrevious},o.createElement(i.Icon,{data:vt.Z})),o.createElement(i.Button,{qa:"suite-next",view:"flat",disabled:e.index<0||e.index===e.totalItems-1,onClick:e.onNext},o.createElement(i.Icon,{data:It.Z}))))}var yt=n(13583);const Tt={container:"nR0kpnVQuYefx31uTlD5",heading:"baYQP9hm9fAaU79TT8HC","attempts-container":"SsRE0DhTAdrseFiE6W4S",attemptsContainer:"SsRE0DhTAdrseFiE6W4S"},Nt="nJPe2OO4z2uAJdX7sMaV",bt="eDONt5swkA3IFMY28K0w",Mt="yVJoWVTQitoP9vCeR3gQ regular-button from global, action-button";var Ct=o.forwardRef((function(e,t){return o.createElement(i.Tooltip,{content:e.tooltip,placement:"top",openDelay:0},o.createElement(i.Button,{className:e.className,view:e.view,onClick:e.onClick,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:t,selected:e.selected,qa:e.qa},e.icon))})),wt=n(14963),Ot=n(75262),At=n(97566),Dt=function(e){return{type:At.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME,payload:e}},_t=function(e){var t=e.showPlayer,n=void 0===t||t,r=e.browser,a=(0,c.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),s=(0,c.useSelector)((function(e){return e.running})),l=(0,F.z)(),u=(0,c.useDispatch)(),d=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),m=(0,c.useSelector)(it),p=Boolean(d),f=m&&n,E=p&&f;return o.createElement("div",{className:Nt},f&&o.createElement(Ct,{tooltip:a?"Hide Time Travel Player":"Show Time Travel Player",icon:o.createElement(i.Icon,{data:wt.Z}),onClick:function(){var e;null==l||l.trackFeatureUsage({featureName:"Toggle time travel player visibility"}),u((e=!a,{type:At.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY,payload:{isVisible:e}}))},view:"outlined",selected:a}),E&&o.createElement(i.Divider,{orientation:"vertical",className:bt}),p&&o.createElement(i.Button,{view:"action",className:Mt,onClick:function(){r&&(null==l||l.trackFeatureUsage({featureName:"Retry test button click in test control panel"}),u((0,w.thunkRunTest)({test:{testName:r.parentId,browserName:r.name}})))},disabled:s},s?o.createElement(i.Spin,{size:"xs"}):o.createElement(i.Icon,{data:Ot.Z}),"Retry"))};function Lt(e){var t,n=e.onAttemptChange,r=(0,c.useSelector)((function(e){return e.app.suitesPage.currentBrowserId})),a=(0,c.useSelector)((function(e){return r&&e.tree.browsers.byId[r]?e.tree.browsers.byId[r].resultIds:[]})),i=(0,c.useSelector)(tt),s=null!==(t=(0,c.useSelector)(nt))&&void 0!==t?t:"";return o.createElement("div",{className:Tt.container},o.createElement("h3",{className:E()("text-header-1",Tt.heading)},"Attempts"),o.createElement("div",{className:Tt.attemptsContainer},a.map((function(e,t){return o.createElement(yt.j,{key:e,resultId:e,isActive:e===s,onClick:function(){return function(e,t){r&&s!==e&&(null==n||n(r,e,t))}(e,t)}})}))),o.createElement(_t,{browser:i}))}const xt={container:"muBYOfEen_m8tSJh2hCl","collapsible-section__body":"AUuPP_HbqfOPKdcYd69V",collapsibleSectionBody:"AUuPP_HbqfOPKdcYd69V","collapsible-section-overview":"rqiepPcf5HwR6NoFhHGf",collapsibleSectionOverview:"rqiepPcf5HwR6NoFhHGf",card:"RgbiKKtfc9YGiEtUeWtY",card__title:"LpMOqM7AgrJWSvYxy1W3",cardTitle:"LpMOqM7AgrJWSvYxy1W3","test-view-card":"Ztc10W8OVgV8sL0aGIaU",testViewCard:"Ztc10W8OVgV8sL0aGIaU","sticky-header":"i1qQgxI36YoEgEI2b5wo",stickyHeader:"i1qQgxI36YoEgEI2b5wo","hint-container":"_VhDOpLVD6atRgsTBko9",hintContainer:"_VhDOpLVD6atRgsTBko9",hint:"It1E1_VWwCWcraQxfr2g"};var Rt=n(62349),kt=n.n(Rt);function jt(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=(0,o.useState)([]),c=(0,d.Z)(a,2),s=c[0],l=c[1];return(0,o.useEffect)((function(){for(var e=[],t=0;t<kt()(3,6);t++)e.push(o.createElement(i.Flex,{gap:2,key:t},o.createElement(i.Skeleton,{style:{height:"12px",width:"".concat(kt()(20,35),"%")}}),o.createElement(i.Skeleton,{style:{height:"".concat(24*kt()(1,3),"px"),width:"40%",marginLeft:"auto"}})));r(e);for(var n=[],a=0;a<kt()(8,12);a++)n.push(o.createElement(i.Flex,{gap:2,key:a},o.createElement(i.Skeleton,{style:{height:"24px",width:"".concat(kt()(60,80),"%")}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"".concat(kt()(5,8),"%"),marginLeft:"auto"}})));l(n)}),[]),o.createElement(i.Flex,{direction:"column",gap:4},o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"20%"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"35%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"24px",width:"40%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"20%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"25%"}})),n,o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"20%"}})),s)}var Pt=n(52902),Zt=n(86522),zt=o.createContext(null),Ut=zt.Provider,Bt=function(){var e=o.useContext(zt);if(null===e)throw new Error("useErrorContext must be used within ErrorContextProvider");return e};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e){var t=Ht();return function(){var n,r=(0,$.Z)(e);if(t){var a=(0,$.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,J.Z)(this,n)}}function Ht(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ht=function(){return!!e})()}var Yt=function(e){(0,q.Z)(n,e);var t=Vt(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).state={watchFor:e.watchFor,hasError:!1,error:null,errorInfo:null},r}return(0,X.Z)(n,[{key:"restore",value:function(){this.setState({hasError:!1,error:null})}},{key:"componentDidCatchErrorInstance",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed('%cError boundary catched error named "'.concat(e.name,'". See details below:')+"%c @ "+r,n.messageStyle,n.timestampStyle),console.error(e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatchSomethingWeird",value:function(e,t){this.setState({hasError:!0,error:new Error("Unknown error, based on ".concat((0,Zt.Z)(e)," value provided.\nReceived value: ").concat(e,", which is not an Error instance.\nTry check your code for throwing ").concat((0,Zt.Z)(e),"s.")),errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed("%cError boundary catched ".concat((0,Zt.Z)(e)," instead of Error class instance. Try check your code for throwing ").concat((0,Zt.Z)(e),"s. See details below:")+"%c @ "+r,n.messageStyle,n.timestampStyle),console.log("Received ".concat((0,Zt.Z)(e)," value: "),e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatch",value:function(e,t){return e instanceof Error?this.componentDidCatchErrorInstance(e,t):this.componentDidCatchSomethingWeird(e,t)}},{key:"render",value:function(){return this.state.hasError?o.createElement(Ut,{value:{state:this.state,restore:this.restore.bind(this)}},this.props.fallback):this.props.children}}],[{key:"isNothingChanged",value:function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every((function(e,n){return e===t[n]})))}},{key:"getDerivedStateFromProps",value:function(e,t){return n.isNothingChanged(t.watchFor,e.watchFor)?null:Ft(Ft({},t),{},{error:null,hasError:!1,errorInfo:null,watchFor:e.watchFor})}}]),n}(o.Component);(0,u.Z)(Yt,"messageStyle","background: crimson; color: white;"),(0,u.Z)(Yt,"timestampStyle","color: gray; font-size: smaller");var Wt=n(57807),Qt=n.n(Wt),Kt=n(48439),Xt=n.n(Kt);const qt={code:"dHRn8Yz83ZfjIQyOVx0s"};function Jt(e){return Qt().setColors({reset:["eee","00000000"]}),o.createElement("div",{className:E()(qt.code,e.className),style:e.style,dangerouslySetInnerHTML:{__html:Qt()(Xt()(e.name+"\n"+e.stack))}})}const $t="_LTkXHA4mWxFhAhQ7Uyw",en="_LLJ1NpsLjP4Db9HQqT0",tn="xolKAa1dSvDMxS_PEXf7",nn="jfZSMLHKOF2TSiYmbEMA",rn="etcx80anDp8a8i5L972W",an="O4ff04wtuq_j5EXrm1K8",on="iNOdl5jVecZAcgqopMhi",cn="LruSxwTdpVZS32YMqoUA",sn="Rg4gP6QvZjvfl1PNCcEw";var ln=n(7896),un=n(41421);const dn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjQ5OTcgMC42OTkzNTVDNC4wODIzMiAwLjY5OTM1NSAwLjUgNC4yODEwOCAwLjUgOC42OTkwM0MwLjUgMTIuMjMzOCAyLjc5MTk1IDE1LjIzMTUgNS45NzA2NSAxNi4yODk4QzYuMzcwNzUgMTYuMzYzOSA2LjUxNzggMTYuMTE1OSA2LjUxNzggMTUuOTA0NEM2LjUxNzggMTUuNzEzNyA2LjUwOTgzIDE1LjA4MzYgNi41MDY1OCAxNC40MTU2QzQuMjgwNzggMTQuODk5NiAzLjgxMTU3IDEzLjQ3MTMgMy44MTE1NyAxMy40NzEzQzMuNDQ3NzcgMTIuNTQ2NSAyLjkyMzM1IDEyLjMwMDYgMi45MjMzNSAxMi4zMDA2QzIuMTk3NTUgMTEuODAzNiAyLjk3ODU3IDExLjgxNDUgMi45Nzg1NyAxMS44MTQ1QzMuNzgxNzIgMTEuODcwNiA0LjIwNDU4IDEyLjYzODQgNC4yMDQ1OCAxMi42Mzg0QzQuOTE4NTcgMTMuODYxNCA2LjA3NjY1IDEzLjUwNzQgNi41MzI4NSAxMy4zMDMzQzYuNjA0OSAxMi43ODYzIDYuODExNiAxMi40MzMxIDcuMDQwNzMgMTIuMjMzMkM1LjI2MzcyIDEyLjAzMTYgMy4zOTU4IDExLjM0NTMgMy4zOTU4IDguMjc5NzNDMy4zOTU4IDcuNDA2NTggMy43MDg4IDYuNjkyNjEgNC4yMTk5MiA2LjEzMjczQzQuMTM2NjcgNS45MzA3OCAzLjg2MjY1IDUuMTE3NTggNC4yOTcgNC4wMTU4OEM0LjI5NyA0LjAxNTg4IDQuOTY4NzUgMy44MDA2MyA2LjQ5NzczIDQuODM1ODhDNy4xMzU1MyA0LjY1OTAxIDcuODE5NjcgNC41Njk4MyA4LjQ5OTEzIDQuNTY2ODhDOS4xNzkxMiA0LjU2OTgzIDkuODY0NDggNC42NTg3MSAxMC41MDMyIDQuODM1ODhDMTIuMDMwMSAzLjgwMTIzIDEyLjcwMTIgNC4wMTU4OCAxMi43MDEyIDQuMDE1ODhDMTMuMTM2MiA1LjExNzg4IDEyLjg2MzMgNS45MzE2NiAxMi43ODAxIDYuMTMyNzZDMTMuMjkzIDYuNjkyNjEgMTMuNjAzMyA3LjQwNjU4IDEzLjYwMzMgOC4yNzk3M0MxMy42MDMzIDExLjM1MjQgMTEuNzMxMiAxMi4wMjggOS45NTA0IDEyLjIyNjFDMTAuMjM3NCAxMi40NzQyIDEwLjQ5MzcgMTIuOTYxMSAxMC40OTM3IDEzLjcwN0MxMC40OTM3IDE0Ljc3NjggMTAuNDg0NiAxNS42MzkgMTAuNDg0NiAxNS45MDIxQzEwLjQ4NDYgMTYuMTE1IDEwLjYyODcgMTYuMzYzOSAxMS4wMzQ0IDE2LjI4NTlDMTQuMjExMyAxNS4yMjcxIDE2LjUwMDMgMTIuMjI5MSAxNi41MDAzIDguNjk2MzZDMTYuNTAwMyA0LjI3ODk4IDEyLjkxODYgMC42OTY2NTUgOC41MDAzIDAuNjk2NjU1TDguNDk5NzMgMC42OTkzM0w4LjQ5OTcgMC42OTkzNTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K";function mn(){window.open(O.WY,"_blank")}function pn(e){return o.createElement(i.Button,(0,ln.Z)({},e,{view:"outlined",onClick:mn}),o.createElement(i.Button.Icon,null,o.createElement("img",{src:dn,alt:"icon",width:17,height:17})),"File an issue")}function fn(){window.location.reload()}function En(e){return o.createElement(i.Button,(0,ln.Z)({},e,{view:"outlined",onClick:fn}),o.createElement(i.Icon,{data:un.Z}),"Refresh this page")}var gn={Boundary:Yt,FallbackAppCrash:function(){var e=Bt().state;return o.createElement("div",{className:$t},o.createElement("div",{className:E()(en,tn)},o.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMiAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjIyIDI5Ljk2QzEzLjM1IDI5Ljk2IDE1LjM0IDI4LjgzIDE2LjQxIDI2Ljk4TDIwLjAzIDIwLjcxTDIyLjkzIDIwLjczQzI1LjA1IDIwLjczIDI3LjAyIDE5LjYgMjguMDggMTcuNzZMMjkuMTQgMTUuOTVIMjAuNTNDMTguNCAxNS45NSAxNi40MSAxNy4wOCAxNS4zNCAxOC45M0w4Ljk3OTk4IDI5Ljk0SDExLjIyVjI5Ljk2Wk0yNy45OCAxNi42MkwyNy40OSAxNy40M0MyNi41NSAxOS4wNiAyNC44IDIwLjA3IDIyLjkyIDIwLjA2TDIwLjQgMjAuMDRMMjIuMzcgMTYuNjFIMjcuOTdMMjcuOTggMTYuNjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjguMDMwMiAxMS41NUMyNi45NzAyIDkuNyAyNC45OTAyIDguNTUgMjIuODYwMiA4LjU1SDE1LjYyMDJMMTQuMTkwMiA2LjAzQzEzLjEzMDIgNC4xOSAxMS4xNjAyIDMuMDUgOS4wNTAyIDMuMDVMNi45NTAyIDMuMDNMMTEuMjUwMiAxMC40OEMxMi4zMTAyIDEyLjMzIDE0LjI5MDIgMTMuNDggMTYuNDIwMiAxMy40OEgyOS4xNDAyTDI4LjAzMDIgMTEuNTRWMTEuNTVaTTguMDkwMiAzLjdMOS4wNDAyIDMuNzJDMTAuOTIwMiAzLjcyIDEyLjY3MDIgNC43MyAxMy42MTAyIDYuMzZMMTQuODUwMiA4LjU1SDEwLjg5MDJMOC4wOTAyIDMuN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zLjY2OTgyIDYuMTk5OTlDMi41OTk4MiA4LjAzOTk5IDIuNTg5ODIgMTAuMzMgMy42NTk4MiAxMi4xOEw3LjI3OTgyIDE4LjQ1TDUuODA5ODIgMjAuOTVDNC43NDk4MiAyMi43OCA0Ljc0OTgyIDI1LjA2IDUuODA5ODIgMjYuODlMNi44Mzk4MiAyOC43MUwxMS4xMzk4IDIxLjI2QzEyLjIwOTggMTkuNDIgMTIuMjE5OCAxNy4xMyAxMS4xNDk4IDE1LjI4TDQuNzk5ODIgNC4yNjk5OUwzLjY2OTgyIDYuMTk5OTlaTTYuODQ5ODIgMjcuMzlMNi4zODk4MiAyNi41NkM1LjQ0OTgyIDI0LjkzIDUuNDQ5ODIgMjIuOTEgNi4zODk4MiAyMS4yOEw3LjY1OTgyIDE5LjExTDkuNjM5ODIgMjIuNTNMNi44Mzk4MiAyNy4zOEw2Ljg0OTgyIDI3LjM5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",alt:"icon",width:32,height:32}),o.createElement("div",{className:nn}),o.createElement(i.Text,{variant:"subheader-3"},"Something went wrong"),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"Testplane UI has crashed"),o.createElement("div",{className:nn}),o.createElement(Jt,{className:cn,name:e.error.name,stack:e.error.stack}),o.createElement("div",{className:nn}),o.createElement("div",{className:E()(sn)},o.createElement(En,{width:"max"}),o.createElement(pn,{width:"max"})),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"We would appreciate a detailed",o.createElement("br",null),"report with reproduction steps.")))},FallbackCardCrash:function(e){var t=e.recommendedAction,n=Bt().state;return o.createElement("div",{className:E()(en)},o.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjggOCAzOCAyOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjYuOTk5NiIgY3k9IjMxLjM3OTQiIHI9IjEuNzkzMSIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU0MDUgNy45NTA4MUMyNS4wODIyIDUuMjk1MTEgMjguOTE3NCA1LjI5NTExIDMwLjQ1OTEgNy45NTA4Mkw0NC40MTU1IDMxLjk5MThDNDUuOTYzNSAzNC42NTg0IDQ0LjAzOTUgMzggNDAuOTU2MSAzOEgxMy4wNDM1QzkuOTYwMDUgMzggOC4wMzYwOCAzNC42NTg0IDkuNTg0MTQgMzEuOTkxOEwyMy41NDA1IDcuOTUwODFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTI2LjEwMzEgMTQuMzQ1NEMyNS42NTQ4IDE0Ljc5MzYgMjYuNTUxNyAyNi44OTcyIDI3IDI2Ljg5NzJDMjcuNDQ4MyAyNi44OTczIDI4LjM0NDUgMTQuNzkzNiAyNy44OTYyIDE0LjM0NTRDMjcuNDQ3OSAxMy44OTcxIDI2LjU1MTQgMTMuODk3MSAyNi4xMDMxIDE0LjM0NTRaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIvPgo8L3N2Zz4K",alt:"icon",width:32,height:32}),o.createElement(i.Text,{variant:"subheader-3"},"Something went wrong"),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side"),o.createElement(Jt,{className:cn,name:n.error.name,stack:n.error.stack}),"string"==typeof t?o.createElement(i.Text,{variant:"body-1"},t):t,t&&o.createElement("div",{className:E()(an)},o.createElement(i.Divider,{className:E()(on)}),o.createElement(i.Text,{variant:"caption-1",color:"secondary"},"OR"),o.createElement(i.Divider,{className:E()(on)})),o.createElement(pn,null))},FallbackDataCorruption:function(){var e=Bt().state;return o.createElement("div",{className:E()(en,rn)},o.createElement(i.Text,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side. ",o.createElement(i.Link,{href:O.WY,target:"_blank"},"File an issue")),o.createElement(Jt,{className:cn,name:e.error.name,stack:e.error.stack}))}};const vn="N95XGZkrKPbZhl3Vy74M",In="WYHFVK6JX4RyJFzf37Us",hn="hiBFUuN6nkc2PDsIARXp";var Sn=n(18717);var yn=(0,c.connect)((function(e,t){var n,r=e.app.suitesPage.currentBrowserId,a="";if(r&&e.tree.browsers.byId[r]){e.tree.browsers.stateById[r].retryIndex;a=t.id}return{sectionId:a,expanded:null===(n=e.ui.suitesPage.expandedSectionsById[a])||void 0===n||n}}),(function(e){return{actions:(0,Sn.bindActionCreators)(w,e)}}))((function(e){var t=function(){e.actions.setSectionExpandedState({sectionId:e.sectionId,isExpanded:!e.expanded})};return o.createElement(i.Disclosure,{expanded:e.expanded,size:"l",arrowPosition:"end",key:e.sectionId,className:e.className},o.createElement(i.Disclosure.Summary,null,(function(){return o.createElement(i.Flex,{gap:2,alignItems:"center",onClick:t,className:In},o.createElement("h3",{className:"text-header-1"},e.title),o.createElement(vt.Z,{className:E()(vn,(0,u.Z)({},hn,e.expanded))}))})),e.children)})),Tn=n(28978),Nn=n(9123),bn=n(54523),Mn=n(44742),Cn=n(28974);const wn={wrapper:"WqxIjCTtdCRPrQGjgPs2"};function On(e){return o.createElement("div",{className:wn.wrapper},e.children)}const An={wrapper:"ntceMu1H5HZhHAf0bZM3",item:"lKApnVoVLEWkxYb29jma","item--failed":"kiPtUIMAuyhD23KGlTwO",itemFailed:"kiPtUIMAuyhD23KGlTwO"};var Dn=n(71011);function _n(e){return function t(n){return n>=e.args.length?null:o.createElement("div",{className:E()(An.wrapper)},o.createElement("span",{className:E()([An.item,(0,u.Z)({},An["item--failed"],!e.isActive&&e.isFailed)])},(0,Dn.Pz)(e.args[n])),t(n+1))}(0)}var Ln=n(97698),xn=function(e){return e[e.Action=0]="Action",e[e.Attachment=1]="Attachment",e[e.ErrorInfo=2]="ErrorInfo",e[e.SingleImage=3]="SingleImage",e[e.AssertViewResult=4]="AssertViewResult",e}({}),Rn=n(9560);function kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pn=function(e,t){function n(e){if(t(e),e.children){var r,a=kn(e.children);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}}}var r,a=kn(e);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}},Zn=function(e,t){return{"--indent":e.structure.itemsState[t].indentation}};function zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Un(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Bn=(0,Ln.createSelector)([j.Al,rt,at],(function(e,t,n){if(!t||!t.history)return[];var r=function e(t,n){return t.map((function(t,r){var a,i=Boolean(t[$e.Children]&&(null===(a=t[$e.Children])||void 0===a?void 0:a.length)>0),o={id:"".concat(n," ").concat(r),data:{type:xn.Action,title:t[$e.Name],duration:t[$e.Duration],startTime:t[$e.TimeStart],status:t[$e.IsFailed]?O.ih.ERROR:O.ih.SUCCESS,args:t[$e.Args],isGroup:t[$e.IsGroup],repeat:t[$e.Repeat],hasChildren:i}};return i&&(o.children=e(t[$e.Children],o.id)),o}))}(t.history,t.id);if(t.error&&!(0,Rn.ci)(t.error)&&!(0,Rn.iR)(t.error)){var a=function(e){var t=null;return Pn(e,(function(e){e.data.type===xn.Action&&e.data.status===O.ih.ERROR&&(t=e)})),t}(r),i=(0,Rn.Fm)(t.error),o={id:"".concat(null==a?void 0:a.id," error 0"),data:{type:xn.ErrorInfo,name:i.name,stack:i.stack}},c={id:"".concat(null==a?void 0:a.id," error"),data:{type:xn.Attachment,title:"Error",hasChildren:!0},children:[o]};a&&a.children&&a.children.length>0?a.children.push(c):a?a.children=[o]:r.push(c)}var s,l=zn(n);try{var u=function(){var t,n=s.value;if(!n.stateName)return"continue";if(Pn(r,(function(r){var a,i,o;r.data.type===xn.Action&&(e===O.YO.Playwright?(r.data.title.includes("toHaveScreenshot")&&r.data.title.includes(null!==(a=n.stateName)&&void 0!==a?a:"")||r.data.title.includes("toMatchScreenshot")&&null!==(i=r.children)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&null!==(i=i.title)&&void 0!==i&&i.includes(null!==(o=n.stateName)&&void 0!==o?o:""))&&(t=r):"assertView"===r.data.title&&r.data.args[0]===n.stateName&&(t=r))})),t?t.data.type===xn.Action&&(t.data.hasChildren=!0):(t={id:"".concat(n.id," assertView"),data:{type:xn.Action,title:"assertView",status:n.status,args:[n.stateName],isGroup:!1,hasChildren:!0}},r.push(t)),n.status===O.ih.ERROR&&n.error){var a={id:"".concat(n.id," assertView error-info"),data:{type:xn.ErrorInfo,name:n.error.name,stack:n.error.stack||n.error.message}},i={id:"".concat(n.id," assertView error"),data:{type:xn.Attachment,title:"Error",hasChildren:!0},children:[a]};t.children||(t.children=[]),t.children.push(i)}var o={id:"".concat(n.id," image"),data:{type:xn.AssertViewResult,result:n}};t.data.type===xn.Action&&(t.data.status=n.status),t.children&&t.children.length>0?t.children.push({id:"".concat(t.id," attachment"),data:{type:xn.Attachment,title:"Screenshots",hasChildren:!0},children:[o]}):t.children=[o]};for(l.s();!(s=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}var d=n.find((function(e){return e.status===O.ih.ERROR&&!e.stateName}));return d&&r.push({id:"page-screenshot",data:{type:xn.Attachment,title:"Page Screenshot",hasChildren:!0},children:[{id:"page-screenshot-image",data:{type:xn.SingleImage,image:d.actualImg}}]}),r})),Gn=(0,Ln.createSelector)([Bn,function(e){var t,n=nt(e);return n&&null!==(t=e.ui.suitesPage.expandedStepsByResultId[n])&&void 0!==t?t:{}}],(function(e,t){var n={};return Pn(e,(function(e){var r;if(e.children){var a=e.id;n[a]=null===(r=t[a])||void 0===r||r}})),n}));const Fn={"tree-view-item":"QhnkL9SOrvWtbErZaAKx",treeViewItem:"QhnkL9SOrvWtbErZaAKx","tree-view-item--active":"DZ7vlCVBM88vYE0_r6mQ",treeViewItemActive:"DZ7vlCVBM88vYE0_r6mQ","tree-view-item--error":"UbaPLUI4_sN41zFxfXtx",treeViewItemError:"UbaPLUI4_sN41zFxfXtx","tree-view-item--corrupted":"ve7hJEGzoe9lERnWCZfG",treeViewItemCorrupted:"ve7hJEGzoe9lERnWCZfG"};function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){var t,n=e.list.structure.itemsState[e.id].indentation,r=e.list.structure.itemsById[e.id].hasChildren;return o.createElement(Nn.CM,(0,ln.Z)({onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,className:E()([e.className,Fn.treeViewItem,(t={},(0,u.Z)(t,Fn["tree-view-item--active"],e.isActive),(0,u.Z)(t,Fn["tree-view-item--corrupted"],!e.isActive&&"corrupted"===e.status),(0,u.Z)(t,Fn["tree-view-item--error"],!e.isActive&&"error"===e.status),t)]),activeOnHover:!0,style:{"--indent":n+Number(!r)}},(0,Nn.vy)({id:e.id,list:e.list,onItemClick:e.onItemClick,mapItemDataToContentProps:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({indentation:0},e.mapItemDataToContentProps(t))}}).props))}const Yn={"step-content":"wRBXBDdHrTikZ7hs1rdK",stepContent:"wRBXBDdHrTikZ7hs1rdK","step-args-wrapper":"LR4BHdAv8jwAMuF4Pc3E",stepArgsWrapper:"LR4BHdAv8jwAMuF4Pc3E","error-info":"gpWDkSaE77J9qpEhWFRw",errorInfo:"gpWDkSaE77J9qpEhWFRw","page-screenshot":"ZjYDeaZ2zu8wgTOVQM8B",pageScreenshot:"ZjYDeaZ2zu8wgTOVQM8B","step-duration":"AMx1IJ4ecNKFSIXEnbEh",stepDuration:"AMx1IJ4ecNKFSIXEnbEh","step-duration-avg":"Kc7shViRKvkr7VW8ExOW",stepDurationAvg:"Kc7shViRKvkr7VW8ExOW","step-repeat":"hsRvyfBD6GFXFc8_aM5k",stepRepeat:"hsRvyfBD6GFXFc8_aM5k",step:"f4y9L5V1wtKbRyvPLvEA","step--dimmed":"GRSYjuQxCFGe42ORpaHR",stepDimmed:"GRSYjuQxCFGe42ORpaHR"};var Wn=n(81845),Qn=n(7065),Kn=n(35682),Xn=n(74677),qn=n(44049),Jn=n(50929),$n=n(55476),er=n(64714),tr=n(60460);const nr={"image-label":"jApgJ8zTfUMQDYwQhObj",imageLabel:"jApgJ8zTfUMQDYwQhObj","image-label-subtitle":"W5IwBC_4o97mxmZflwQV",imageLabelSubtitle:"W5IwBC_4o97mxmZflwQV"};function rr(e){var t=e.title,n=e.subtitle;return o.createElement("div",{className:nr.imageLabel},o.createElement("span",null,t),n&&o.createElement("span",{className:nr.imageLabelSubtitle},n))}function ar(e){var t,n=Object.assign({},e.expectedImg,{label:o.createElement(rr,{title:"Expected",subtitle:(0,Dn.k)(e.expectedImg)})}),r=Object.assign({},e.actualImg,{label:o.createElement(rr,{title:"Actual",subtitle:(0,Dn.k)(e.actualImg)})});void 0!==e.differentPixels&&void 0!==e.diffRatio&&(t="".concat(e.differentPixels,"px ⋅ ").concat((0,tr.h)(e.diffRatio),"%"));var a=Object.assign({},e.diffImg,{label:o.createElement(rr,{title:"Diff",subtitle:t}),diffClusters:e.diffClusters});switch(e.diffMode){case O.nx.ONLY_DIFF.id:return o.createElement(Qn._,{diff:a});case O.nx.SWITCH.id:return o.createElement(Kn.H,{expected:n,actual:r});case O.nx.SWIPE.id:return o.createElement(Xn.p,{expected:n,actual:r});case O.nx.ONION_SKIN.id:return o.createElement(qn.n,{expected:n,actual:r});case O.nx.THREE_UP_SCALED.id:return o.createElement(Jn.P,{expected:n,actual:r,diff:a});case O.nx.THREE_UP_SCALED_TO_FIT.id:var i,c=null!==(i=e.desiredHeight)&&void 0!==i?i:"calc(100vh - 180px)";return o.createElement($n.g,{desiredHeight:c,expected:n,actual:r,diff:a});case O.nx.THREE_UP.id:default:return o.createElement(er.t,{expected:n,actual:r,diff:a})}}const ir="vjAthq06BGCMTC8Mv9Qq",or="DlKdIVLCG7dotil9mUek";var cr=(0,c.connect)((function(e){return{diffMode:e.view.diffMode}}))((function(e){var t=e.result,n=e.diffMode,r=e.style;return t.status===O.ih.FAIL?o.createElement(ar,(0,ln.Z)({diffMode:n},t)):t.status===O.ih.ERROR?o.createElement("div",{className:or},o.createElement(rr,{title:"Actual",subtitle:(0,Dn.k)(t.actualImg)}),o.createElement(Wn.w,{containerStyle:r,containerClassName:ir,image:t.actualImg})):t.status===O.ih.SUCCESS||t.status===O.ih.UPDATED?o.createElement("div",{className:or},o.createElement(rr,{title:"Expected",subtitle:(0,Dn.k)(t.expectedImg)}),o.createElement(Wn.w,{containerStyle:r,containerClassName:ir,image:t.expectedImg})):t.status===O.ih.STAGED?o.createElement("div",{className:or},o.createElement(rr,{title:"Staged",subtitle:(0,Dn.k)(t.actualImg)}),o.createElement(Wn.w,{containerStyle:r,containerClassName:ir,image:t.actualImg})):t.status===O.ih.COMMITED?o.createElement("div",{className:or},o.createElement(rr,{title:"Committed",subtitle:(0,Dn.k)(t.actualImg)}),o.createElement(Wn.w,{containerStyle:r,containerClassName:ir,image:t.actualImg})):null})),sr=n(14054);const lr={container:"Bzu9PGbArU7lRN2Ar305"};var ur=n(83832),dr=n(99652),mr=n(47347),pr=n(60148),fr=n(41020),Er=n(86686),gr=n(84579),vr=n(65471),Ir=n(92275),hr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return o.createElement(i.Icon,{data:ur.Z,width:16,className:t?"icon-skip":""});if((0,Rn.S5)(e.error))return o.createElement(i.Icon,{data:dr.Z,width:16,className:t?"icon-fail":""});if((0,Rn.Ne)(e.error))return o.createElement(i.Icon,{data:mr.Z,width:16,className:t?"icon-fail":""});switch(e.status){case O.ih.SUCCESS:return o.createElement(i.Icon,{data:pr.Z,width:16,className:t?"icon-success":""});case O.ih.STAGED:return o.createElement(i.Icon,{data:fr.Z,width:16,className:t?"icon-success":""});case O.ih.COMMITED:return o.createElement(i.Icon,{data:Er.Z,width:16,className:t?"icon-committed":""});case O.ih.FAIL:return o.createElement(i.Icon,{data:gr.Z,width:16,className:t?"icon-fail":""});case O.ih.UPDATED:return o.createElement(i.Icon,{data:vr.Z,width:16,className:t?"icon-updated":""})}return o.createElement(i.Icon,{data:Ir.Z,width:16})},Sr=function(e){if(null===e)return"Image is absent";if((0,Rn.S5)(e.error))return"Reference not found";if((0,Rn.Ne)(e.error))return"Reference is broken";switch(e.status){case O.ih.SUCCESS:return"Images match";case O.ih.STAGED:return"Image is staged";case O.ih.COMMITED:return"Image was committed";case O.ih.FAIL:return"Difference detected";case O.ih.UPDATED:return"Reference updated"}return"Failed to compare"};function yr(e){var t=e.image;return o.createElement("div",{className:lr.container},hr(t),o.createElement("span",{"data-qa":"assert-view-status"},Sr(t)))}const Tr={container:"zpJECOhq9qZd3bvl0Pdw","toolbar-container":"E6G546D3l4lfgSoA2pMl",toolbarContainer:"E6G546D3l4lfgSoA2pMl","accept-button":"duhqOxbJdunbXhlqw2xx regular-button from global, action-button",acceptButton:"duhqOxbJdunbXhlqw2xx regular-button from global, action-button","go-to-visual":"R_LOEH9XObHPRiJR4nml regular-button from global, action-button",goToVisual:"R_LOEH9XObHPRiJR4nml regular-button from global, action-button","buttons-container":"c3vmDPGU0o8ISP97chr3",buttonsContainer:"c3vmDPGU0o8ISP97chr3","diff-mode-container":"ELlBfFH2SqOCLQnFzAJq",diffModeContainer:"ELlBfFH2SqOCLQnFzAJq","diff-mode-switcher":"jQlVLqJv__6SYlybe_s1",diffModeSwitcher:"jQlVLqJv__6SYlybe_s1","diff-mode-select":"EnBKE_JkU1Cwk_eYZGMq",diffModeSelect:"EnBKE_JkU1Cwk_eYZGMq"};var Nr=n(54432);function br(e){return null===e?null:e.scrollHeight>e.clientHeight?e:br(e.parentNode)}var Mr=200;function Cr(e){var t=(0,c.useDispatch)(),n=(0,F.z)(),r=(0,s.s0)(),l=(0,s.UO)(),u=l.suiteId,m=l.stateName,p=(0,o.createRef)(),f=(0,o.useRef)(!1),E=(0,c.useSelector)((function(e){return e.view.diffMode})),g=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),v=(0,c.useSelector)((function(e){return e.staticImageAccepter.enabled})),I=(0,c.useSelector)((function(e){return e.running})),h=(0,c.useSelector)((function(e){return e.processing})),S=(0,c.useSelector)((function(e){return e.gui})),y=e.image.status===O.ih.FAIL&&e.image.diffImg,T=(0,c.useSelector)(tt),N=(0,c.useSelector)(rt),b=N&&T&&N.id===T.resultIds[T.resultIds.length-1],M=(0,sr.KD)({gui:S,image:e.image,isLastResult:b,isStaticImageAccepterEnabled:v}),C=function(e){t((0,w.setDiffMode)({diffModeId:e}))},A="".concat(null==N?void 0:N.parentId," ").concat(e.image.stateName);return(0,o.useEffect)((function(){if(p&&p.current&&"".concat(u," ").concat(m)===A&&f&&!1===f.current){f.current=!0;var e=br(p.current),t=p.current.getBoundingClientRect().top;null==e||e.scrollTo(0,t-Mr)}}),[]),o.createElement("div",{style:e.style,className:Tr.container,ref:p},e.image.status!==O.ih.SUCCESS&&o.createElement("div",{className:Tr.toolbarContainer},!y&&o.createElement(yr,{image:e.image}),y&&o.createElement("div",{className:Tr.diffModeContainer},o.createElement(i.SegmentedRadioGroup,{onUpdate:C,value:E,className:Tr.diffModeSwitcher},Object.values(O.nx).map((function(e){return o.createElement(i.SegmentedRadioGroup.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),o.createElement(i.Select,{className:Tr.diffModeSelect,label:"Diff Mode",value:[E],onUpdate:function(e){var t=(0,d.Z)(e,1)[0];return C(t)},multiple:!1},Object.values(O.nx).map((function(e){return o.createElement(i.Select.Option,{value:e.id,content:e.title,title:e.description,key:e.id})})))),o.createElement(i.Flex,{className:Tr.buttonsContainer,gap:2},o.createElement(i.Button,{view:"outlined",className:Tr.goToVisual,disabled:I||h,onClick:function(){r("/visual-checks/".concat(encodeURIComponent(A),"/").concat(null==N?void 0:N.attempt))},qa:"go-visual-button"},o.createElement(i.Icon,{data:a.Z}),"Go to Visual Checks"),g&&o.createElement(o.Fragment,null,M&&o.createElement(i.Button,{view:"action",className:Tr.acceptButton,disabled:I||h,onClick:function(){t(v?(0,w.staticAccepterUnstageScreenshot)([e.image.id]):(0,Nr.Ku)({imageIds:[e.image.id]}))}},o.createElement(i.Icon,{data:P.Z}),"Undo"),(0,sr.h3)(e.image)&&o.createElement(i.Button,{view:"action",className:Tr.acceptButton,disabled:I||h,onClick:function(){null==n||n.trackScreenshotsAccept(),t(v?(0,w.staticAccepterStageScreenshot)([e.image.id]):(0,Nr.Ro)({imageIds:[e.image.id]}))}},o.createElement(i.Icon,{data:Re.Z}),"Accept")))),o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackDataCorruption,null)},o.createElement(cr,{result:e.image})))}function wr(e){var t=e.items,n=e.itemId;return o.createElement(Hn,{id:n,list:t,status:"corrupted",mapItemDataToContentProps:function(){return{title:o.createElement("div",{className:Yn.stepContent},o.createElement("span",{className:Yn.stepTitle},"Couldn’t display this item: data is corrupted. See console for details.")),startSlot:o.createElement(On,null,o.createElement(bn.Z,null))}}})}function Or(e){var t=e.onItemClick,n=e.items,r=e.itemId,a=e.onMouseMove,i=e.isActive,c=e.className,s=n.structure.itemsById[r];if(s.type===xn.Action){var l=((0,Rn.KM)(s.status)||(0,Rn.R6)(s.status))&&!s.isGroup,u=s.repeat&&s.hasChildren,d=-1===s.repeat;return o.createElement(Hn,{className:c,id:r,key:r,list:n,status:l?"error":void 0,onItemClick:t,onMouseMove:a,mapItemDataToContentProps:function(){return{title:o.createElement("div",{className:Yn.stepContent},o.createElement("span",{className:Yn.stepTitle},s.title),o.createElement(_n,{args:s.args,isFailed:l,isActive:i}),s.repeat&&s.repeat>0&&o.createElement("div",{className:Yn.stepRepeat},"×",s.repeat),void 0!==s.duration&&o.createElement("span",{className:E()(Yn.stepDuration,d&&Yn.stepDurationAvg)},s.duration," ms")),startSlot:o.createElement(On,null,u?o.createElement(Mn.Z,null):(0,Dn.XF)(s.status))}},isActive:i})}if(s.type===xn.Attachment)return o.createElement(Hn,{id:r,key:r,list:n,onItemClick:t,mapItemDataToContentProps:function(){return{title:s.title,startSlot:o.createElement(On,null,o.createElement(Cn.Z,null))}}});if(s.type===xn.ErrorInfo){var m=n.structure.itemsState[r].indentation;return o.createElement(Jt,(0,ln.Z)({className:Yn.errorInfo,key:r},s,{style:{marginLeft:"".concat(24*m,"px")}}))}if(s.type===xn.SingleImage)return o.createElement(Wn.w,{containerClassName:Yn.pageScreenshot,image:s.image,key:r});if(s.type===xn.AssertViewResult)return o.createElement(Cr,{key:r,image:s.result,style:Zn(n,r)});throw new Error("Unknown step type: ".concat(s.type))}var Ar=(0,c.connect)((function(e){var t;return{resultId:null!==(t=nt(e))&&void 0!==t?t:"",testSteps:Bn(e),stepsExpandedById:Gn(e)}}),(function(e){return{actions:(0,Sn.bindActionCreators)(w,e)}}))((function(e){if(0===e.testSteps.length)return null;var t=(0,c.useDispatch)(),n=(0,s.s0)(),r=(0,c.useSelector)(rt),a=(0,c.useSelector)((function(e){return e.app.suitesPage.currentStepId})),i=(0,c.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),l=(0,Nn.Lm)({items:e.testSteps,withExpandedState:!0,controlledState:{expandedById:e.stepsExpandedById}});(0,o.useEffect)((function(){t((0,w.setCurrentStep)({stepId:null}))}),[e.resultId]);var d=(0,o.useCallback)((function(a,i){if(void 0===e.stepsExpandedById[a]){if(i.type!==xn.Action||void 0===i.startTime||void 0===i.duration)return;t((0,w.setCurrentStep)({stepId:a})),t((o={time:i.startTime+i.duration},{type:At.Z.SNAPSHOTS_PLAYER_GO_TO_TIME,payload:o}))}var o,c;(e.actions.setStepsExpandedState({resultId:e.resultId,expandedById:Object.assign({},e.stepsExpandedById,(0,u.Z)({},a,!e.stepsExpandedById[a]))}),i.type===xn.Action)&&n("/"+["suites",null==r?void 0:r.parentId,i.args[0],null==r||null===(c=r.attempt)||void 0===c?void 0:c.toString()].map(encodeURIComponent).join("/"))}),[l,e.actions,e.stepsExpandedById]),m=(0,c.useSelector)((function(e){return e.app.snapshotsPlayer})),p=(0,o.useCallback)((function(e){if(e.type===xn.Action&&void 0!==e.startTime&&void 0!==e.duration){var n=e.startTime,r=e.startTime+e.duration;n===m.highlightStartTime&&r===m.highlightEndTime||t(Dt({startTime:n,endTime:r,isActive:!0}))}}),[m]),f=(0,o.useCallback)((function(){t(Dt({startTime:m.highlightStartTime,endTime:m.highlightEndTime,isActive:!1}))}),[m]);return o.createElement(Nn.lW,{className:e.className,extraProps:{onMouseLeave:function(){return f()}}},l.structure.visibleFlattenIds.map((function(e,t){return o.createElement(gn.Boundary,{key:e,fallback:o.createElement(wr,{items:l,itemId:e})},o.createElement(Or,{className:E()(Yn.step,(0,u.Z)({},Yn["step--dimmed"],i&&i!==e)),key:e,isActive:e===a,onItemClick:function(){return d(e,l.structure.itemsById[e])},items:l,itemId:e,index:t,onMouseMove:function(){return p(l.structure.itemsById[e])}}))})))})),Dr=n(63569),_r=n(81110),Lr=n(80212),xr=n.n(Lr);const Rr={"player-time":"PGVTINMC30xx3pwEyDIl",playerTime:"PGVTINMC30xx3pwEyDIl","timeline-container":"bzu8kux1Z5_pbYnOt81F",timelineContainer:"bzu8kux1Z5_pbYnOt81F","player-progress-container":"Nq2cY4Z2ddXe_zmIH7aZ",playerProgressContainer:"Nq2cY4Z2ddXe_zmIH7aZ","live-timeline-blinking":"PiYBmihE_AMeirVcORzG",liveTimelineBlinking:"PiYBmihE_AMeirVcORzG","live-blinking":"sopPhLNBVpNxhqA2gx1c",liveBlinking:"sopPhLNBVpNxhqA2gx1c","player-progress":"jyPgbhNxykmFOteJE7uc",playerProgress:"jyPgbhNxykmFOteJE7uc","player-progress-left-cap":"hziV8kcmxzg9eTbka7sq",playerProgressLeftCap:"hziV8kcmxzg9eTbka7sq","player-progress-right-cap":"lNONR87pqiYe4Tlmfa7I",playerProgressRightCap:"lNONR87pqiYe4Tlmfa7I","player-progress-knob-bg":"UdUCVImfYT1syWUtGBOq",playerProgressKnobBg:"UdUCVImfYT1syWUtGBOq","is-live":"vbvxKvSCGbT8D7zN2jIA",isLive:"vbvxKvSCGbT8D7zN2jIA","highlight-region":"tGkTBk96AqIcNPzLn2C9",highlightRegion:"tGkTBk96AqIcNPzLn2C9","live-badge-container":"bPYFoD5HvhY4TzjGXA0W",liveBadgeContainer:"bPYFoD5HvhY4TzjGXA0W","player-progress-knob":"DiojHKjEFP_rf_8y9d9V",playerProgressKnob:"DiojHKjEFP_rf_8y9d9V","player-progress-knob-bg-left":"xGpH_2yveAOaGoW3NY85",playerProgressKnobBgLeft:"xGpH_2yveAOaGoW3NY85","player-progress-knob-bg-right":"VEBIldLMow7DoJch26z0",playerProgressKnobBgRight:"VEBIldLMow7DoJch26z0","progress-pulse":"aECYBcTJQQlkczuDWrBi",progressPulse:"aECYBcTJQQlkczuDWrBi",container:"rvIyg0zPEV6UrSexvW05","is-loading":"PiVMbOrsRBK4tr9SKjsc",isLoading:"PiVMbOrsRBK4tr9SKjsc","is-highlight-active":"iAd6SiZfW9JW3Ubwhan2",isHighlightActive:"iAd6SiZfW9JW3Ubwhan2","is-playing":"p5dB0nq96x1D0QmX30gM",isPlaying:"p5dB0nq96x1D0QmX30gM","is-scrubbing":"l5eHS9MLAV3GTlx0LMFw",isScrubbing:"l5eHS9MLAV3GTlx0LMFw","is-hovering":"DkIHMtR_DYAvJlm8CaH6",isHovering:"DkIHMtR_DYAvJlm8CaH6","is-snapshot-missing":"YRZnvPkmYHGQlpKa8utF",isSnapshotMissing:"YRZnvPkmYHGQlpKa8utF"};var kr=function(e){return xr()("%M:%S",new Date(e))};function jr(e){var t,n=e.totalTime,r=e.currentTime,a=e.onScrubStart,i=e.onScrub,c=e.onScrubEnd,s=e.onHover,l=e.onMouseLeave,m=e.isLive,p=e.downloadProgress,f=e.isLoading,g=e.isPlaying,v=e.highlightState,I=e.playerStartTimestamp,h=void 0===I?0:I,S=e.isSnapshotMissing,y=void 0!==S&&S,T=(0,o.useState)(!1),N=(0,d.Z)(T,2),b=N[0],M=N[1],C=(0,o.useState)(!1),w=(0,d.Z)(C,2),O=w[0],A=w[1],_=(0,o.useState)(0),L=(0,d.Z)(_,2),x=L[0],R=L[1],k=(0,o.useState)(!1),j=(0,d.Z)(k,2),P=j[0],Z=j[1],z=(0,o.useRef)(null),U=function(e){if(!z.current||0===n)return 0;var t=z.current.getBoundingClientRect(),r=e.clientX-t.left;return Math.max(0,Math.min(1,r/t.width))*n};(0,o.useEffect)((function(){b||O||R(r)}),[r,b,O]),(0,o.useEffect)((function(){var e;return b&&((e=document.createElement("style")).innerHTML="* { user-select: none !important; }",document.head.appendChild(e)),function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}),[b]),(0,o.useEffect)((function(){function e(e){if(b){Z(!0);var t=U(e);R(t),null==i||i(t)}}function t(e){if(b){var t=U(e);R(t),Z(!1),M(!1),c(t)}}return b&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[b,n]);var B=v.highlightStartTime-h,G=v.highlightEndTime-h,F=(0,D.clamp)((O&&!b?r:x)/n*100,0,100)*Number(!y),V=v.isActive?(0,D.clamp)((G-B)/n*100,0,100)*Number(!y):0,H=(0,D.clamp)((v.isActive?B:x)/n*100,0,100)*Number(!y),Y=(0,D.clamp)((v.isActive?G:x)/n*100,0,100)*Number(!y),W=E()(Rr.container,(t={},(0,u.Z)(t,Rr["is-live"],m),(0,u.Z)(t,Rr["is-loading"],f),(0,u.Z)(t,Rr["is-highlight-active"],v.isActive),(0,u.Z)(t,Rr["is-playing"],g),(0,u.Z)(t,Rr["is-hovering"],O),(0,u.Z)(t,Rr["is-scrubbing"],b&&P),(0,u.Z)(t,Rr["is-snapshot-missing"],y),t));return o.createElement("div",{className:W},o.createElement("div",{className:Rr.playerTime},y?"––:––":kr(x)),o.createElement("div",{className:Rr.timelineContainer,ref:z,onMouseDown:function(e){var t=U(e);R(t),M(!0),a()},onMouseMove:function(e){if(!b){var t=U(e);null==s||s(t),R(t)}},onMouseEnter:function(){A(!0)},onMouseLeave:function(){A(!1),b||R(r),null==l||l()}},o.createElement("div",{className:E()(Rr.playerProgressContainer,(0,u.Z)({},Rr.liveTimelineBlinking,m))},o.createElement("div",{className:Rr.playerProgressLeftCap}),o.createElement("div",{className:Rr.playerProgressRightCap}),o.createElement(o.Fragment,null,o.createElement("div",{className:Rr.playerProgress,style:{width:"".concat((f?p:F).toFixed(2),"%")}},o.createElement("div",{className:Rr.progressPulse})),o.createElement("div",{className:E()(Rr.playerProgressKnobBg,Rr.playerProgressKnobBgLeft),style:{left:"calc(".concat(H.toFixed(2),"% - 2px)")}},o.createElement("div",{className:Rr.playerProgressKnob})),o.createElement("div",{className:Rr.highlightRegion,style:{left:"calc(".concat(H.toFixed(2),"%)"),width:"".concat(V.toFixed(2),"%")}}),o.createElement("div",{className:E()(Rr.playerProgressKnobBg,Rr.playerProgressKnobBgRight),style:{left:"calc(".concat(Y.toFixed(2),"% - 2px)")}},o.createElement("div",{className:Rr.playerProgressKnob})))),o.createElement("div",{className:Rr.liveBadgeContainer},o.createElement("span",null,"LIVE"))),o.createElement("div",{className:Rr.playerTime},y?"––:––":kr(n)))}var Pr=n(68079),Zr=n(13824),zr=n(1540),Ur=n(30266),Br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.querySelector("iframe")},n=(0,o.useState)(1),r=(0,d.Z)(n,2),a=r[0],i=r[1];return(0,o.useEffect)((function(){if(e){var n=new ResizeObserver((function(n){if(0!==n.length){var r=n[0],a=r.contentRect.width,o=r.contentRect.height,c=t(e);if(c){var s=c.clientWidth,l=c.clientHeight,u=Math.min(a/s,o/l,1);i(isNaN(u)?1:u)}}}));return n.observe(e),function(){n.disconnect()}}}),[e]),a},Gr=function(e,t){return new Promise((function(n,r){(0,Zr.Ri)(new Uint8Array(e),(function(e,a){if(e)return r(e);var i=a["snapshots.json"];if(!i)return r(new Error("Couldn't find snapshots.json in ".concat(t,". Most likely the snapshots file is corrupted.")));var o=new TextDecoder("utf-8").decode(i).split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return JSON.parse(e)}));n(o)}))}))},Fr=function(){var e=(0,v.Z)(h().mark((function e(t,n){var r,a,i,o,c,s,l,u,d,m,p,f,E,g,v,I,S,y;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.abortSignal,i=n.onDownloadProgress,e.next=3,fetch(t,{signal:a});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error(["Failed to fetch zip with snapshots by URL: ".concat(t,"."),"Received status: ".concat(o.statusText,".")].join("\n\n"));case 6:if(c=o.headers.get("Content-Length"),s=null,c&&(l=parseInt(c,10),!isNaN(l)&&l>0&&(s=l)),u=null===(r=o.body)||void 0===r?void 0:r.getReader()){e.next=18;break}return e.next=13,o.blob();case 13:return d=e.sent,e.next=16,d.arrayBuffer();case 16:return m=e.sent,e.abrupt("return",Gr(m,t));case 18:p=0,f=[];case 20:return e.next=23,u.read();case 23:if(E=e.sent,g=E.done,v=E.value,!g){e.next=28;break}return e.abrupt("break",31);case 28:v&&(f.push(v),p+=v.length,s&&i&&(I=p/s*100,i(Math.min(I,100)))),e.next=20;break;case 31:return S=new Blob(f),e.next=34,S.arrayBuffer();case 34:return y=e.sent,e.abrupt("return",Gr(y,t));case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vr=function(e,t){var n=(0,zr.T)(),r=(0,o.useRef)([]),a=(0,o.useRef)(!1),i=(0,o.useRef)(!1),c=function(n){if(e)try{var i,o=JSON.parse(n.data),c=o.context,s=o.data.rrwebSnapshots;if(!(0,D.isEqual)(c.testPath,e.suitePath)||c.browserId!==e.name)return;if(a.current)t(s);else(i=r.current).push.apply(i,(0,Pr.Z)(s))}catch(e){console.error("Error parsing snapshot event:",e)}};return(0,o.useEffect)((function(){if(e&&n){n.addEventListener(Ur.JX.DOM_SNAPSHOTS,c);var o=new URLSearchParams({testPath:JSON.stringify(e.suitePath),browserId:e.name}).toString();return fetch("/running-test-data?".concat(o)).then((function(e){if(!e.ok)throw new Error("Failed to fetch snapshots: ".concat(e.statusText));return e.json()})).then((function(e){var n=e.rrwebSnapshots,o=n[n.length-1],c=r.current.findIndex((function(e){return e.seqNo===o.seqNo}))+1;r.current=[].concat((0,Pr.Z)(n),(0,Pr.Z)(r.current.slice(c))),i.current=!0,a.current&&(t(r.current),r.current=[])})),function(){null==n||n.removeEventListener(Ur.JX.DOM_SNAPSHOTS,c)}}}),[e,n,t]),(0,o.useCallback)((function(){a.current=!0,i.current&&(t(r.current),r.current=[])}),[t])};const Hr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1IDE1Ljc1VjEwLjI0MjZDMjUgOS40NDY5OSAyNC42ODM5IDguNjgzOTMgMjQuMTIxMyA4LjEyMTMyTDE4Ljg3ODcgMi44Nzg2OEMxOC4zMTYxIDIuMzE2MDcgMTcuNTUzIDIgMTYuNzU3NCAySDdDNS4zNDMxNSAyIDQgMy4zNDMxNSA0IDVWMjUuNUM0IDI3LjE1NjkgNS4zNDMxNSAyOC41IDcgMjguNUgxNC41IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE3LjUgMi41VjYuNUMxNy41IDguMTU2ODUgMTguODQzMSA5LjUgMjAuNSA5LjVIMjQuNSIgc3Ryb2tlPSJva2xjaCgwLjcwOCAwIDApIiBzdHJva2Utd2lkdGg9IjEuMyIvPgo8Y2lyY2xlIGN4PSIyMiIgY3k9IjI0IiByPSI1LjM1IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIi8+CjxwYXRoIGQ9Ik0yMC41ODU5IDI1LjQxNDFMMjMuNDE0NCAyMi41ODU2IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTIwLjU4NTQgMjIuNTg1OUwyMy40MTM5IDI1LjQxNDQiIHN0cm9rZT0ib2tsY2goMC43MDggMCAwKSIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K";var Yr=function(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:14,height:14},o.createElement("path",{d:"M13.5,10.16c1.66-.96,1.66-3.37,0-4.33L5,.92C3.33-.04,1.25,1.16,1.25,3.08v9.83c0,1.93,2.09,3.13,3.75,2.16l8.5-4.92Z",fill:"#000",fillRule:"evenodd"}))};const Wr={dot:"ceMG0OqTAEDMZ0jgWPXt"};function Qr(e){var t=e.className;return o.createElement("div",{className:E()(Wr.dot,t)})}const Kr={"replayer-root-container":"NbKVbzSRqWM8G6S1fROw",replayerRootContainer:"NbKVbzSRqWM8G6S1fROw","is-loading":"qWfKmXBELvh9DHH8JBXw",isLoading:"qWfKmXBELvh9DHH8JBXw","replayer-container":"GPemGFV3uUMPFrex7i7U",replayerContainer:"GPemGFV3uUMPFrex7i7U","loading-container":"sbergc10lI4hkd2QiJYu",loadingContainer:"sbergc10lI4hkd2QiJYu","control-button":"X7Pbc8SPuMl2dAr6CzuU",controlButton:"X7Pbc8SPuMl2dAr6CzuU","is-live":"vFUtmK469a2xtWP2iXYE",isLive:"vFUtmK469a2xtWP2iXYE","buttons-container":"Bp08u6h9mX1gplh5q_iZ",buttonsContainer:"Bp08u6h9mX1gplh5q_iZ","player-time":"E4uQPHKSmr3SVjSfQSUg",playerTime:"E4uQPHKSmr3SVjSfQSUg","replayer-container-centered":"Uymy4Bu8jwJP4P4xchw2",replayerContainerCentered:"Uymy4Bu8jwJP4P4xchw2","line-horizontal":"U0GoIzBbte5AdHdS6CUg",lineHorizontal:"U0GoIzBbte5AdHdS6CUg","line-horizontal-top":"I4ohRrxHQ6wDgpdPqntK",lineHorizontalTop:"I4ohRrxHQ6wDgpdPqntK","line-horizontal-bottom":"h75yRt7F4EUINJoE8tth",lineHorizontalBottom:"h75yRt7F4EUINJoE8tth","line-vertical":"Hu0naOEXTBOxtEoEgqo7",lineVertical:"Hu0naOEXTBOxtEoEgqo7","line-vertical-left":"K_2UzSKmCZE5Hy7dpaiR",lineVerticalLeft:"K_2UzSKmCZE5Hy7dpaiR","line-vertical-right":"aYwlPbz6P31rFgmIDBd4",lineVerticalRight:"aYwlPbz6P31rFgmIDBd4","play-pause-button":"GV_dOzjPmro6LORIdpki",playPauseButton:"GV_dOzjPmro6LORIdpki","play-pause-icon":"ZLU1JMwgCtqeH2wG5QWf",playPauseIcon:"ZLU1JMwgCtqeH2wG5QWf","play-pause-icon-visible":"N9ISyhug_gbANsqtccw0",playPauseIconVisible:"N9ISyhug_gbANsqtccw0",loader:"BuwPIpfujcI6amuCktti",l3:"HquGgdrKocaDk7Z3hCnQ","snapshot-missing-container":"x87oyxXco2VFS0qH9j5d",snapshotMissingContainer:"x87oyxXco2VFS0qH9j5d","is-snapshot-missing":"W_2EGwlgHjdnY4OdJkl4",isSnapshotMissing:"W_2EGwlgHjdnY4OdJkl4","player-progress-left-cap":"FHnCZ99QUPR_NwqZh8Py",playerProgressLeftCap:"FHnCZ99QUPR_NwqZh8Py","settings-select-option-group":"WWtmUnSyibQvJM6yqdwn",settingsSelectOptionGroup:"WWtmUnSyibQvJM6yqdwn","settings-button":"MJ5f2OPy69VBOTvHnsrQ",settingsButton:"MJ5f2OPy69VBOTvHnsrQ","settings-changed-dot":"Yf4YdVXiaexe_6AIlGuD",settingsChangedDot:"Yf4YdVXiaexe_6AIlGuD"};function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ea=[{label:"Speed",data:{hint:o.createElement("span",null,o.createElement("b",{style:{fontWeight:600}},"Note:")," transitions or animations will still play at original speed.")},options:[{value:"0.5",content:"0.5x"},{value:"1",content:"1x"},{value:"1.5",content:"1.5x"},{value:"2",content:"2x"},{value:"4",content:"4x"}]}];function ta(e){var t;return 5===e.type&&"color-scheme-change"===(null==e||null===(t=e.data)||void 0===t?void 0:t.tag)}function na(e){if(!ta(e))return null;try{var t=e.data.payload.colorScheme;return"light"===t||"dark"===t?t:null}catch(e){return null}}var ra=10,aa=function(e,t,n){var r,a=Jr(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.data.type===xn.Action&&i.data.startTime&&i.data.duration){var o=i.data.startTime-t,c=i.data.startTime-t+i.data.duration;if(n>o&&n<c)return i}}}catch(e){a.e(e)}finally{a.f()}return null};function ia(){var e,t=(0,c.useSelector)(rt),n=(0,o.useState)(null),r=(0,d.Z)(n,2),a=r[0],s=r[1],l=(0,o.useRef)(null),m=(0,o.useRef)(null),p=(0,o.useRef)([]),f=(0,o.useState)("light"),g=(0,d.Z)(f,2),v=g[0],I=g[1],h=(0,o.useState)(1),S=(0,d.Z)(h,2),y=S[0],T=S[1],N=(0,o.useState)(1200),b=(0,d.Z)(N,2),M=b[0],C=b[1],A=(0,o.useState)(800),D=(0,d.Z)(A,2),_=D[0],L=D[1],x=(0,o.useRef)(!1),R=(0,o.useState)({height:400,width:700}),k=(0,d.Z)(R,2),j=k[0],P=k[1],Z=(0,o.useState)(0),z=(0,d.Z)(Z,2),U=z[0],B=z[1],G=(0,o.useState)(!1),V=(0,d.Z)(G,2),H=V[0],Y=V[1],W=(0,o.useState)(!1),Q=(0,d.Z)(W,2),K=Q[0],X=Q[1],q=(0,o.useRef)(!1),J=(0,o.useState)(0),$=(0,d.Z)(J,2),ee=$[0],te=$[1],ne=(0,o.useRef)(null),re=(0,c.useDispatch)(),ae=(0,F.z)();(0,o.useEffect)((function(){null==ae||ae.trackFeatureUsage({featureName:"Time Travel Player Render"})}),[]);var ie=(0,o.useRef)(null),oe=(0,c.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),ce=(0,c.useSelector)(Bn),se=(0,o.useState)(!1),le=(0,d.Z)(se,2),ue=le[0],de=le[1],me=(0,o.useState)(0),pe=(0,d.Z)(me,2),fe=pe[0],Ee=pe[1],ge=(0,o.useRef)(null),ve=function(){ne.current&&(cancelAnimationFrame(ne.current),ne.current=null)},Ie=function(){ne.current&&(q.current=!0),Y(!1),ve(),function(){if(H){var e=ce.findLast((function(e){return e.data.type===xn.Action}));e&&re((0,w.setCurrentStep)({stepId:e.id}))}}()},he=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.current&&(l.current.enableInteract(),l.current.on("resize",(function(t){var n=t;L(n.height),C(n.width),e&&!x.current&&(x.current=!0,P({width:n.width,height:n.height}))})),l.current.on("finish",Ie),B(e?0:l.current.getMetaData().totalTime),te(0))}),[x]),Se=(0,o.useCallback)((function(){var e;null===(e=l.current)||void 0===e||e.destroy(),l.current=null}),[]);(0,o.useEffect)((function(){x.current=!1,Y(!1),ve(),q.current=!1,X(!1)}),[null==t?void 0:t.id]);var Te=(0,o.useCallback)((function(e){if(l.current){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;l.current.addEvent(r)}}catch(e){n.e(e)}finally{n.f()}if("live"!==l.current.service.state.value)if(e.length>0)try{l.current.play(Date.now()-e[0].timestamp)}catch(e){try{l.current.startLive()}catch(e){}}else l.current.startLive()}}),[]),Ne=Vr(t,Te),be=(0,o.useCallback)((function(e){var t=na(e);t&&I(t)}),[]),Me=(0,o.useCallback)((function(e){if(e&&null!=e&&e[1]){var t=Number(e[1]);T(t),l.current&&l.current.setConfig({speed:t})}}),[]);(0,o.useEffect)((function(){if(t&&a){if(t.status===O.ih.RUNNING)l.current=new _r.x([],{liveMode:!0,root:a,speed:y}),he(!0),Ne(),l.current.on("custom-event",be);else{var e,n=null==t||null===(e=t.attachments)||void 0===e?void 0:e.find((function(e){return e.type===et.Snapshot}));if(!n)return;x.current||P({width:n.maxWidth,height:n.maxHeight}),m.current=new AbortController,de(!0),Ee(0);var r=new Date;Fr(n.path,{abortSignal:m.current.signal,onDownloadProgress:function(e){(new Date).getTime()-r.getTime()>500&&(Ee(e),null===ge.current&&(ge.current=(new Date).getTime()))}}).then((function(e){p.current=e.filter(ta),l.current=new _r.x(e,{liveMode:!1,root:a,speed:y}),he(),l.current.on("custom-event",be),function(){var e=function(){de(!1),ge.current=null};if(null!==ge.current){var t=(new Date).getTime()-ge.current;t<1e3?setTimeout(e,1e3-t):e()}else e()}()})).catch((function(e){de(!1),ge.current=null,X(!0),console.warn("Failed to load snapshots",e)}))}return function(){var e;null===(e=m.current)||void 0===e||e.abort(),m.current=null,Se()}}}),[t,a,Ne,he,Se,be]);var Ce=(0,o.useCallback)((function(e){null!==e&&s(e)}),[]),we=Br(a),Oe=(0,o.useCallback)((function(){K||(H&&l.current&&(l.current.pause(),Y(!1),ve(),q.current=!1),re((0,w.setCurrentHighlightStep)({stepId:null})))}),[H,K]),Ae=(0,o.useCallback)((function(e){if(!K&&l.current){var t=l.current.getMetaData().startTime,n=aa(ce,t,e);n&&n.id!==ie.current&&(ie.current=n.id,re((0,w.setCurrentStep)({stepId:n.id})))}}),[ce,K]),De=(0,o.useCallback)((function(e){if(!K&&(te(e),l.current)){var t=p.current.findLast((function(t){return ta(t)&&l.current&&t.timestamp<=l.current.getMetaData().startTime+e}));if(t){var n=na(t);n&&I(n)}l.current.pause(e);var r=l.current.getMetaData().startTime,a=aa(ce,r,e);a&&a.id!==ie.current&&(ie.current=a.id,re((0,w.setCurrentStep)({stepId:a.id})))}}),[ce,K]),_e=(0,o.useCallback)((function(e){if(!K&&l.current){q.current=!1;var t=l.current.getMetaData().startTime,n=aa(ce,t,e);n&&n.id!==oe&&re((0,w.setCurrentHighlightStep)({stepId:n.id}))}}),[ce,oe,K]),Le=(0,o.useCallback)((function(){K||re((0,w.setCurrentHighlightStep)({stepId:null}))}),[re,K]),xe=(0,c.useSelector)((function(e){return e.app.snapshotsPlayer}));(0,o.useEffect)((function(){var e,t;if(!K)if(xe.isActive)null===(e=l.current)||void 0===e||e.pause(xe.highlightEndTime-(null===(t=l.current)||void 0===t?void 0:t.getMetaData().startTime)),Y(!1),ve();else if(!H){var n;null===(n=l.current)||void 0===n||n.pause(ee>0?ee:ra)}}),[xe,K]),(0,o.useEffect)((function(){if(!K&&l.current){var e=Math.max(xe.goToTime-l.current.getMetaData().startTime,ra);te(e),l.current.pause(e)}}),[xe.goToTime,K]);var Re={aspectRatio:"".concat(j.width," / ").concat(j.height),maxWidth:"".concat(j.width,"px"),maxHeight:"calc(100vh - var(--sticky-header-height) - 150px)",colorScheme:v},ke={aspectRatio:"".concat(M," / ").concat(_),maxWidth:"min(".concat(M,"px, 100%)"),maxHeight:"100%",transition:"opacity .5s ease",position:"absolute",height:_>M?"100%":"auto",width:_>M?"auto":"100%"},je=qr(qr({},ke),{},{aspectRatio:void 0}),Pe=(null==t?void 0:t.status)===O.ih.RUNNING,Ze=0;try{var ze,Ue;Ze=null!==(ze=null===(Ue=l.current)||void 0===Ue?void 0:Ue.getMetaData().startTime)&&void 0!==ze?ze:0}catch(e){}return o.createElement("div",{className:E()((e={},(0,u.Z)(e,Kr["is-loading"],ue),(0,u.Z)(e,Kr["is-live"],Pe),(0,u.Z)(e,Kr["is-snapshot-missing"],K),e))},o.createElement("div",{className:Kr.replayerRootContainer,style:{"--scale-factor":we,width:"".concat(j.width,"px"),maxWidth:"100%"}},o.createElement("div",{className:Kr.replayerContainerCentered,style:Re},o.createElement("div",{className:Kr.replayerContainerCentered,style:ke},o.createElement("div",{className:E()(Kr.lineHorizontal,Kr.lineHorizontalTop)}),o.createElement("div",{className:E()(Kr.lineHorizontal,Kr.lineHorizontalBottom)}),o.createElement("div",{className:E()(Kr.lineVertical,Kr.lineVerticalLeft)}),o.createElement("div",{className:E()(Kr.lineVertical,Kr.lineVerticalRight)}),o.createElement("div",{className:Kr.loadingContainer},o.createElement("span",null,"Loading snapshots data"),o.createElement("div",{className:Kr.loader})),K&&o.createElement("div",{className:Kr.snapshotMissingContainer},o.createElement("img",{src:Hr,alt:"icon",width:44,height:44}),o.createElement("span",null,"Snapshot file is missing")),o.createElement("div",{className:Kr.replayerContainer,ref:Ce,style:je},o.createElement("div",{style:{width:"100vw"}}))))),o.createElement("div",{className:Kr.buttonsContainer},o.createElement(i.Button,{onClick:function(){if(H){var e;null===(e=l.current)||void 0===e||e.pause(),Y(!1),ve()}else{var t,n;if(Y(!0),q.current)null===(t=l.current)||void 0===t||t.play();else null===(n=l.current)||void 0===n||n.play(ee);q.current=!1,ve(),ne.current=requestAnimationFrame((function e(){if(l.current){var t=l.current.getCurrentTime(),n=l.current.getMetaData();te(t);var r=l.current.getMetaData().startTime,a=aa(ce,r,t);a&&a.id!==ie.current&&(ie.current=a.id,re((0,w.setCurrentStep)({stepId:a.id}))),t<n.totalTime&&(ne.current=requestAnimationFrame(e))}}))}},view:"flat",className:E()(Kr.playPauseButton,Kr.controlButton),disabled:K},o.createElement("div",{className:E()(Kr.playPauseIcon,(0,u.Z)({},Kr.playPauseIconVisible,H))},o.createElement(i.Icon,{data:Dr.Z,size:14})),o.createElement("div",{className:E()(Kr.playPauseIcon,(0,u.Z)({},Kr.playPauseIconVisible,!H))},o.createElement(Yr,null))),o.createElement(jr,{currentTime:ee,totalTime:U,onScrubStart:Oe,onScrub:Ae,onScrubEnd:De,onHover:_e,onMouseLeave:Le,isLive:Pe,isLoading:ue,downloadProgress:fe,isPlaying:H,playerStartTimestamp:Ze,highlightState:xe,isSnapshotMissing:K}),o.createElement(i.Select,{value:[y.toString()],disabled:K,renderControl:function(e){var t=e.ref,n=e.triggerProps;return o.createElement(i.Button,{disabled:K,view:"flat",className:E()(Kr.controlButton,Kr.settingsButton),onClick:n.onClick,onKeyDown:n.onKeyDown,ref:t,title:"Playback Speed: ".concat(y,"x")},1!==y&&o.createElement(Qr,{className:Kr.settingsChangedDot}),o.createElement(ye.Z,{width:16,height:16}))},renderOptionGroup:function(e){var t,n;return o.createElement("div",{className:Kr.settingsSelectOptionGroup},o.createElement("span",null,e.label),(null===(t=e.data)||void 0===t?void 0:t.hint)&&o.createElement(i.HelpMark,{popoverProps:{placement:"top-end"}},null===(n=e.data)||void 0===n?void 0:n.hint))},popupPlacement:"top-end",popupWidth:100,multiple:!0,onUpdate:Me,options:ea})))}const oa="Tug1x_GRwirD5182JffI";var ca=function(){return o.createElement("div",{className:oa},o.createElement(i.Spin,{size:"xs",style:{marginRight:"4px"}}),"Test is running")};const sa={"steps-container":"UZ1foLEpLa_x1J4sMzHD",stepsContainer:"UZ1foLEpLa_x1J4sMzHD","steps-list-container":"R2V6Ql3t4TdzyIHdWk5w",stepsListContainer:"R2V6Ql3t4TdzyIHdWk5w","empty-steps-container":"EdwOvifO8vCoZmgOyVGt",emptyStepsContainer:"EdwOvifO8vCoZmgOyVGt",sticky:"_6ilQ6NIhc2LUkd5wel3",hidden:"Z9ybdZQbCBlLyGSkuR_b","collapsible-section__body":"mlO_dNqDOMn4OwXY1lhh",collapsibleSectionBody:"mlO_dNqDOMn4OwXY1lhh"};function la(){var e=(0,c.useSelector)(rt),t=(0,c.useSelector)(Bn),n=(0,c.useSelector)((function(e){return e.running})),r=(0,c.useSelector)(it),a=(0,c.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),i=r&&a;return o.createElement(o.Fragment,null,o.createElement(yn,{id:"actions",title:"Actions"},o.createElement("div",{className:sa.stepsContainer},t.length>0?o.createElement(gn.Boundary,{watchFor:[e],fallback:o.createElement(gn.FallbackDataCorruption,null)},o.createElement(Ar,{className:sa.stepsListContainer})):n?o.createElement(ca,null):o.createElement("div",{className:sa.emptyStepsContainer},"No steps to show"),r&&o.createElement("div",{className:E()(sa.sticky,!i&&sa.hidden)},o.createElement(ia,null)))),o.createElement(yn,{id:"metadata",title:"Metadata"},e&&o.createElement("div",{className:sa["collapsible-section__body"]},o.createElement(Tn.o,{resultId:e.id}))))}var ua=n(45037);const da={card:"zxOTbiSaaivowZnka3tD",card__title:"yAgFRUJpcXIwy7yE1SNl",cardTitle:"yAgFRUJpcXIwy7yE1SNl","tree-view-card":"Cnn2YfdSyzs0EmDBWIyo",treeViewCard:"Cnn2YfdSyzs0EmDBWIyo","filters-container":"TVTJzgV9yT9uUJqOjiC2",filtersContainer:"TVTJzgV9yT9uUJqOjiC2","tabs-container":"BzHzvdypNtRWGdFdCEzr",tabsContainer:"BzHzvdypNtRWGdFdCEzr","toolbar-container":"bDBgDUEiUl4CbjxMGxGA",toolbarContainer:"bDBgDUEiUl4CbjxMGxGA","skeleton-container":"cO8n4kZndohwLUm_d5PZ",skeletonContainer:"cO8n4kZndohwLUm_d5PZ","tree-view-container":"KlZiCV1nIM3kRzgpWVEo",treeViewContainer:"KlZiCV1nIM3kRzgpWVEo"};var ma=n(79117),pa=function(e){return o.createElement(i.Tooltip,{content:e.tooltip,placement:"top",openDelay:0},o.createElement(i.Button,{size:"s",selected:e.selected,onClick:e.onClick,view:"flat",className:e.className,qa:e.qa},e.children))};const fa="zOnAYvs_4rRrAWx9E99n",Ea="Pg9tdO8nzAKNoG_2cz_z",ga="meYo7lmvHyk4PZK6p78f",va="orPcQftUNjsSserBi6Gt";var Ia=function(){var e,t=(0,s.TH)();return(e=t.pathname).startsWith("/visual-checks")?Qe.T3.visualChecksPage:(e.startsWith("/suites"),Qe.T3.suitesPage)},ha=n(98645),Sa=function(){var e=(0,c.useDispatch)(),t=Ia(),n=(0,c.useSelector)((function(e){return e.app[t].nameFilter})),r=(0,c.useSelector)((function(e){return e.app[t].useRegexFilter})),a=(0,c.useSelector)((function(e){return e.app[t].useMatchCaseFilter})),s=(0,o.useState)(n),l=(0,d.Z)(s,2),u=l[0],m=l[1],p=(0,o.useCallback)((0,D.debounce)((function(n){(0,ha.yC)(n,a,r,t,!1,e)}),500,{maxWait:3e3}),[a,r,t]),f=(0,o.useCallback)((function(e){m(e.target.value),p(e.target.value)}),[m,p]),E=(0,o.useCallback)((function(){m(""),(0,ha.yC)("",a,r,t,!1,e)}),[m,a,r,t]),g=(0,c.useSelector)(j.Dr),v=(0,o.useMemo)((function(){if(!r)return!1;try{new RegExp(u)}catch(e){return!0}return!1}),[r,u]);return o.createElement("div",{className:fa},o.createElement(i.TextInput,{disabled:!g,placeholder:"Search or filter",value:u,onChange:f,className:Ea,error:v,qa:"name-filter"}),o.createElement("div",{className:ga},u&&o.createElement(pa,{selected:!1,tooltip:"Clear filter",onClick:E,qa:"clear-name-filter"},o.createElement(i.Icon,{data:Ne.Z})),o.createElement(pa,{selected:a,tooltip:"Match case",onClick:function(){(0,ha.yC)(n,!a,r,t,!0,e)},qa:"match-case"},o.createElement(i.Icon,{data:ma.Z})),o.createElement(pa,{selected:r,tooltip:"Regex",onClick:function(){e(w.setUseRegexFilter({data:!r,page:t})),(0,ha.yC)(n,a,!r,t,!0,e)},className:va,qa:"regex"},".*")))};const ya={icon:"S0C37_dyP4H4oFiRBC1p"};var Ta={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function Na(e){var t=e.name,n=function(e){return o.createElement("i",{className:"fa fa-".concat(e," ").concat(ya.icon),"aria-hidden":"true"})};if(!(0,D.isString)(t))return n("browser");var r=t.toLowerCase();for(var a in Ta)if(r.includes(a))return n(Ta[a]);return n("browser")}const ba={browserlist__filter:"B00K8OuB0liXPBnX_ZDn",browserlistFilter:"B00K8OuB0liXPBnX_ZDn","action-button":"OHRqVXyyF8A0XlgDDWW2",actionButton:"OHRqVXyyF8A0XlgDDWW2",browserlist__popup:"XDKyCXdmNKAG6PNf8DmB",browserlistPopup:"XDKyCXdmNKAG6PNf8DmB"};var Ma=function(e,t){return"".concat(encodeURIComponent(e)).concat("/").concat(encodeURIComponent(t))},Ca=function(e){var t=e.split("/"),n=(0,d.Z)(t,2),r=n[0],a=n[1];return{id:decodeURIComponent(r),version:decodeURIComponent(a)}},wa=function(){return o.createElement("div",{style:{position:"absolute",visibility:"hidden",height:0,width:0,overflow:"hidden"}},["google","chrome","firefox","safari","edge","yandex","yabro","ie","explorer","opera","phone","mobile","tablet","ipad","browser"].map((function(e){return o.createElement(Na,{key:e,name:e})})))};function Oa(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=Ia(),s=(0,c.useSelector)((function(e){return e.browsers})),l=(0,c.useSelector)((function(e){return e.app[a].filteredBrowsers})),u=(0,c.useDispatch)();(0,o.useEffect)((function(){r(l)}),[s,l]);var m,p,f,E=(0,c.useSelector)(j.Dr),g=n.flatMap((function(e){return e.versions.map((function(t){return Ma(e.id,t)}))}));return o.createElement(o.Fragment,null,o.createElement(wa,null),o.createElement(i.Select,{disablePortal:!0,value:g,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return o.createElement("div",{className:ba.browserlist__filter},o.createElement(i.Button,{onClick:function(){return r(s)},width:"max"},"Select All"))},renderOption:function(e){var t,n=g.includes(e.value)&&1===g.length;return o.createElement(i.Flex,{alignItems:"center",width:"100%",gap:2},o.createElement(i.Flex,{height:16,width:16,alignItems:"center",justifyContent:"center"},o.createElement(Na,{name:null===(t=e.data)||void 0===t?void 0:t.id})),o.createElement("div",{className:"browser-name"},e.content),o.createElement(i.Button,{size:"s",onClick:n?function(t){t.preventDefault(),t.stopPropagation(),r(s.map((function(t){return{id:t.id,versions:t.versions.filter((function(n){var r,a;return t.id!==(null===(r=e.data)||void 0===r?void 0:r.id)||n!==(null===(a=e.data)||void 0===a?void 0:a.version)}))}})))}:function(t){var n,a;t.preventDefault(),t.stopPropagation(),r([{id:null===(n=e.data)||void 0===n?void 0:n.id,versions:[null===(a=e.data)||void 0===a?void 0:a.version]}])},className:ba.actionButton},n?"Except":"Only"))},renderControl:function(e){var t=e.ref,n=e.triggerProps,r=n.onClick,a=n.onKeyDown;return o.createElement(Ct,{ref:t,onClick:r,onKeyDown:a,view:"outlined",disabled:!E,icon:o.createElement(i.Icon,{data:Et.Z}),tooltip:"Filter by browser"})},popupClassName:ba.browserlist__popup,className:"browserlist",onUpdate:function(e){var t=[];e.forEach((function(e){var n=Ca(e),r=n.id,a=n.version,i=t.find((function(e){return e.id===r}));i?i.versions.includes(a)||i.versions.push(a):t.push({id:r,versions:[a]})})),r(t)},onFocus:function(){0===g.length&&r(s)},onClose:function(){u((0,w.selectBrowsers)({data:n.filter((function(e){return e.versions.length>0}),a),page:a}))}},(m=s.filter((function(e){return e.versions.length>1})),p=s.filter((function(e){return 1===e.versions.length})),f=function(e,t){return{value:Ma(e.id,t),content:e.id,data:{id:e.id,version:t}}},0===m.length?s.map((function(e){return o.createElement(i.Select.Option,(0,ln.Z)({key:e.id},f(e,e.versions[0])))})):o.createElement(o.Fragment,null,m.map((function(e){return o.createElement(i.Select.OptionGroup,{key:e.id,label:e.id},e.versions.map((function(t){return o.createElement(i.Select.Option,(0,ln.Z)({key:t},f(e,t)))})))})),o.createElement(i.Select.OptionGroup,{label:"Other"},p.map((function(e){return o.createElement(i.Select.Option,(0,ln.Z)({key:e.id},f(e,e.versions[0])))})))))))}const Aa={"test-status-filter":"CXbeXmEBG8Nx0JBaZffF",testStatusFilter:"CXbeXmEBG8Nx0JBaZffF","test-status-filter-option":"UBh8WFzqagmwvT6lPSRM",testStatusFilterOption:"UBh8WFzqagmwvT6lPSRM","test-status-filter-option__count":"CvfnTLLY1HbQSzm26bAM",testStatusFilterOptionCount:"CvfnTLLY1HbQSzm26bAM"};var Da=function(e){var t=e.count,n=e.icon,r=e.title;return o.createElement("div",{className:Aa["test-status-filter-option"]},n||o.createElement("span",null,r),o.createElement("span",{"data-qa":"".concat(r.toLowerCase(),"-count"),className:Aa["test-status-filter-option__count"]},t))};function _a(e){var t=e.list,n=e.value,r=e.onChange,a=e.disabled,c=e.className;return o.createElement(i.SegmentedRadioGroup,{disabled:a,className:E()(Aa.testStatusFilter,c),width:"max",value:n,onChange:function(e){return r(e.target.value)}},t.map((function(e){var t=e.title,n=e.value,r=e.count,a=e.icon;return o.createElement(i.SegmentedRadioGroup.Option,{key:n,title:t,value:n,content:o.createElement(Da,{status:O.wO.ALL,count:r,title:t,icon:a})})})))}var La=n(26064),xa=n(20630),Ra=n(82281),ka=n(50048),ja=n(93315),Pa=n(53602),Za=n(14660),za=n(15045),Ua=n(54493);const Ba={container:"IKLpkyoFF26d8QlNaEGV","inner-container":"OLkSlO5uywj85yN801g7",innerContainer:"OLkSlO5uywj85yN801g7","buttons-container":"pSp80Sq_QLxHCxzvv98U",buttonsContainer:"pSp80Sq_QLxHCxzvv98U","selected-container":"rR5VgY3P1ekK_5NipFh6",selectedContainer:"rR5VgY3P1ekK_5NipFh6","selected-container--visible":"DU3iTZjPpSwQoSd6A97R",selectedContainerVisible:"DU3iTZjPpSwQoSd6A97R","selected-title":"OT4xD6O6uwvTqb6CtWgU",selectedTitle:"OT4xD6O6uwvTqb6CtWgU","buttons-divider":"cw9M8Xmmuho10f9so05h",buttonsDivider:"cw9M8Xmmuho10f9so05h","icon-button":"yxSw1RmyIKMUFT9bcJfg",iconButton:"yxSw1RmyIKMUFT9bcJfg","select-all-button":"aCdF0KKcbuxozhDJnLPK",selectAllButton:"aCdF0KKcbuxozhDJnLPK"};var Ga=n(8776),Fa=n(69875),Va=n(82022);const Ha={"select-popup":"j7jN8SQFGQ1xEZTKH4kc",selectPopup:"j7jN8SQFGQ1xEZTKH4kc",select:"Km4ZhL3W0xf6kxOevReS","selected-option":"NqRk7u8qZ2ACE36VVI_i",selectedOption:"NqRk7u8qZ2ACE36VVI_i","label-icons-container":"xjg9EZZPevV_Ov9IX2_0",labelIconsContainer:"xjg9EZZPevV_Ov9IX2_0","label-dot":"jV7cHZyudT11WCGg3tEt",labelDot:"jV7cHZyudT11WCGg3tEt"};function Ya(e){var t=(0,o.useRef)(null);return o.createElement("div",{className:Ha.container},o.createElement(i.Tooltip,{content:e.label,openDelay:0,placement:"top"},o.createElement("div",{className:Ha.tooltip},o.createElement(i.Select,{ref:t,renderSelectedOption:function(e){return e.title?o.createElement("span",{className:Ha.selectedOption},e.title):o.createElement(o.Fragment,null)},className:Ha.select,popupClassName:Ha.selectPopup,view:"clear",label:o.createElement(o.Fragment,null,o.createElement("div",{className:Ha.labelIconsContainer},e.labelIcon,e.showDot&&o.createElement(Qr,{className:Ha.labelDot}))),onUpdate:function(){var n;e.autoClose&&(null===(n=t.current)||void 0===n||n.click())},getOptionHeight:function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.height},multiple:e.multiple,value:e.currentValue},e.children))))}function Wa(){var e=(0,c.useDispatch)(),t="no-grouping",n=(0,c.useSelector)((function(e){return e.app.groupTestsData.currentExpressionIds}))[0],r=(0,c.useSelector)((function(e){return e.app.groupTestsData.availableSections})),a=(0,c.useSelector)((function(e){return e.app.groupTestsData.availableExpressions})),s=(0,o.useState)(t),l=(0,d.Z)(s,2),u=l[0],m=l[1],p=function(r){r===t?(m(t),e((0,w.setCurrentGroupByExpression)({expressionIds:[]}))):r!==n&&(m(r),e((0,w.setCurrentGroupByExpression)({expressionIds:[r]})))},f=[o.createElement(i.Select.OptionGroup,{label:"Group by",key:"no-grouping"},o.createElement(i.Select.Option,{value:t},o.createElement("div",{onClick:function(){return p(t)}},"Nothing")))];return f.push.apply(f,(0,Pr.Z)(r.map((function(e){return o.createElement(i.Select.OptionGroup,{label:e.label,key:e.id},a.filter((function(t){return t.sectionId===e.id})).map((function(e){var t=e.type===Qe.zX.Meta?e.key:"message";return o.createElement(i.Select.Option,{key:e.id,value:e.id,title:t,content:o.createElement("div",{onClick:function(){return p(e.id)}},t)})})))})))),o.createElement(Ya,{multiple:!0,autoClose:!0,currentValue:[u],label:"Group by",labelIcon:o.createElement(i.Icon,{data:Mn.Z}),showDot:u!==t},f)}var Qa=n(68891),Ka=n(94709),Xa=n(78910),qa=n(14675),Ja=n(77066),$a=n(52813),ei=n(94589),ti=n(58311);const ni={"label-icon-right":"dMT7p7UjTmYUJd305IH2",labelIconRight:"dMT7p7UjTmYUJd305IH2","option-content":"uuMz2JT_6644Be5bjdmA",optionContent:"uuMz2JT_6644Be5bjdmA","option-icon":"u4rzn0wQ2RktbYqw_6hT",optionIcon:"u4rzn0wQ2RktbYqw_6hT"};var ri=function(e){var t;switch(e.type){case Qe.ER.ByName:t=ma.Z;break;case Qe.ER.ByFailedRuns:t=Qa.Z;break;case Qe.ER.ByTestsCount:t=Ka.Z;break;case Qe.ER.ByStartTime:t=Xa.Z;break;case Qe.ER.ByDuration:t=qa.Z;break;case Qe.ER.ByRelevance:t=Ja.Z}return o.createElement(i.Icon,{data:t,className:ni.optionIcon,width:14,height:14})};function ai(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)((function(e){return e.app.sortTestsData.currentExpressionIds}))[0],n=(0,c.useSelector)((function(e){return e.app.sortTestsData.currentDirection})),r=function(t){n!==t&&e((0,ti.u)({direction:t}))},a=[o.createElement(i.Select.OptionGroup,{label:"Sort by",key:"sort-by"},(0,c.useSelector)((function(e){return e.app.sortTestsData.availableExpressions})).map((function(r,a){return o.createElement(i.Select.Option,{key:a,title:r.label,content:o.createElement("div",{className:ni.optionContent,onClick:function(){return a=r.id,void e(t!==a?(0,ti.Q)({expressionIds:[a]}):(0,ti.u)({direction:n===Qe.Sr.Asc?Qe.Sr.Desc:Qe.Sr.Asc}));var a}},ri(r),o.createElement("span",{className:ni.optionText},r.label)),value:r.id})}))),o.createElement(i.Select.OptionGroup,{label:"Direction",key:"sort-direction"},o.createElement(i.Select.Option,{value:Qe.Sr.Asc,content:o.createElement("div",{className:ni.optionContent,onClick:function(){return r(Qe.Sr.Asc)}},o.createElement(i.Icon,{className:ni.optionIcon,data:$a.Z,width:14,height:14}),o.createElement("span",{className:ni.optionText},"Ascending"))}),o.createElement(i.Select.Option,{value:Qe.Sr.Desc,content:o.createElement("div",{className:ni.optionContent,onClick:function(){return r(Qe.Sr.Desc)}},o.createElement(i.Icon,{className:ni.optionIcon,data:ei.Z,width:14,height:14}),o.createElement("span",{className:ni.optionText},"Descending"))}))];return o.createElement(Ya,{label:"Sort by",labelIcon:o.createElement(i.Icon,{data:n===Qe.Sr.Asc?$a.Z:ei.Z}),currentValue:[t,n],autoClose:!1,multiple:!0},a)}var ii="Tree actions toolbar:";function oi(e){var t=e.onHighlightCurrentTest,n=e.className,r=(0,c.useDispatch)(),a=(0,F.z)(),s=(0,c.useSelector)((function(e){return e.tree.suites.allRootIds})),l=(0,c.useSelector)((function(e){return e.tree.suites.stateById})),d=(0,c.useSelector)((function(e){return e.tree.browsers.stateById})),m=(0,c.useSelector)((function(e){return e.tree.browsers.byId})),p=(0,c.useSelector)(Fa.getCheckedTests),f=(0,c.useSelector)(Fa.getVisibleBrowserIds),g=(0,c.useSelector)(j.Dr),v=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),I=(0,c.useSelector)((function(e){return e.tree.suites.allRootIds.some((function(t){return e.tree.suites.byId[t].status===O.ih.RUNNING}))})),h=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),S=(0,o.useMemo)((function(){var e=s.filter((function(e){return l[e].shouldBeShown}));return e.length>0&&e.every((function(e){return l[e].checkStatus===Ga.ri}))}),[l,s]),y=(0,o.useMemo)((function(){return s.some((function(e){var t=l[e].shouldBeShown,n=l[e].checkStatus===Ga.ri||l[e].checkStatus===Ga.Km;return t&&n}))}),[l,s]),T=y&&!S,N=(0,c.useSelector)(j.Qy),b=(0,c.useSelector)(j.Fn),M=(0,c.useSelector)(j.c_),C=(0,c.useSelector)(Fa.getVisibleImages),A=(0,c.useSelector)(Fa.getSelectedImages),D=y?A:C,_=(0,c.useSelector)((function(e){return e.ui.suitesPage.treeViewMode})),L=(0,c.useSelector)((function(e){return e.app.suitesPage.currentTreeNodeId})),x=(0,c.useSelector)(Va.V).visibleTreeNodeIds,R=g&&L&&x.includes(L),k=D.some((function(e){return(0,sr.h3)(e)})),Z=D.some((function(e){return(0,sr.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:N})}))&&!k,z=(0,o.useMemo)((function(){return Object.values(d).reduce((function(e,t){return e+Number(t.checkStatus===Ga.ri)}),0)}),[d]),U=function(){r(y?(0,w.deselectAll)():(0,w.selectAll)())},B=function(){r((0,w.setAllTreeNodesState)({isExpanded:!0}))},G=function(){r((0,w.setAllTreeNodesState)({isExpanded:!1}))},V=function(){if(null==a||a.trackFeatureUsage({featureName:"".concat(ii," run tests")}),y)r((0,w.thunkRunTests)({tests:p}));else{var e=f.map((function(e){return{testName:m[e].parentId,browserName:m[e].name}}));r((0,w.thunkRunTests)({tests:e}))}},H=function(){var e=D.filter((function(e){return(0,sr.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:N})})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(ii," revert screenshots")}),r(N?(0,w.staticAccepterUnstageScreenshot)(e):(0,Nr.Ku)({imageIds:e}))},Y=function(){var e=D.filter((function(e){return(0,sr.h3)(e)})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(ii," accept screenshots")}),null==a||a.trackScreenshotsAccept({acceptedImagesCount:e.length}),r(N?(0,w.staticAccepterStageScreenshot)(e):(0,Nr.Ro)({imageIds:e}))},W=function(){var e=_===Qe.xW.Tree?Qe.xW.List:Qe.xW.Tree;null==a||a.trackFeatureUsage({featureName:"".concat(ii," change tree view mode"),treeViewMode:e}),r((0,w.setTreeViewMode)({treeViewMode:e}))},Q=y?"selected":"visible",K=I||!g,X=function(){return o.createElement(o.Fragment,null,v&&(I?o.createElement(i.Spin,{size:"xs",style:{marginRight:"6px"}}):o.createElement(Ct,{className:Ba.iconButton,icon:o.createElement(i.Icon,{data:La.Z,height:14}),tooltip:"Run ".concat(Q),view:"flat",onClick:V,disabled:I||!g})),h&&(Z?o.createElement(Ct,{className:Ba.iconButton,icon:o.createElement(i.Icon,{data:P.Z}),tooltip:"Undo accepting ".concat(Q," screenshots"),view:"flat",onClick:H,disabled:K}):o.createElement(Ct,{className:Ba.iconButton,icon:o.createElement(i.Icon,{data:Re.Z}),tooltip:"Accept ".concat(Q," screenshots"),view:"flat",onClick:Y,disabled:K||!k})),(v||h)&&o.createElement("div",{className:Ba.buttonsDivider}),o.createElement(Ct,{icon:o.createElement(i.Icon,{data:_===Qe.xW.Tree?xa.Z:Ra.Z,height:14}),tooltip:_===Qe.xW.Tree?"Switch to list view":"Switch to tree view",view:"flat",onClick:W,disabled:!g}),o.createElement(Ct,{icon:o.createElement(i.Icon,{data:ka.Z,height:14}),tooltip:"Focus on active test",view:"flat",onClick:t,disabled:!R}),o.createElement(Ct,{icon:o.createElement(i.Icon,{data:ja.Z,height:14}),tooltip:"Expand all",view:"flat",onClick:B,disabled:!g}),o.createElement(Ct,{icon:o.createElement(i.Icon,{data:Pa.Z,height:14}),tooltip:"Collapse all",view:"flat",onClick:G,disabled:!g}),M&&o.createElement(Ct,{icon:o.createElement(i.Icon,{data:T?Za.Z:S?za.Z:Ua.Z}),tooltip:y?"Deselect all":"Select all",view:"flat",onClick:U,disabled:!g,className:Ba.selectAllButton,qa:"select-all-button"}))};return o.createElement("div",{className:E()(Ba.container,n)},o.createElement("div",{className:Ba.innerContainer},o.createElement(Wa,null),o.createElement(ai,null),o.createElement("div",{className:Ba.buttonsContainer},X()),o.createElement("div",{className:E()(Ba.selectedContainer,(0,u.Z)({},Ba["selected-container--visible"],y))},o.createElement("div",{className:Ba.selectedTitle},o.createElement(i.Icon,{data:Se.Z}),o.createElement("span",{"data-qa":"selected-tests-count"},z," ",z>1?"tests":"test"," selected")),o.createElement("div",{className:Ba.buttonsContainer},X()))))}var ci=n(94927),si=(0,Ln.createSelector)([j.Wo,j.TJ,j.jA,function(e,t){return t}],(function(e,t,n,r){switch(r.entityType){case Pt.p.Suite:return t[r.entityId]?t[r.entityId].checkStatus:Ga.wT;case Pt.p.Browser:return e[r.entityId]?e[r.entityId].checkStatus:Ga.wT;case Pt.p.Group:var a=n[r.entityId],i=a.browserIds.length,o=a.browserIds.reduce((function(t,n){return t+e[n].checkStatus}),0);return Number(o===i||o&&Ga.Km)}return console.warn("Unknown entity type while trying to determine checkbox status. Item: ".concat(JSON.stringify(r),". ")+"Please report this to our team at ".concat(O.WY,".")),Ga.wT}));const li="GmSTUcS__6ru6XqfUwTm",ui="JEKczgY4dsilomLNEORc",di="SIjRYlrY7LUaIOEFLesg",mi="gIbhX6XBQ2CObUyG_skK",pi="uguNCTZkxSBVVKR9K6lH",fi="sOLV5Fsta5TwMmH05upY",Ei="oSQ67zTTCTB4ZNIEDsjE",gi="iNFUSXIRxKm5Q8AkOQhV",vi="FrxBxKBajEm3gR7JvEIh",Ii="vIAF9eDidGeyZDFKwzuW",hi="p9zBca1FFwHaMMqbjgML";function Si(e){var t,n=e.item,r=(0,c.useDispatch)(),a=(0,c.useSelector)(j.c_),s=(0,c.useSelector)((function(e){return e.tree.groups.byId})),l=(0,c.useSelector)((function(e){return si(e,n)})),d=/\/visual-checks/.test(location.hash),m=n.title.slice(0,-1),p=n.title[n.title.length-1],f=E()((t={},(0,u.Z)(t,Ii,n.entityType===Pt.p.Group),(0,u.Z)(t,hi,n.entityType!==Pt.p.Group),t));return o.createElement("div",{className:li},o.createElement("div",null,o.createElement("div",{className:f},n.prefix&&o.createElement("span",{className:mi},n.prefix),o.createElement("span",{className:pi},m.map((function(e,t){return o.createElement(o.Fragment,{key:t},o.createElement("span",{className:t!==m.length-1?fi:""},e),o.createElement(ft.Z,{height:12,className:Ei}))})),o.createElement("span",{className:m.length>0?fi:""},p))),n.tags&&n.tags.length>0&&o.createElement("div",{className:gi},n.tags.map((function(e,t){return o.createElement("span",{key:t,className:vi},e)})))),a&&!d&&o.createElement("div",{className:ui,onClick:function(e){if(e.stopPropagation(),n.entityType===Pt.p.Group){var t=s[n.entityId];r((0,w.toggleGroupCheckbox)({browserIds:t.browserIds,checkStatus:(0,Rn.jj)(l)}))}else n.entityType===Pt.p.Suite?r((0,w.toggleSuiteCheckbox)({suiteId:n.entityId,checkStatus:(0,Rn.jj)(l)})):n.entityType===Pt.p.Browser&&r((0,w.toggleBrowserCheckbox)({suiteBrowserId:n.entityId,checkStatus:(0,Rn.jj)(l)}))},"data-qa":"tree-item-checkbox"},o.createElement(i.Checkbox,{checked:(0,Rn.CR)(l),indeterminate:(0,Rn.Ph)(l),className:di,size:"m"})))}var yi=n(84673),Ti=n.n(yi);const Ni={wrapper:"LJYj9V992X2v_OQRcVCA",magnifier:"EjYvq5pA27vPFglbcsSz"};var bi=3;function Mi(e){var t=e.image,n=e.style,r=e.magnifierHeight,a=void 0===r?150:r,i=e.magnifierWidth,c=void 0===i?150:i,s=e.zoomLevel,l=void 0===s?bi:s,u=e.scrollContainerRef,m=(0,o.useState)(!1),p=(0,d.Z)(m,2),f=p[0],E=p[1],g=(0,o.useState)([0,0]),v=(0,d.Z)(g,2),I=(0,d.Z)(v[0],2),h=I[0],S=I[1],T=v[1],N=(0,o.useState)([0,0]),b=(0,d.Z)(N,2),M=(0,d.Z)(b[0],2),C=M[0],w=M[1],O=b[1],A=(0,o.useRef)([0,0]),D=(0,o.useState)({}),_=(0,d.Z)(D,2),L=_[0],x=_[1],R=(0,o.useRef)(null);return(0,o.useEffect)((function(){if(f&&null!=u&&u.current&&null!=R&&R.current){var e=function(){if(R.current){var e=(0,d.Z)(A.current,2),t=e[0],n=e[1],r=R.current.getBoundingClientRect(),a=r.top,i=t-r.left-window.scrollX,o=n-a-window.scrollY;O([i,o])}};return u.current.addEventListener("scroll",e),function(){var t;null===(t=u.current)||void 0===t||t.removeEventListener("scroll",e)}}}),[f,u]),(0,o.useEffect)((function(){var e=(0,d.Z)(A.current,2),n=e[0],r=e[1];x({display:f?"":"none",height:"".concat(a,"px"),width:"".concat(c,"px"),backgroundImage:"url('".concat(t.path,"')"),top:"".concat(r-a/2,"px"),left:"".concat(n-c/2,"px"),backgroundSize:"".concat(h*l,"px ").concat(S*l,"px"),backgroundPositionX:"".concat(-C*l+c/2,"px"),backgroundPositionY:"".concat(-w*l+a/2,"px")})}),[f,h,S,C,w]),o.createElement("div",{className:Ni.wrapper},o.createElement(Wn.w,{image:t,style:n,ref:R,onMouseEnter:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.width,r=t.height;T([n,r]),E(!0),A.current=[e.clientX,e.clientY]}(e)},onMouseLeave:function(e){return function(e){e.preventDefault(),E(!1),A.current=[e.clientX,e.clientY]}(e)},onMouseMove:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.top,r=t.left,a=e.clientX-r-window.scrollX,i=e.clientY-n-window.scrollY;O([a,i]),A.current=[e.clientX,e.clientY]}(e)}}),(0,y.createPortal)(o.createElement("div",{className:Ni.magnifier,style:L}),document.body))}const Ci="fOCwwY8SyBtdV8yd9MaE",wi="AU6DFFgGiakJnqZwq66G",Oi="ZjC0bb2zdqSR5wNLRp4F",Ai="FWP9wDidgiPcbjkeKMEW",Di="SdbQF9QSHTIuzXbW5NhZ",_i="lEKkI6Teiro44TkyeMy6",Li="TqV8drAzil99buolLGvD";function xi(e){var t;return e.item.status===O.ih.SKIPPED&&e.item.skipReason?o.createElement("div",{className:_i},o.createElement("div",{className:Li},"Skipped ⋅ ",(0,Dn.hk)(e.item.skipReason))):null!==(t=e.item.images)&&void 0!==t&&t.length?o.createElement("div",{style:{overflow:"hidden"}},e.item.images.map((function(t){var n=[];return t.status!==O.ih.FAIL&&t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS||n.push({title:"Expected",image:t.expectedImg}),t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS&&n.push({title:"Actual",image:t.actualImg}),t.status===O.ih.FAIL&&n.push({title:"Diff",image:t.diffImg}),o.createElement("div",{key:t.id},o.createElement("span",{className:wi},t.stateName," ⋅ ",Sr(t)),o.createElement("div",{className:Oi},n.filter((function(e){var t=e.image;return Boolean(t)})).map((function(t){return o.createElement("div",{className:E()(Di,3===n.length&&"Diff"!==t.title&&Ai),key:t.title},o.createElement("p",null,t.title),o.createElement(Mi,{image:t.image,scrollContainerRef:e.scrollContainerRef}))}))))}))):e.item.errorStack?o.createElement("div",{"data-qa":"error-stack-item",className:E()(Ci,e.className)},(e.item.errorTitle+"\n"+Ti()(e.item.errorStack)).trim()):null}const Ri="T3aXaKm5jZ4a6NLqYRBw",ki="w50MypVLjyV8yU8AnjiB",ji="xZyMfouBBnA33n0udtkK",Pi="ApzdqHVcRYufL0rh7fmJ",Zi="D4aLlzPBALA9wUI7MVAE",zi="CvF3cmhVMllx30vyYbH4",Ui="zeS_VNPrT5fizUUHJnSq",Bi="phHEhQJxiTI66Z6s54HL",Gi="jzzo195Rmsd5uw8pctM3",Fi="k_aewXqIOI0UbVd5Jvsr",Vi="eDtbnxU6w8wjEleQ0CSm",Hi="k06qKh54DIscG61KmjBM",Yi="vkJOJghjMsVLLfp05SfS",Wi="_4_WsBALJksH5x6QO2t9g",Qi="mTrxnQFe6UTb97i6j4nW text-hint",Ki="KFEV5y2NZelBeyb24H2p";function Xi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ji=(0,o.forwardRef)((function(e,t){var n,r,a=e.currentTreeNodeId,i=e.treeData,s=e.treeViewExpandedById,l=e.onClick,m=e.containerClassName,p=e.loading,f=(0,c.useDispatch)(),g=(0,c.useSelector)(j.JK),v=(0,Nn.Lm)({items:i.tree,withExpandedState:!0,getItemId:function(e){return e.id},controlledState:{expandedById:s}}),I=function(e,t){var n=e.status===O.ih.FAIL||e.status===O.ih.ERROR;return t||n},h=(0,o.useMemo)((function(){for(var e={},t=new Map,n=0;n<v.structure.visibleFlattenIds.length;n++){var r=v.structure.visibleFlattenIds[n],i=v.structure.itemsById[r];if(i.entityType===Pt.p.Browser){var o,c=g===Qe.xW.List?"root":(null===(o=i.parentData)||void 0===o?void 0:o.id)||"root";t.has(c)||t.set(c,[]),t.get(c).push(r)}}var s,l=Xi(t);try{for(l.s();!(s=l.n()).done;)for(var u=(0,d.Z)(s.value,2)[1],m=0;m<u.length;){var p=u[m],f=v.structure.itemsById[p],E=f.id===a;if(I(f,E)){for(var h=m;h<u.length-1;){var S=u[h+1],y=v.structure.itemsById[S],T=y.id===a;if(!I(y,T))break;h++}if(m===h)e[p]="single";else for(var N=m;N<=h;N++)e[u[N]]=N===m?"first":N===h?"last":"middle";m=h+1}else m++}}catch(e){l.e(e)}finally{l.f()}return e}),[v.structure.visibleFlattenIds,v.structure.itemsById,a,g]),S=(0,o.useCallback)((function(e){var t=e.id,n=v.structure.itemsById[t];l(n,v.state.expandedById[t])}),[v,s]),y=o.useRef(null),T=(0,ci.MG)({count:v.structure.visibleFlattenIds.length,getScrollElement:function(){return y.current},estimateSize:function(e){var t=v.structure.visibleFlattenIds[e];return v.structure.itemsById[t].entityType===Pt.p.Group?68:34},getItemKey:(0,o.useCallback)((function(e){return v.structure.visibleFlattenIds[e]}),[v]),overscan:50}),N=T.getVirtualItems();return(0,o.useImperativeHandle)(t,(function(){return{scrollToId:function(e){v.structure.visibleFlattenIds.includes(e)?T.scrollToIndex(v.structure.visibleFlattenIds.indexOf(e),{align:"auto"}):(f((0,w.revealTreeNode)({nodeId:e})),setTimeout((function(){try{T.scrollToIndex(v.structure.visibleFlattenIds.indexOf(e),{align:"auto"})}catch(e){}}),50))}}})),0===v.structure.visibleFlattenIds.length?o.createElement("div",{className:Qi},"There are no tests that match selected filters"):o.createElement(Nn.lW,{className:Ri},o.createElement("div",{ref:y,className:E()(ki,m,p&&Ki)},o.createElement("div",{className:ji,style:{height:T.getTotalSize()}},o.createElement("div",{className:Pi,style:{transform:"translateY(".concat(null!==(n=null===(r=N[0])||void 0===r?void 0:r.start)&&void 0!==n?n:0,"px)")},"data-qa":"tree-view-list"},N.map((function(e){var t,n=v.structure.itemsById[e.key],r=n.id===a,i=n.entityType===Pt.p.Browser?h[e.key]:void 0,c=[Zi,(t={"current-tree-node":r,"error-tree-node":n.entityType===Pt.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)},(0,u.Z)(t,zi,r),(0,u.Z)(t,Gi,n.entityType===Pt.p.Browser),(0,u.Z)(t,Fi,n.entityType===Pt.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)),(0,u.Z)(t,Vi,"first"===i),(0,u.Z)(t,Hi,"middle"===i),(0,u.Z)(t,Yi,"last"===i),(0,u.Z)(t,Wi,"single"===i),t)];return o.createElement(Nn.CM,(0,ln.Z)({key:e.key,"data-qa":"tree-view-item","data-index":e.index,ref:T.measureElement,height:0,className:E()(c)},(0,Nn.vy)({id:e.key.toString(),list:v,onItemClick:S,mapItemDataToContentProps:function(e){return{startSlot:o.createElement(On,null,e.status?(0,Dn.XF)(e.status):o.createElement(Mn.Z,null)),title:o.createElement(Si,{item:e,className:r?Ui:""}),subtitle:o.createElement(xi,{item:e,className:r?Bi:"",scrollContainerRef:y})}}}).props))}))))))}));const $i={skeleton:"NfU5ZxuSXr88hxKKeomI","skeleton-appear":"ExjahJDmJwFVgynPb_Ou",skeletonAppear:"ExjahJDmJwFVgynPb_Ou"};function eo(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1];return(0,o.useEffect)((function(){for(var e=0,t=[],n=0;n<24;n++){var a=kt()(0,e+1);e=a,t.push(o.createElement(i.Skeleton,{key:n,className:$i.skeleton,style:{width:"calc(100% - ".concat(a," * 24px)"),"--delay":Math.floor(n/2)+"s"}}))}r(t)}),[]),o.createElement(i.Flex,{direction:"column",gap:3,alignItems:"end"},n)}var to=["title","isInitialized","onHighlightCurrentTest","treeViewRef","statusList","statusValue","onStatusChange"];function no(e){var t=e.title,n=e.isInitialized,r=e.onHighlightCurrentTest,a=e.treeViewRef,s=e.statusList,l=e.statusValue,u=e.onStatusChange,d=(0,Q.Z)(e,to),m=(0,c.useSelector)((function(e){return e.app.isSearchLoading}));return o.createElement(Je,{className:E()(da.card,da.treeViewCard),key:"tree-view",qa:"suites-tree-card"},o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackCardCrash,{recommendedAction:"Try to reload page"})},o.createElement(i.Text,{variant:"header-2",className:da.card__title,qa:"sidebar-title"},t),o.createElement(i.Flex,{gap:2,className:da["filters-container"]},o.createElement(Sa,null),o.createElement(Oa,null)),o.createElement(_a,{className:da["tabs-container"],list:s,value:l,onChange:u,disabled:!n}),r&&o.createElement(oi,{className:da["toolbar-container"],onHighlightCurrentTest:r}),n&&o.createElement(Ji,(0,ln.Z)({ref:a,containerClassName:da["tree-view-container"],loading:m},d)),!n&&o.createElement("div",{className:da["skeleton-container"]},o.createElement(eo,null))))}function ro(){var e=Ia(),t=(0,c.useSelector)(rt),n=(0,c.useSelector)(Va.V),r=(0,c.useSelector)(at),a=n.visibleTreeNodeIds,i=n.tree,l=(0,s.UO)(),m=(0,c.useSelector)(ot),p=(0,c.useSelector)((function(e){return e.app[Qe.T3.suitesPage].currentBrowserId})),f=(0,c.useSelector)((function(e){return e.app[Qe.T3.suitesPage].currentTreeNodeId})),g=a.indexOf(f),v=(0,c.useSelector)(j.Dr),I=(0,c.useDispatch)(),h=(0,s.s0)(),S=(0,c.useSelector)((function(t){return t.app[e].viewMode})),y=(0,c.useSelector)((function(e){return(0,Va.d)(e)})),T=(0,o.useCallback)((function(t){I(w.changeViewMode({data:t,page:e}))}),[e]);(0,o.useEffect)((function(){null!=t&&t.parentId&&null!==m&&r.length&&h("/"+["suites",t.parentId,void 0!==l.stateName?l.stateName:r[0].stateName,null==m?void 0:m.toString()].map(encodeURIComponent).join("/"))}),[t,m]),(0,o.useEffect)((function(){if(p!==l.suiteId&&(I((0,w.setStrictMatchFilter)(!1)),v&&l.suiteId)){var e=(0,We.iT)(n.tree,l.suiteId);if(!e)return;I((0,w.setCurrentTreeNode)({browserId:l.suiteId,treeNodeId:e.id})),void 0!==l.attempt&&I((0,w.changeTestRetry)({browserId:l.suiteId,retryIndex:Number(l.attempt)}))}}),[v,l]);var N=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;null==N||null===(e=N.current)||void 0===e||e.scrollToId(f)}),[N,f]);var b=(0,c.useSelector)((function(e){return e.ui[Qe.T3.suitesPage].expandedTreeNodesById})),M=(0,o.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:y.total},{icon:(0,Dn.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:y.success},{icon:(0,Dn.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:y.fail},{icon:(0,Dn.XF)(O.ih.RETRY),title:"Retried",value:O.wO.RETRIED,count:y.retried},{icon:(0,Dn.XF)(O.ih.SKIPPED),title:"Skipped",value:O.wO.SKIPPED,count:y.skipped}]}),[y]),C=function(e){var t,n=a[g+e],r=(0,We.Qt)(i,null!=n?n:"");if(r){var o=(0,We.av)(r);I(w.setCurrentTreeNode({treeNodeId:n,browserId:r.entityId,groupId:o})),null==N||null===(t=N.current)||void 0===t||t.scrollToId(n)}else console.warn("Couldn't find tree node by id in prev/next handler. ID: ".concat(f,". Tree: ").concat(JSON.stringify(i))+"Please report this to our team at ".concat(O.WY,"."))},A=(0,o.useCallback)((function(e,t){e.entityType===Pt.p.Browser?I(w.setCurrentTreeNode({treeNodeId:e.id,browserId:e.entityId,groupId:(0,We.av)(e)})):I(w.setTreeNodeExpandedState({nodeId:e.id,isExpanded:!t}))}),[]),D=(0,c.useSelector)((function(e){return e.ui[Qe.T3.suitesPage].sectionSizes})),_=(0,o.useState)(null),L=(0,d.Z)(_,2),x=L[0],R=L[1],k=(0,o.useState)(0),P=(0,d.Z)(k,2),Z=P[0],z=P[1];return(0,o.useLayoutEffect)((function(){if(x){z(x.clientHeight);var e=new ResizeObserver((function(e){z(e[0].contentRect.height)}));return e.observe(x),function(){return e.disconnect()}}}),[x]),o.createElement("div",{className:xt.container},o.createElement(pt,{sizes:D,onSizesChange:function(e){I(w.setSectionSizes({sizes:e,page:Qe.T3.suitesPage})),(0,We.aV)(e[0])?I(w.setBackupSectionSizes({sizes:[ua.p,100-ua.p],page:Qe.T3.suitesPage})):I(w.setBackupSectionSizes({sizes:e,page:Qe.T3.suitesPage}))}},o.createElement(no,{title:"Suites",onHighlightCurrentTest:function(){N.current&&null!=t&&t.parentId&&N.current.scrollToId(f)},isInitialized:v,treeViewRef:N,treeData:n,treeViewExpandedById:b,currentTreeNodeId:f,onClick:A,statusList:M,statusValue:S,onStatusChange:T}),o.createElement(Je,{key:"test-view",className:E()(xt.card,xt.testViewCard),style:{"--sticky-header-height":Z+"px"}},o.createElement(gn.Boundary,{watchFor:[t,l.suiteId,v],fallback:o.createElement(gn.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},t&&o.createElement(o.Fragment,null,o.createElement("div",{className:xt.stickyHeader,ref:function(e){return R(e)}},o.createElement(St,{className:xt.card__title,suitePath:t.suitePath,browserName:t.name,index:g,totalItems:a.length,onNext:function(){return C(1)},onPrevious:function(){return C(-1)}}),o.createElement(Lt,{onAttemptChange:function(e,t,n){I(w.changeTestRetry((0,u.Z)({browserId:e,retryIndex:n},Qe.T3.suitesPage,f?{treeNodeId:f}:void 0)))}})),o.createElement(la,null)),!l.suiteId&&!t&&o.createElement("div",{className:xt.hintContainer},o.createElement("span",{className:xt.hint},"Select a test to see details")),l.suiteId&&!v&&o.createElement(jt,null)))))}function ao(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return io(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?io(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oo=(0,Ln.createSelector)([j.Jx,j.TZ,j.O7],(function(e,t,n){for(var r={},a=0,i=Object.values(e);a<i.length;a++){var o=i[a],c=n[o.parentId];if(o.stateName&&c){var s=t[c.parentId];if(s){var l="".concat(s.id," ").concat(o.stateName);r[l]||(r[l]={id:l,browserId:s.id,images:[],suitePath:c.suitePath,browserName:s.name,stateName:o.stateName}),r[l].images.push(Object.assign({},o,{timestamp:c.timestamp}))}}}for(var u={},m=function(){var r=(0,d.Z)(f[p],2),a=r[0],i=r[1],o=t[i.browserId],c=o.resultIds[o.resultIds.length-1],s=n[c];if(s.status!==O.ih.RUNNING&&s.status!==O.ih.ERROR&&!s.imageIds.find((function(t){return e[t].stateName===i.stateName})))return"continue";i.images.sort((function(e,t){return e.timestamp-t.timestamp})),u[a]={id:i.id,suitePath:i.suitePath,browserId:i.browserId,browserName:i.browserName,stateName:i.stateName,imageIds:i.images.map((function(e){return e.id})),status:s.status}},p=0,f=Object.entries(r);p<f.length;p++)m();return u})),co=function(e){var t=e.app.visualChecksPage.currentNamedImageId,n=oo(e);return t?n[t]:Object.values(n)[0]},so=function(e){var t=co(e);if(!t)return null;var n=e.tree.browsers.stateById[t.browserId].retryIndex,r=t.imageIds.find((function(t){var r=e.tree.images.byId[t].parentId;return e.tree.results.byId[r].attempt===n}));return r?(0,j.Jx)(e)[r]:null},lo=function(e){var t=co(e);return t?e.tree.browsers.stateById[null==t?void 0:t.browserId].retryIndex:null},uo=function(e){var t=co(e),n=(0,j.Jx)(e),r=null==t?void 0:t.browserId,a=r&&e.tree.browsers.byId[r];if(a)for(var i=(null==a?void 0:a.resultIds.length)-1;i>=0;i--){if(n["".concat(null==a?void 0:a.resultIds[i]," ").concat(null==t?void 0:t.stateName)])return i}return 0},mo=function(e){var t=e.app.visualChecksPage.currentNamedImageId,n=oo(e);if(t){var r=n[t];return r?e.tree.browsers.byId[r.browserId]:null}return null};const po={container:"e8s4JSjd7RxAhPAaW8RZ",card:"LLcn_jBWNEuyQC5ZBgS5",card__title:"GS6Zo5RCv1s1Z6c3t0w2",cardTitle:"GS6Zo5RCv1s1Z6c3t0w2","toolbar-container":"XrScx7Cwyr_af5rbLwdl",toolbarContainer:"XrScx7Cwyr_af5rbLwdl","accept-button":"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button",acceptButton:"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button","buttons-container":"sLSIptbgAQ5QCgptRkAA",buttonsContainer:"sLSIptbgAQ5QCgptRkAA",hint:"HaHZlzIgRHYiaJTmV3fY","current-image":"lDjihigezbN9xQBOSlIn",currentImage:"lDjihigezbN9xQBOSlIn","test-view-card":"i2cXFS5T6BRa_ny_RNVX",testViewCard:"i2cXFS5T6BRa_ny_RNVX"};function fo(){return o.createElement(i.Flex,{direction:"column",gap:4,style:{marginTop:"12px"}},o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"15%"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"25%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"24px",width:"40%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"150px"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"180px"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"120px"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"25%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"500px"}}),o.createElement(i.Skeleton,{style:{height:"500px"}}),o.createElement(i.Skeleton,{style:{height:"500px"}})))}var Eo=n(22578);const go={container:"ipa14zMJGXV7Y5F33sfG","attempt-select":"TcxhRYjS_wr5KAstgw3V",attemptSelect:"TcxhRYjS_wr5KAstgw3V","attempt-number":"vUAaXSCoIWZa4RTwiSEW",attemptNumber:"vUAaXSCoIWZa4RTwiSEW","attempt-option":"CO6bZtkzia3WT1X_RATs",attemptOption:"CO6bZtkzia3WT1X_RATs","attempt-select-popup":"oehf8WD6Wi4UG5QdUp5L",attemptSelectPopup:"oehf8WD6Wi4UG5QdUp5L"};function vo(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)(co),n=(0,c.useSelector)(j.Jx),r=null==t?void 0:t.browserId,a=(0,c.useSelector)((function(e){return r&&e.tree.browsers.byId[r]})),s=a?a.resultIds.length:null,l=(0,c.useSelector)((function(e){return a?e.tree.browsers.stateById[a.id].retryIndex:null})),u=function(e){if(a&&null!==l)for(var r=e?l+1:l-1;e?r<(null==a?void 0:a.resultIds.length):r>=0;){var i="".concat(null==a?void 0:a.resultIds[r]," ").concat(null==t?void 0:t.stateName);if(n[i])return!1;r+=e?1:-1}return!0},m=(0,o.useMemo)((function(){return u(!0)}),[l,a]),p=(0,o.useMemo)((function(){return u(!1)}),[l,a]),f=function(i){if(a&&null!==l){for(var o=null,c=i?l+1:l-1;i?c<(null==a?void 0:a.resultIds.length):c>=0;){var s="".concat(null==a?void 0:a.resultIds[c]," ").concat(null==t?void 0:t.stateName);if(n[s]){o=c;break}c+=i?1:-1}r&&null!==o&&e((0,w.changeTestRetry)({browserId:r,retryIndex:o}))}};return a?o.createElement("div",{className:go.container},o.createElement(i.Tooltip,{content:"Prev screenshot",openDelay:0,placement:"top"},o.createElement(i.Button,{"aria-label":"Prev screenshot",view:"outlined",onClick:function(){return f(!1)},disabled:p},o.createElement(i.Icon,{data:Eo.Z}))),o.createElement(i.Tooltip,{content:"Show all attempts",openDelay:0,placement:"top"},o.createElement(i.Select,{renderControl:function(e){var t=e.triggerProps,n=t.onClick,r=t.onKeyDown,a=e.ref;return o.createElement(i.Button,{className:go.attemptSelect,onClick:n,onKeyDown:r,ref:a,view:"flat"},"Attempt ",o.createElement("span",{className:go.attemptNumber},null!==l?l+1:"–")," of ",o.createElement("span",{className:go.attemptNumber},null!=s?s:"–"))},renderOption:function(e){var r="".concat(e.data.resultId," ").concat(null==t?void 0:t.stateName);return o.createElement("div",{className:go.attemptOption},hr(n[r]||null,!0),o.createElement("span",null,e.content))},popupClassName:go.attemptSelectPopup,onUpdate:function(t){var n=(0,d.Z)(t,1)[0];r&&e((0,w.changeTestRetry)({browserId:r,retryIndex:Number(n)}))},value:l?[l.toString()]:[]},a.resultIds.map((function(e,t){return o.createElement(i.Select.Option,{key:t,value:t.toString(),content:"Attempt #".concat(t+1),data:{resultId:e}})})))),o.createElement(i.Tooltip,{content:"Next screenshot",openDelay:0,placement:"top"},o.createElement(i.Button,{view:"outlined",onClick:function(){return f(!0)},disabled:m},o.createElement(i.Icon,{data:ft.Z})))):null}var Io=n(79483),ho=function(e,t){var n=(0,o.useRef)({}),r=t.slice(Math.max(0,e-1-3),Math.min(t.length,e+1+3)),a=(0,c.useSelector)((function(e){return function(e,t){var n,r=[],a=(0,j.Jx)(e),i=oo(e),o=ao(t);try{for(o.s();!(n=o.n()).done;){var c=i[n.value];c&&r.push.apply(r,(0,Pr.Z)(c.imageIds.map((function(e){return a[e]}))))}}catch(e){o.e(e)}finally{o.f()}return r}(e,r)}));(0,o.useEffect)((function(){a.forEach((function(e){n.current[e.id]=(0,Io.m)(e)}))}),[e]),(0,o.useEffect)((function(){return function(){Object.values(n.current).forEach((function(e){return null==e?void 0:e()}))}}),[])};function So(e){var t=e.currentNamedImage,n=e.visibleNamedImageIds,a=e.onImageChange,l=(0,c.useDispatch)(),u=(0,F.z)(),m=(0,c.useSelector)(so),p=(0,c.useSelector)(lo),f=(0,s.s0)(),E=n.indexOf(null==t?void 0:t.id);ho(E,n);var g=(0,c.useSelector)((function(e){return e.view.diffMode})),v=(0,c.useSelector)((function(e){return e.staticImageAccepter.enabled})),I=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),h=(0,c.useSelector)((function(e){return e.running})),S=(0,c.useSelector)((function(e){return e.processing})),y=(0,c.useSelector)((function(e){return e.gui})),T=(0,c.useSelector)(mo),N=null==m?void 0:m.parentId,b=Boolean(N&&T&&N===T.resultIds[T.resultIds.length-1]),M=(0,sr.KD)({gui:y,image:null!=m?m:{},isLastResult:b,isStaticImageAccepterEnabled:v});return o.createElement("div",{className:po.stickyHeader},t&&o.createElement(St,{className:po.card__title,suitePath:t.suitePath,browserName:t.browserName,index:E,totalItems:n.length,onPrevious:function(){return a(n[E-1])},stateName:t.stateName,onNext:function(){return a(n[E+1])}}),o.createElement("div",{className:po.toolbarContainer},o.createElement(vo,null),o.createElement(i.Divider,{orientation:"vertical"}),o.createElement(yr,{image:m}),o.createElement(i.Divider,{orientation:"vertical"}),o.createElement(i.Select,{className:po.diffModeSelect,label:"Diff Mode",value:[g],onUpdate:function(e){var t,n=(0,d.Z)(e,1)[0];return t=n,void l((0,w.setDiffMode)({diffModeId:t}))},multiple:!1},Object.values(O.nx).map((function(e){return o.createElement(i.Select.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),o.createElement(i.Flex,{className:po.buttonsContainer,gap:2},o.createElement(i.Button,{view:"outlined",className:po.acceptButton,disabled:h||S,onClick:function(){t&&f("/"+["suites",null==t?void 0:t.browserId,null==t?void 0:t.stateName,null==p?void 0:p.toString()].map(encodeURIComponent).join("/"))},qa:"go-suites-button"},o.createElement(i.Icon,{data:r.Z}),"Go to Suites"),I&&o.createElement(o.Fragment,null,M&&o.createElement(i.Button,{view:"action",className:po.acceptButton,disabled:h||S,onClick:function(){m&&l(v?(0,w.staticAccepterUnstageScreenshot)([m.id]):(0,Nr.Ku)({imageIds:[m.id]}))},qa:"undo-button"},o.createElement(i.Icon,{data:P.Z}),"Undo"),m&&(0,sr.h3)(m)&&o.createElement(i.Button,{view:"action",className:po.acceptButton,disabled:h||S,onClick:function(){m&&(null==u||u.trackScreenshotsAccept(),l(v?(0,w.staticAccepterStageScreenshot)([m.id]):(0,Nr.Ro)({imageIds:[m.id]})))},qa:"accept-button"},o.createElement(i.Icon,{data:Re.Z}),"Accept"),o.createElement(_t,{showPlayer:!1,browser:T})))))}var yo=function(e){return e.app[Qe.T3.visualChecksPage].viewMode},To=(0,Ln.createSelector)([j.Jx,oo,yo,function(e){return e.app[Qe.T3.visualChecksPage].nameFilter},function(e){return e.app[Qe.T3.visualChecksPage].useRegexFilter},function(e){return e.app[Qe.T3.visualChecksPage].useMatchCaseFilter}],(function(e,t,n,r,a,i){var o,c={isRoot:!0,data:void 0},s=(o={},(0,u.Z)(o,O.wO.ALL,0),(0,u.Z)(o,O.wO.PASSED,0),(0,u.Z)(o,O.wO.FAILED,0),o),l=Object.values(t).filter((function(t){var o=t.browserId,c=t.browserName,l=t.imageIds;if(!(0,sr.TV)(o,c,r,{strictMatchFilter:!1,useMatchCaseFilter:i,useRegexFilter:a,isNewUi:!0},(0,ha.ZL)(o)))return!1;var u=e[l[l.length-1]].status;switch(s[O.wO.ALL]++,u){case O.ih.SUCCESS:return s[O.wO.PASSED]++,n===O.wO.PASSED||n===O.wO.ALL;case O.ih.FAIL:case O.ih.ERROR:case O.ih.UPDATED:return s[O.wO.FAILED]++,n===O.wO.FAILED||n===O.wO.ALL;default:return!0}})).map((function(t){return{data:{id:t.id,entityId:t.id,entityType:Pt.p.Browser,errorStack:void 0,errorTitle:void 0,parentData:void 0,isActive:!0,skipReason:"Unknown reason",status:t.status===O.ih.RUNNING?t.status:e[t.imageIds[t.imageIds.length-1]].status,tags:[],title:[].concat((0,Pr.Z)(t.suitePath),[t.browserName]),images:[e[t.imageIds[t.imageIds.length-1]]]},parentNode:c}}));return{allTreeNodeIds:l.map((function(e){return e.data.id})),visibleTreeNodeIds:[],tree:l,stats:s}}));function No(){var e=(0,c.useDispatch)(),t=Ia(),n=(0,c.useSelector)(co),r=(0,c.useSelector)(lo),a=(0,c.useSelector)(uo),i=(0,c.useSelector)(so),l=(0,c.useSelector)(mo),u=(0,o.useState)(!1),m=(0,d.Z)(u,2),p=m[0],f=m[1],g=(0,s.s0)(),v=(0,s.UO)(),I=(0,o.useRef)(!1),h=(null==n?void 0:n.status)===O.ih.RUNNING,S=(0,c.useSelector)((function(e){return e.app.visualChecksPage.currentNamedImageId})),y=(0,c.useSelector)(To),T=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;null==T||null===(e=T.current)||void 0===e||e.scrollToId(S)}),[T,S]);var N=(0,c.useSelector)((function(e){return e.app.isInitialized})),b=(0,o.useCallback)((function(t){e((0,w.visualChecksPageSetCurrentNamedImage)(t)),f(!0)}),[l]),M=(0,o.useCallback)((function(t){e((0,w.visualChecksPageSetCurrentNamedImage)(t.id)),f(!0)}),[l,r]);(0,o.useEffect)((function(){p&&l&&(e((0,w.changeTestRetry)({browserId:null==l?void 0:l.id,retryIndex:a})),f(!1))}),[p,l]),(0,o.useEffect)((function(){S&&null!==r&&g("".concat(encodeURIComponent(S),"/").concat(r))}),[S,r]),(0,o.useEffect)((function(){if(v&&N&&!I.current&&(I.current=!0,v.imageId&&(e((0,w.visualChecksPageSetCurrentNamedImage)(v.imageId)),void 0!==v.attempt))){var t=v.imageId.split(" ").slice(0,-1).join(" ");e((0,w.changeTestRetry)({browserId:t,retryIndex:Number(v.attempt)}))}}),[v,N]);var C=(0,c.useSelector)(yo),A=(0,c.useSelector)((function(e){return e.ui[Qe.T3.visualChecksPage].sectionSizes})),D=(0,o.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:y.stats[O.wO.ALL]},{icon:(0,Dn.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:y.stats[O.wO.PASSED]},{icon:(0,Dn.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:y.stats[O.wO.FAILED]}]}),[y]),_=(0,o.useCallback)((function(n){e(w.changeViewMode({data:n,page:t}))}),[t]);return o.createElement("div",{className:po.container},o.createElement(pt,{sizes:A,onSizesChange:function(t){e(w.setSectionSizes({sizes:t,page:Qe.T3.visualChecksPage})),(0,We.aV)(t[0])?e(w.setBackupSectionSizes({sizes:[ua.p,100-ua.p],page:Qe.T3.visualChecksPage})):e(w.setBackupSectionSizes({sizes:t,page:Qe.T3.visualChecksPage}))}},o.createElement(no,{title:"Visual Checks",isInitialized:N,treeViewRef:T,treeData:y,treeViewExpandedById:{},currentTreeNodeId:S,onClick:M,statusList:D,statusValue:C,onStatusChange:_}),o.createElement(Je,{key:"test-view",className:E()(po.card,po.testViewCard)},o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackCardCrash,{recommendedAction:"Try to reload page"})},N?o.createElement(o.Fragment,null,n&&o.createElement(So,{currentNamedImage:n,visibleNamedImageIds:y.allTreeNodeIds,onImageChange:b}),i&&!h&&o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},o.createElement("div",{className:po.currentImage},o.createElement(cr,{result:i}))),!i&&!h&&o.createElement("div",{className:po.hint},"This run doesn't have an image with id \"",v.imageId,'"'),h&&o.createElement(ca,null)):o.createElement(fo,null)))))}var bo=n(82979),Mo=n(52505),Co=n(41493),wo=n(36498),Oo=n(77803),Ao=new i.Toaster;function Do(){var e=[{title:"Suites",url:"/suites",icon:r.Z,element:o.createElement(ro,null),children:[o.createElement(s.AW,{key:"suite",path:"/suites/:suiteId?/:stateName?/:attempt?",element:o.createElement(ro,null)})]},{title:"Visual Checks",url:"/visual-checks",icon:a.Z,element:o.createElement(No,null),children:[o.createElement(s.AW,{key:"image",path:"/visual-checks/:imageId?/:attempt?",element:o.createElement(No,null)})]}],t=bo.Z.getState().config.customScripts;return o.createElement(o.StrictMode,null,o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackAppCrash,null)},o.createElement(Mo.h,{scripts:t}),o.createElement(i.ThemeProvider,{theme:"light"},o.createElement(i.ToasterProvider,{toaster:Ao},o.createElement(c.Provider,{store:bo.Z},o.createElement(wo.s,null),o.createElement(Oo.Z,null),o.createElement(Co.n,null,o.createElement(l.UT,null,o.createElement(gn.Boundary,{fallback:o.createElement(gn.FallbackAppCrash,null)},o.createElement(Xe,{pages:e},o.createElement(g,null),o.createElement(s.Z5,null,o.createElement(s.AW,{element:o.createElement(s.Fg,{to:"/suites"}),path:"/"}),e.map((function(e){return o.createElement(s.AW,{element:o.createElement(gn.Boundary,{watchFor:[e.url],fallback:o.createElement(gn.FallbackAppCrash,null)},e.element),path:e.url,key:e.url},e.children)}))),o.createElement(x,null),o.createElement(i.ToasterComponent,null))))))))))}},82022:(e,t,n)=>{n.d(t,{V:()=>c,d:()=>s});var r=n(97698),a=n(40645),i=n(41984),o=n(27202),c=(0,r.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY],(function(e,t,n,r,a,o,c,s,l){var u,d,m,p=l.currentDirection,f=null!==(u=l.availableExpressions.find((function(e){return e.id===l.currentExpressionIds[0]})))&&void 0!==u?u:l.availableExpressions[0],E={results:o,images:c,suites:t,treeViewMode:s,browsersState:a,browsers:r,groups:e,currentSortDirection:p,currentSortExpression:f};if(n.length>0){var g=n.map((function(t){var n=e[t],o=n.browserIds.flatMap((function(e){return a[e].shouldBeShown?[r[e]]:[]})),c=(0,i.pH)(E,n,n.id);return{data:c,children:(0,i.ph)(E,o,c).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),v=(0,i.ow)(E,g),I=(0,i.Ll)(v);return{tree:v,allTreeNodeIds:I.allTreeNodeIds,visibleTreeNodeIds:I.visibleTreeNodeIds}}var h=(0,i.ph)(E,Object.values(r).filter((function(e){return a[e.id].shouldBeShown})));h.children=(0,i.ow)(E,null!==(d=h.children)&&void 0!==d?d:[]);var S=(0,i.Ll)([h]);return{allTreeNodeIds:S.allTreeNodeIds,visibleTreeNodeIds:S.visibleTreeNodeIds,tree:null!==(m=h.children)&&void 0!==m?m:[]}})),s=(0,r.createSelector)([a.O7,a.Wo],(function(e,t){var n={},r=new Set,a=0;Object.values(e).forEach((function(e){var i,o,c=e.parentId,s=e.attempt,l=e.status,u=e.timestamp;(t[c].shouldBeShown||t[c].isHiddenBecauseOfStatus)&&(s>0&&r.add(c),(!n[c]||n[c].timestamp<u)&&(a-=null!==(i=null===(o=n[c])||void 0===o?void 0:o.attempt)&&void 0!==i?i:0,a+=s,n[c]={attempt:s,status:l,timestamp:u}))}));var i={success:0,fail:0,skipped:0,total:Object.keys(n).length,retried:r.size,retries:a,idle:0};return Object.values(n).forEach((function(e){var t=e.status,n=t===o.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(i,n)&&i[n]++})),i}))},11200:(e,t,n)=>{n.d(t,{Qt:()=>d,aV:()=>m,av:()=>c,iT:()=>u,nt:()=>s});var r=n(52902),a=n(36397);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){for(var t=null,n=e;n;){if(n.entityType===r.p.Group){t=n.entityId;break}n=n.parentData}return t},s=function(e){return(0,a.og)(e)?r.p.Browser:r.p.Suite},l=function e(t,n){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n(o))return o.data;if(o.children){var c=e(o.children,n);if(c)return c}}}catch(e){a.e(e)}finally{a.f()}return null},u=function(e,t){return l(e,(function(e){return e.data.entityType===r.p.Browser&&e.data.entityId===t}))},d=function(e,t){return l(e,(function(e){return e.data.id===t}))},m=function(e){return e<1}},40645:(e,t,n)=>{n.d(t,{Al:()=>a,Bl:()=>s,Dr:()=>f,EZ:()=>i,Fn:()=>g,JK:()=>v,Jx:()=>p,LD:()=>o,O7:()=>m,Qy:()=>E,TJ:()=>l,TZ:()=>u,WY:()=>I,Wo:()=>d,c_:()=>h,jA:()=>c});var r=n(27202),a=function(e){return e.apiValues.toolName},i=function(e){return e.tree.suites.allRootIds},o=function(e){return e.tree.groups.allRootIds},c=function(e){return e.tree.groups.byId},s=function(e){return e.tree.suites.byId},l=function(e){return e.tree.suites.stateById},u=function(e){return e.tree.browsers.byId},d=function(e){return e.tree.browsers.stateById},m=function(e){return e.tree.results.byId},p=function(e){return e.tree.images.byId},f=function(e){return e.app.isInitialized},E=function(e){return e.staticImageAccepter.enabled},g=function(e){return e.gui},v=function(e){return e.ui.suitesPage.treeViewMode},I=function(e){return e.app.sortTestsData},h=function(e){return e.app.availableFeatures.includes(r.Wi)||e.app.availableFeatures.includes(r.B$)}},71011:(e,t,n)=>{n.d(t,{Pz:()=>g,XF:()=>f,hk:()=>v,k:()=>E});var r=n(75098),a=n(60148),i=n(27766),o=n(68891),c=n(41421),s=n(27163),l=n(49014),u=n(63690),d=n(2784),m=n(27202),p=n(76635),f=function(e){switch(e){case m.ih.FAIL:case m.ih.ERROR:return d.createElement(r.Z,{className:"icon-fail"});case m.ih.SUCCESS:return d.createElement(a.Z,{className:"icon-success"});case m.ih.SKIPPED:return d.createElement(i.Z,{className:"icon-skip"});case m.ih.RETRY:return d.createElement(o.Z,{className:"icon-retry"});case m.ih.UPDATED:case m.ih.STAGED:return d.createElement(c.Z,{className:"icon-updated"});case m.ih.RUNNING:return d.createElement(u.Spin,{size:"xs"});case m.ih.COMMITED:return d.createElement(s.Z,{className:"icon-committed"});default:return d.createElement(l.Z,null)}},E=function(e){return"".concat(e.size.width,"×").concat(e.size.height)},g=function(e){return(0,p.isString)(e)?e:(0,p.isObject)(e)?JSON.stringify(e):(0,p.isNull)(e)?"null":(0,p.isUndefined)(e)?"undefined":(0,p.toString)(e)},v=function(e){var t=/https?:\/\/[^\s]*/g,n=e.split(t),r=e.match(t)||[];return d.createElement(d.Fragment,null,n.reduce((function(e,t,n){if(e.push(t),r[n]){var a=r[n].startsWith("www.")?"http://".concat(r[n]):r[n];e.push(d.createElement("a",{key:n,href:a,target:"_blank",rel:"noopener noreferrer"},r[n]))}return e}),[]))}}}]);