"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[556],{58733:(e,t,n)=>{n.d(t,{e:()=>r,u:()=>a});var r=function(e){return e.UNKNOWN="unknown",e}({}),a=function(e){return e.LiveSnapshotsStreaming="live-snapshots-streaming",e}({})},72273:(e,t,n)=>{n.d(t,{WY:()=>r,XB:()=>a});var r="https://github.com/gemini-testing/html-reporter/issues/new",a="image comparison failed"},27202:(e,t,n)=>{n.d(t,{B$:()=>o.B$,ES:()=>d.ES,Ez:()=>d.Ez,He:()=>a.He,JW:()=>d.JW,Kr:()=>l.Kr,MR:()=>d.MR,Nv:()=>u.Nv,QV:()=>l.QV,S7:()=>i.S,SA:()=>l.SA,SH:()=>d.SH,WY:()=>s.WY,Wi:()=>o.Wi,XB:()=>s.XB,YO:()=>m.Y,eb:()=>r.e,em:()=>d.em,ih:()=>d.ih,kb:()=>d.kb,nx:()=>c.n,pn:()=>d.pn,qW:()=>o.qW,sS:()=>d.sS,t6:()=>d.t6,uf:()=>r.u,wO:()=>p.w,yW:()=>a.yW});var r=n(58733),a=n(46126),i=n(58270),c=n(58615),s=n(72273),o=n(28909),l=n(54077),u=n(71770),d=(n(32705),n(75631),n(62602)),m=n(14811),p=n(37487)},30266:(e,t,n)=>{n.d(t,{JX:()=>r});var r={BEGIN_SUITE:"beginSuite",BEGIN_STATE:"beginState",TEST_RESULT:"testResult",RETRY:"retry",ERROR:"err",END:"end",CONNECTED:"connected",DOM_SNAPSHOTS:"DOM_SNAPSHOTS"}},55862:(e,t,n)=>{n.d(t,{types:()=>B});var r=n(9249),a=n(87371),i=n(45754),c=n(11987),s=n(95058),o=n(56666),l=n(13980),u=n.n(l),d=n(2784),m=n(49330),p=n(50479);function f(e){var t=E();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var g=function(e){(0,i.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.browserId,r=e.equalImages,a=e.comparedImages;return d.createElement(m.Z,{size:"small",open:!0,onClose:t},d.createElement(m.Z.Header,{content:"Find same diffs result"}),d.createElement(m.Z.Content,{scrolling:!0},d.createElement("p",null,"Search was carried out in: ",d.createElement("b",null,n)),d.createElement("p",null,"Found ",d.createElement("b",null,r)," equal images from ",d.createElement("b",null,a))),d.createElement(m.Z.Actions,null,d.createElement(p.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),n}(d.Component);(0,o.Z)(g,"propTypes",{onClose:u().func.isRequired,browserId:u().string.isRequired,equalImages:u().number.isRequired,comparedImages:u().number.isRequired});var v=n(68079),h=n(34795),I=n(80753),S=n(82841),y=n.n(S),T=n(4792),N=n(18717),b=n(76635),M=n(64141),C=n(41381),w=n(26611),O=n(99913),A=n(69875),D=n(78272),_=n(41493),L=n(79483);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=j();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var P=function(e){(0,i.Z)(c,e);var t,n=R(c);function c(e){var t;(0,r.Z)(this,c),t=n.call(this,e),(0,o.Z)((0,I.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,o.Z)((0,I.Z)(t),"onActiveImageChange",(function(e){var n=t._getActiveImages(e);t.setState({retryIndex:n.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,o.Z)((0,I.Z)(t),"onScreenshotAccept",function(){var e=(0,h.Z)(y().mark((function e(n){var r,a,i,c,s,o,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._getActiveImages(),a=r[0].stateName,i=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===n}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(n,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(n,a);case 9:e.t0=e.sent;case 10:if(null!==(c=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[i],ind:i,imageId:c}),s=t.state.stateNameImageIds.filter((function(e,t){return t!==i})),!(0,b.isEmpty)(s)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:s,retryIndex:null}));case 17:o=Math.min(t.state.activeImageIndex,s.length-1),l=t._getActiveImages(o,s),t.setState({activeImageIndex:o,stateNameImageIds:s,retryIndex:l.length-1}),t._preloadAdjacentImages(o,s);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)((0,I.Z)(t),"onScreenshotUndo",(0,h.Z)(y().mark((function e(){var n,r,a,i,c,s,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,b.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(n=t.state.stateNameImageIds,r=t.acceptedImages.pop(),a=r.stateNameImageId,i=r.ind,c=r.imageId,s=[].concat((0,v.Z)(n.slice(0,i)),[a],(0,v.Z)(n.slice(i))),o=t._getActiveImages(i,s),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[c],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:i,stateNameImageIds:s,retryIndex:o.length-1}),t._preloadAdjacentImages(i,s);case 15:case"end":return e.stop()}}),e)})))),(0,o.Z)((0,I.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,o.Z)((0,I.Z)(t),"onClose",(function(){if((0,b.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,b.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,o.Z)((0,I.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,i=a.image,s=a.activeImageIndex,l=a.stateNameImageIds,u=a.imagesByStateName,m=t._getActiveImages(s,l),p=(0,b.findIndex)(m,{id:i.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:l,activeImageIndex:s,retryIndex:p,showMeta:!1,disposables:{}},t.topRef=d.createRef(),t.totalImagesCount=(0,b.size)(u);for(var f=1;f<=3;f++)t._preloadAdjacentImages(s,l,f);return t.analytics=t.context,t}return(0,a.Z)(c,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,b.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,h.Z)(y().mark((function e(t,n){var r,a,i,c,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(r=this.analytics)||void 0===r||r.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),i=(0,b.get)(a,"[0].images",[]),c=i.find((function(e){return e.stateName===n}))||{},s=c.id,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var n=this,r=this.props.stateNameImageIds.find((function(t){return n.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:r}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,b.size)(t);[(a+e-r)%a,(e+r)%a].filter((function(e){return e>=0})).forEach((function(e){var r=t[e],a=(0,b.last)(n.props.imagesByStateName[r]),i=a.expectedImg,c=a.actualImg,s=a.diffImg,o={};[i,c,s].filter(Boolean).forEach((function(e){var t=e.path,n=(0,L.p)(t);o[t]=n})),n.setState({disposables:k(k({},n.state.disposables),o)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.view,r=e.staticImageAccepter,a=this.state,i=a.retryIndex,c=a.stateNameImageIds,s=a.activeImageIndex,o=a.showMeta,l=this._getActiveImages(),u=(0,b.isNumber)(i)?l[i]:null,m=this.totalImagesCount-c.length;return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.topRef}),d.createElement(C.Z,{actions:t,view:n,images:l,stateNameImageIds:c,retryIndex:i,activeImageIndex:s,showMeta:o,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:m,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:r}),d.createElement(w.Z,{showMeta:o,image:u}),d.createElement(O.Z,{image:u}))}}]),c}(d.Component);(0,o.Z)(P,"contextType",_.f),(0,o.Z)(P,"propTypes",{view:u().shape({diffMode:u().string.isRequired}),image:u().shape({id:u().string.isRequired,parentId:u().string.isRequired,stateName:u().string.isRequired}).isRequired,onClose:u().func.isRequired,imagesByStateName:u().object.isRequired,stateNameImageIds:u().arrayOf(u().string).isRequired,activeImageIndex:u().number.isRequired,staticImageAccepter:D.O$,actions:u().object.isRequired});(0,T.connect)((function(e,t){var n=t.image,r=(0,A.getAcceptableImagesByStateName)(e),a=Object.keys(r),i=e.tree.results.byId[n.parentId].parentId,c="".concat(i," ").concat(n.stateName),s=a.indexOf(c),o=e.staticImageAccepter;return{view:e.view,imagesByStateName:r,stateNameImageIds:a,activeImageIndex:s,staticImageAccepter:o}}),(function(e){return{actions:(0,N.bindActionCreators)(M,e)}}))(P);var Z=n(93150);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,T.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,N.bindActionCreators)(M,e)}}))((function(e){var t=e.toolName,n=e.staticImageAccepter,r=e.staticAccepterConfig,a=e.imagesById,i=e.actions,c="chore: update ".concat(t," screenshot references"),s=r.pullRequestUrl,o=(0,d.useRef)(null);(0,d.useEffect)((function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var l=(0,d.useMemo)((function(){return(0,D.Yo)(Object.values(n.acceptableImages),a,n.accepterDelayedImages)}),[n,a]),u=function(){var e=(0,h.Z)(y().mark((function e(){var t,n,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===(t=o.current)||void 0===t?void 0:t.value)||c,a=U(U({},(0,b.pick)(r,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:n}),e.next=4,i.staticAccepterCommitScreenshot(l,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement(Z.Zbd,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},d.createElement(Z.xvT,null,"You are commiting ",l.length," images to Pull Request:"),d.createElement("br",null),d.createElement(Z.rUS,{href:s,target:"_blank"},s),d.createElement("br",null),d.createElement("br",null),d.createElement("br",null),d.createElement(Z.xvT,null,"Enter commit message:"),d.createElement(Z.Kx8,{autoFocus:!0,defaultValue:c,controlRef:o,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),u())}}),d.createElement("div",{className:"static-accepter-confirm__controls"},d.createElement(Z.zxk,{className:"static-accepter-confirm__cancel",onClick:function(){i.staticAccepterCloseConfirm()}},"Cancel"),d.createElement(Z.zxk,{view:"action",className:"static-accepter-confirm__confirm",onClick:u},"Commit")))}));var B={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},97566:(e,t,n)=>{n.d(t,{Z:()=>r});const r={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES"}},29909:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_BROWSER_FEATURES,payload:e}}},70839:(e,t,n)=>{n.d(t,{M:()=>u,u:()=>l});var r=n(34795),a=n(82841),i=n.n(a),c=n(87741),s=n(97566),o=n(48394),l=function(e){return{type:s.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},u=function(e){return function(){var t=(0,r.Z)(i().mark((function t(n){var r,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.sectionName,a=e.groupIndex,s=e.controlIndex,t.next=4,c.default.post("/run-custom-gui-action",{sectionName:r,groupIndex:a,controlIndex:s});case 4:n(l(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((0,o.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},19272:(e,t,n)=>{n.d(t,{Lf:()=>s,QC:()=>i,QJ:()=>o,R4:()=>l,cQ:()=>c});var r=n(97566),a=n(94646),i=function(e){return{type:r.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},c=function(e){return{type:r.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},s=function(e){return{type:r.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},o=function(e){return(0,a.WI)(e.data),{type:r.Z.BROWSERS_SELECTED,payload:e}},l=function(e){return{type:r.Z.CHANGE_VIEW_MODE,payload:e}}},60540:(e,t,n)=>{n.d(t,{C:()=>m});var r=n(34795),a=n(82841),i=n.n(a),c=n(76635),s=n(87741),o=n(55862),l=n(33981),u=n(70807),d=n(95834),m=function(e,t,n){return function(){var a=(0,r.Z)(i().mark((function r(a){var m,p,f,E,g;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a((0,l.o)({active:!0,content:"Find same diffs..."})),m=t.filter((function(t){return t.includes(n)&&t!==e})),p=[],r.prev=3,(0,c.isEmpty)(m)){r.next=13;break}return r.next=7,s.default.post("/get-find-equal-diffs-data",[e].concat(m));case 7:if(f=r.sent,E=f.data,(0,c.isEmpty)(E)){r.next=13;break}return r.next=12,s.default.post("/find-equal-diffs",E);case 12:p=r.sent.data;case 13:g=(0,c.difference)(t,[].concat(e,p)),(0,c.isEmpty)(g)||a((0,u.DI)(g)),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(3),console.error("Error while trying to find equal diffs:",r.t0);case 20:return r.prev=20,a((0,l.o)({active:!1})),a((0,d.h)({id:o.types.FIND_SAME_DIFFS,type:o.types.FIND_SAME_DIFFS,data:{browserId:n,equalImages:p.length,comparedImages:m.length}})),r.finish(20);case 24:case"end":return r.stop()}}),r,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()}},32481:(e,t,n)=>{n.d(t,{I:()=>a,i:()=>i});var r=n(97566),a=function(e){return{type:r.Z.GROUP_TESTS_BY_KEY,payload:e}},i=function(e){return{type:r.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}}},48907:(e,t,n)=>{n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},33981:(e,t,n)=>{n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_LOADING,payload:e}}},95834:(e,t,n)=>{n.d(t,{M:()=>i,h:()=>a});var r=n(97566),a=function(e){return{type:r.Z.OPEN_MODAL,payload:e}},i=function(e){return{type:r.Z.CLOSE_MODAL,payload:e}}},48394:(e,t,n)=>{n.d(t,{N5:()=>a.N5,sc:()=>o,uX:()=>l});var r=n(56666),a=n(78505),i=n(14054);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=s({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},r);return(0,a.h4)(s({id:e,status:t,message:n},i))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return o(e,"error",(0,i.ML)(t),n)}},84787:(e,t,n)=>{n.d(t,{$:()=>a,E:()=>i});var r=n(97566),a=function(){return{type:r.Z.PROCESS_BEGIN}},i=function(){return{type:r.Z.PROCESS_END}}},54432:(e,t,n)=>{n.d(t,{GC:()=>u,Ku:()=>p,Ro:()=>d,sP:()=>m});var r=n(34795),a=n(82841),i=n.n(a),c=n(87741),s=n(97566),o=n(84787),l=n(48394),u=function(e){return{type:s.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},d=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,s,d,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,o.$)()),e.prev=1,e.next=4,c.default.post("/reference-data-to-update",t);case 4:return r=e.sent,s=r.data,e.next=8,c.default.post("/update-reference",s);case 8:return d=e.sent,m=d.data,a&&n(u(m)),n((0,o.E)()),e.abrupt("return",m);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),n((0,l.uX)("acceptScreenshot",e.t0)),n((0,o.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return{type:s.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},p=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,s,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,o.$)()),e.prev=1,e.next=4,c.default.post("/reference-data-to-update",t);case 4:return r=e.sent,s=r.data,e.next=8,c.default.post("/undo-accept-images",s);case 8:u=e.sent,d=u.data,a&&n(m(d)),n((0,o.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),n((0,l.uX)("undoScreenshot",e.t0)),n((0,o.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},22253:(e,t,n)=>{n.d(t,{B:()=>a,H:()=>i});var r=n(97566),a=function(e){return{type:r.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},i=function(e){return{type:r.Z.SET_DIFF_MODE,payload:e}}},58311:(e,t,n)=>{n.d(t,{Q:()=>a,u:()=>i});var r=n(97566),a=function(e){return{type:r.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},i=function(e){return{type:r.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},49012:(e,t,n)=>{n.d(t,{A2:()=>I,FD:()=>y,Lt:()=>w,cO:()=>S,dd:()=>b,mm:()=>C,sv:()=>M,vx:()=>T,x_:()=>N});var r=n(56666),a=n(34795),i=n(82841),c=n.n(i),s=n(87741),o=n(76635),l=n(19456),u=n.n(l),d=n(55862),m=n(14054),p=n(78272),f=n(97566),E=n(95834),g=n(48394);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return{type:f.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},S=function(){return{type:f.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},y=function(e){return{type:f.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},T=function(e){return{type:f.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},N=function(){return(0,E.h)({id:d.types.STATIC_ACCEPTER_CONFIRM,type:d.types.STATIC_ACCEPTER_CONFIRM})},b=function(){return(0,E.M)({id:d.types.STATIC_ACCEPTER_CONFIRM})},M=function(e,t){var n=t.repositoryUrl,r=t.pullRequestUrl,i=t.serviceUrl,l=t.message,d=t.axiosRequestOptions,E=void 0===d?{}:d,v=t.meta;return function(){var t=(0,a.Z)(c().mark((function t(d){var I,S,y,T,N,M,C,w;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d({type:f.Z.PROCESS_BEGIN}),d(b()),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(I=new FormData).append("repositoryUrl",n),I.append("pullRequestUrl",r),I.append("message",l),(0,o.isEmpty)(v)||I.append("meta",JSON.stringify(v)),S=new(u())({concurrency:256}),y=c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.add((0,a.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Ow)(e[n].image);case 2:r=t.sent,I.append("image",r,e[n].path),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(n+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),T=0;case 14:if(!(T<e.length)){t.next=19;break}return t.delegateYield(y(T),"t0",16);case 16:T++,t.next=14;break;case 19:return t.next=21,S.onIdle();case 21:return d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,s.default.post(i,I,h(h({},E),{},{onUploadProgress:function(e){var t;d({type:f.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(N=t.sent,M=e.map((function(e){return e.id})),C=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(N.status>=200&&N.status<400)){t.next=35;break}d({type:f.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:M}),(0,p.AM)(C),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),d((0,g.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw w=["Unexpected status code from the service: ".concat(N.status,"."),"Server response: '".concat(N.data,"'")].join("\n"),new Error(w);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),d((0,g.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),d({type:f.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},w=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}}},40554:(e,t,n)=>{n.d(t,{$X:()=>u,Bq:()=>i,Gm:()=>c,KW:()=>m,Nu:()=>o,Qh:()=>f,_r:()=>a,cI:()=>s,gM:()=>p,o9:()=>l,tF:()=>E,zE:()=>d});var r=n(97566),a=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},i=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},c=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},s=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},o=function(e){return{type:r.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},l=function(e){return{type:r.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},u=function(e){return{type:r.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},d=function(e){return{type:r.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},m=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},p=function(e){return{type:r.Z.PAGE_SET_SECTION_SIZES,payload:e}},f=function(e){return{type:r.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},E=function(e){return{type:r.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},70807:(e,t,n)=>{n.d(t,{Cd:()=>h,DI:()=>i,IP:()=>g,LL:()=>v,T9:()=>E,V1:()=>o,Z$:()=>f,cd:()=>m,iB:()=>I,kF:()=>d,kR:()=>s,nS:()=>p,qz:()=>a,td:()=>c,tp:()=>u,vf:()=>l});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_STATE_RESULT,payload:e}},i=function(e){return{type:r.Z.CLOSE_SECTIONS,payload:e}},c=function(){return{type:r.Z.SELECT_ALL}},s=function(){return{type:r.Z.DESELECT_ALL}},o=function(){return{type:r.Z.VIEW_EXPAND_ALL}},l=function(){return{type:r.Z.VIEW_EXPAND_ERRORS}},u=function(){return{type:r.Z.VIEW_EXPAND_RETRIES}},d=function(){return{type:r.Z.VIEW_COLLAPSE_ALL}},m=function(e){return{type:r.Z.TOGGLE_SUITE_SECTION,payload:e}},p=function(e){return{type:r.Z.TOGGLE_BROWSER_SECTION,payload:e}},f=function(e){return{type:r.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},E=function(e){return{type:r.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},g=function(e){return{type:r.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},v=function(e){return{type:r.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},h=function(e){return{type:r.Z.TOGGLE_TESTS_GROUP,payload:e}},I=function(e){return{type:r.Z.CHANGE_TEST_RETRY,payload:e}}},84006:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(97566),a=function(e){return{type:r.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:{namedImageId:e}}}},21942:(e,t,n)=>{n.d(t,{Ed:()=>p,GZ:()=>d,sy:()=>u});var r=n(68079),a=n(34795),i=n(82841),c=n.n(i),s=n(98631),o=Object.create(null),l=[];function u(e){e&&e.pluginsEnabled&&Array.isArray(e.plugins)&&e.plugins.forEach((function(e){return(0,s.b)(e.name)}))}function d(e){return m.apply(this,arguments)}function m(){return m=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.pluginsEnabled&&Array.isArray(t.plugins)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(t.plugins.map(function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.O)(t.name,t.config);case 2:if(!(n=e.sent)){e.next=6;break}return o[t.name]=n,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,l.push.apply(l,(0,r.Z)(n.filter(Boolean)));case 6:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function p(e){var t=new Set;l.forEach((function(n){var r=n.name;if(!t.has(r)){t.add(r);try{e(o[r],r)}catch(e){console.error('Error on "'.concat(r,'" plugin iteration:'),e)}}}))}},94646:(e,t,n)=>{n.d(t,{V$:()=>l,WI:()=>u,mB:()=>s});var r=n(96234),a=n(19126),i=n.n(a),c=n(76635);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),i().parse(e,{decoder:function(e,n,r,a){if("key"===a){var i=n(e,null,r);return t[i]?t[i]:i}var c=n(e,null,r);return"true"===c||"false"!==c&&(c&&!isNaN(c)?Number(c):c)}})):{}}function o(e){return e.map((function(e){var t=e.id,n=e.versions,r=encodeURIComponent(t);if((0,c.isEmpty)(n))return r;var a=n.map(encodeURIComponent).join(",");return"".concat(r,":").concat(a)}))}function l(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),n=(0,r.Z)(t,2),a=n[0],i=n[1],s=(void 0===i?"":i).split(",").map(decodeURIComponent);return{id:decodeURIComponent(a),versions:(0,c.compact)(s)}}))}function u(e){var t,n,r,a,s,l=(t=window.location.href,n={browser:o(e)},r=new URL(t),a=r.search||"",s=(0,c.assign)(i().parse(a.slice(1)),n),r.search=i().stringify(s,{arrayFormat:"repeat"}),r.href);window.history.pushState(null,null,l)}},47039:(e,t,n)=>{n.r(t),n.d(t,{getStatsFilteredByBrowsers:()=>c});var r=n(97698),a=n(76635),i=n(51869),c=(0,r.createSelector)((function(e){return e.stats}),i.getFilteredBrowsers,(function(e,t){if((0,a.isEmpty)(t)||(0,a.isEmpty)(e.perBrowser))return e.all;var n={},r=t.map((function(t){var n=t.id,r=t.versions;return(0,a.isEmpty)(r)?(0,a.keys)(e.perBrowser[n]).map((function(t){return e.perBrowser[n][t]})):r.map((function(t){return e.perBrowser[n][t]}))}));return(0,a.flatten)(r).forEach((function(e){(0,a.forEach)(e,(function(e,t){n[t]=void 0===n[t]?e:n[t]+e}))})),n}))},69875:(e,t,n)=>{n.r(t),n.d(t,{areAllRootSuitesIdle:()=>U,getAcceptableImagesByStateName:()=>I,getAcceptableOpenedImageIds:()=>b,getCheckedTests:()=>h,getFailedOpenedImageIds:()=>M,getFailedSuiteResults:()=>j,getFailedTests:()=>v,getSelectedBrowserIds:()=>w,getSelectedImages:()=>D,getSuiteResults:()=>L,getVisibleBrowserIds:()=>C,getVisibleImages:()=>A,getVisibleRootSuiteIds:()=>_,mkGetLastImageByStateName:()=>g,mkGetTestsBySuiteId:()=>E});var r=n(76635),a=n(97698),i=n(37487),c=n(9560),s=n(14054),o=n(40645),l=n(8776),u=function(e){return e.tree.suites.stateById},d=function(e){return e.tree.browsers.allIds},m=function(e){return e.tree.browsers.stateById},p=function(e,t){var n=t.suiteId;return e.tree.suites.byId[n]},f=function(e,t){var n=t.imageId;return e.tree.images.byId[n]},E=function(){return(0,a.createSelector)(p,o.Bl,o.TZ,(function(e,t,n){return k(e,{suites:t,browsers:n}).map((function(e){return{testName:e.parentId,browserName:e.name}}))}))},g=function(){return(0,a.createSelector)(f,o.TZ,o.O7,o.Jx,Z)},v=(0,a.createSelector)(o.Bl,o.TZ,o.O7,(function(e){return e.tree.suites.failedRootIds}),(function(e,t,n,a){return(0,r.flatMap)(a,(function(a){return L(e[a],{suites:e,browsers:t,results:n},r.last)})).filter((function(e){return(0,s.D8)(e)})).map((function(e){var n=e.parentId,r=t[n];return{testName:r.parentId,browserName:r.name,metaInfo:e.metaInfo}}))})),h=(0,a.createSelector)(d,o.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus})).map((function(e){return{testName:t[e].parentId,browserName:t[e].name}}))})),I=(0,a.createSelector)(m,o.TZ,o.O7,o.Jx,(function(e,t,n,a){var i=function(e){var r=z(e,t,n);return{suiteId:r.parentId,browserName:r.name}},c=Object.keys(e).filter((function(t){return e[t].shouldBeShown})).map((function(e){return t[e]}));return(0,r.flatMap)(c,(function(e){return R(e,{results:n,images:a})})).filter(s.h3).sort((function(e,t){var n=i(e),r=n.suiteId,a=n.browserName,c=i(t),s=c.suiteId,o=c.browserName,l=r.localeCompare(s);return 0===l?a.localeCompare(o):l})).reduce((function(e,r){var i=Z(r,t,n,a);if((0,s.F7)(i))return e;var c=n[r.parentId],o="".concat(c.parentId," ").concat(r.stateName);return e[o]?e[o].push(r):e[o]=[r],e}),{})})),S=(0,a.createSelector)(o.EZ,o.Bl,u,(function(e,t,n){var a=function(e){var t=n[e.id],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a},i=e.map((function(e){return t[e]})).filter(a);return(0,r.flatMap)(i,(function(e){return x(e,{suites:t},a)}))})),y=(0,a.createSelector)(S,o.TZ,m,S,(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.browserIds})).filter((function(e){var t=n[e],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a})).map((function(e){return t[e]}))})),T=(0,a.createSelector)(y,m,o.O7,(function(e,t,n){return e.map((function(e){var r=t[e.id].retryIndex,a=e.resultIds[r];return n[a]}))})),N=(0,a.createSelector)(T,o.Jx,(function(e){return e.tree.images.stateById}),(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.imageIds.filter((function(e){return n[e].shouldBeOpened})).map((function(e){return t[e]}))}))})),b=(0,a.createSelector)(N,(function(e){return e.filter(s.h3).map((function(e){return e.id}))})),M=(0,a.createSelector)(N,(function(e){return e.filter(s.D8).map((function(e){return e.id}))})),C=(0,a.createSelector)(d,m,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))})),w=(0,a.createSelector)(d,o.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus===l.ri}))})),O=function(e,t,n,a,i,c){return e.map((function(e){return(0,r.last)(t[e].resultIds)})).flatMap((function(e){return n[e].imageIds.map((function(e){return a[e]})).filter((function(e){return(0,s.h3)(e)||(0,s.KD)({image:e,isLastResult:!0,isStaticImageAccepterEnabled:i,gui:c})}))}))},A=(0,a.createSelector)(C,o.TZ,o.O7,o.Jx,o.Qy,o.Fn,O),D=(0,a.createSelector)(w,o.TZ,o.O7,o.Jx,o.Qy,o.Fn,O),_=(0,a.createSelector)((function(e){return e.app.suitesPage.viewMode===i.w.FAILED?e.tree.suites.failedRootIds:e.tree.suites.allRootIds}),u,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))}));function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity,a=t.suites,i=t.browsers,c=t.results;return(0,s.Et)(e,{suiteCb:function(e){return L(a[e],t,n)},browserCb:function(e){return[].concat(n(i[e].resultIds)).map((function(e){return c[e]}))}})}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity;return n(e)?(0,s.Et)(e,{suiteCb:function(e){return x(t.suites[e],t,n)},browserIdsCb:function(e,t){return[t]}}):[]}function k(e,t){var n=t.suites,a=t.browsers;return e.browserIds?e.browserIds.map((function(e){return a[e]})):(0,r.flatMap)(e.suiteIds,(function(e){return k(n[e],t)}))}function R(e,t){var n=t.results,a=t.images;return e.imageIds?[].concat(e.imageIds).map((function(e){return a[e]})):(0,r.flatMap)(e.resultIds,(function(e){return R(n[e],t)}))}function j(e){var t=e.suites.failedRootIds.map((function(t){return e.suites.byId[t]})),n=(0,r.compact)((0,r.flatMap)(t,(function(t){return P(t,e.suites.byId)})));return(0,r.flatMap)(n,(function(t){return(0,s.Et)(t,{browserCb:function(t){return e.browsers.byId[t].resultIds.map((function(t){return e.results.byId[t]}))}})}))}function P(e,t){return(0,s.D8)(e)?(0,s.Et)(e,{suiteCb:function(e){return P(t[e],t)},browserIdsCb:function(e,t){return[t]}}):[]}function Z(e,t,n,a){var i=z(e,t,n),c=(0,r.flatMap)(i.resultIds,(function(e){return n[e].imageIds.map((function(e){return a[e]}))}));return(0,r.findLast)(c,{stateName:e.stateName})}function z(e,t,n){return t[n[e.parentId].parentId]}var U=(0,a.createSelector)(o.EZ,o.Bl,(function(e,t){return!e.some((function(e){return!(0,c.nc)(t[e].status)}))}))},51869:(e,t,n)=>{n.r(t),n.d(t,{getFilteredBrowsers:()=>r,getKeyToGroupTestsBy:()=>a});var r=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,n)=>{n.d(t,{AM:()=>v,Iv:()=>g,O$:()=>h,Yo:()=>f,fQ:()=>p});var r=n(56666),a=n(13980),i=n.n(a),c=n(76635),s=n(27202),o=n(31804);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=null,m="static-image-accepter",p=function(e,t){if(null!==d)return d;if(!e||!e.enabled||t)return d=!1;var n=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return n.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(n.join(", "),"' is(/are) missing!")),d=!1):d=!0},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.filter((function(e){return e.commitStatus===s.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(n);if(r.find((function(e){var n,r=e.imageId;return!(null!==(n=t[r].refImg)&&void 0!==n&&n.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return r.map((function(e){var n=e.imageId;return{id:n,stateNameImageId:e.stateNameImageId,image:t[n].actualImg.path,path:t[n].refImg.relativePath}}))},E=function(){var e=(0,c.get)(window,["data","date"]),t=(0,c.get)(window,["location","pathname"]),n=o.rV(m,null);return n&&n.date===e&&n.pathName===t?n.commitedImages:{}},g=function(){return Object.values(E())},v=function(e){var t=(0,c.get)(window,["data","date"]),n=(0,c.get)(window,["location","pathname"]),r=E(),a=e.reduce((function(e,t){var n=t.imageId;return e[t.stateNameImageId]=n,e}),{});o.LS(m,{date:t,pathName:n,commitedImages:u(u({},r),a)})},h=i().shape({enabled:i().bool.isRequired,accepterDelayedImages:i().arrayOf(i().shape({imageId:i().string.isRequired,stateName:i().string.isRequired,stateNameImageId:i().string.isRequired})).isRequired,acceptableImages:i().objectOf(i().shape({id:i().string.isRequired,parentId:i().string.isRequired,stateName:i().string.isRequired,commitStatus:i().oneOf([null,s.Ez,s.t6]),originalStatus:i().string.isRequired}))})},79483:(e,t,n)=>{n.d(t,{m:()=>o,p:()=>s});var r=n(9249),a=n(87371),i=n(56666),c=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var n;null===(n=e.cache[t])||void 0===n||n.remove(),delete e.cache[t]}}]),e}();function s(e){return c.register(e),function(){return c.dispose(e)}}function o(e){var t=[];return function(e){return Object.hasOwn(e,"expectedImg")}(e)&&t.push(s(e.expectedImg.path)),function(e){return Object.hasOwn(e,"actualImg")}(e)&&t.push(s(e.actualImg.path)),function(e){return Object.hasOwn(e,"diffImg")}(e)&&t.push(s(e.diffImg.path)),function(e){return Object.hasOwn(e,"refImg")}(e)&&t.push(s(e.refImg.path)),function(){return t.forEach((function(e){return e()}))}}(0,i.Z)(c,"cache",{})},14054:(e,t,n)=>{n.d(t,{An:()=>M,D8:()=>E,Et:()=>b,F7:()=>g,Gz:()=>T,KD:()=>h,ML:()=>S,Ow:()=>C,TV:()=>y,V_:()=>I,h3:()=>v,kp:()=>N,rm:()=>p.rm});var r=n(86522),a=n(34795),i=n(46840),c=n(68079),s=n(82841),o=n.n(s),l=n(76635),u=n(89325),d=n(9560),m=n(27202),p=n(21990),f=Object.values(m.SA);function E(e){return(0,d.R6)(e.status)||(0,d.KM)(e.status)}function g(e){return(0,d.Mg)(e.status)||(0,d.Cr)(e.status)||(0,d.Cx)(e.status)||(0,d.hO)(e.status)}function v(e){var t=e.status,n=e.error;return(0,d.KM)(t)&&((0,d.S5)(n)||(0,d.Ne)(n))||(0,d.R6)(t)||(0,d.sx)(t)}function h(e){var t=e.gui,n=e.image,r=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,n=e.image,r=e.isLastResult;return t&&n.stateName&&r&&(0,d.Cr)(n.status)}({gui:t,image:n,isLastResult:r})||function(e){var t=e.gui,n=e.image,r=e.isStaticImageAccepterEnabled;return!t&&r&&n.stateName&&(0,d.Cx)(n.status)}({gui:t,image:n,isStaticImageAccepterEnabled:a})}function I(e){if(!e)return"";var t=(0,l.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function S(e){var t=e.message,n=e.response;return n?"(".concat(n.status,") ").concat(n.data):t}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.strictMatchFilter,i=r.useMatchCaseFilter,c=void 0!==i&&i,s=r.useRegexFilter,o=void 0!==s&&s,l=r.isNewUi;if(!n)return{isMatch:!0,score:1};if(!(void 0===l||l)){var d=function(e,t,n,r){if(!n)return!0;var a=n.replace(/ /g,"(?: | › )");return r?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,n,a);return{isMatch:d,score:d?1:0}}var p=c?"":"i";if(o)try{var f=new RegExp(n,p);return{isMatch:f.test(e)||f.test("".concat(e," ").concat(t)),score:0}}catch(e){return{isMatch:!1,score:0}}if(a){var E=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),g="^".concat(E.replace(/ /g,"(?: | › )"),"$");try{var v=new RegExp(g,p);return{isMatch:v.test(e)||v.test("".concat(e," ").concat(t)),score:0}}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(g,". Please file an issue at ").concat(m.WY)),{isMatch:!1,score:0}}}return n.length<256?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new u.Z(e,{keys:["title"],threshold:.4,isCaseSensitive:n,findAllMatches:!0,ignoreLocation:!0,includeScore:!0}).search(t);return 0===r.length?{isMatch:!1,score:1}:{isMatch:!0,score:1-r.reduce((function(e,t){return t.score<e.score?t:e}),r[0]).score}}([{title:"".concat(e," ").concat(t)}],{$or:[{title:n},{title:O(n)}]},c):{isMatch:"".concat(e," ").concat(t).includes(n),score:0}}function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return n===m.wO.ALL||(!(n!==m.wO.PASSED||!(0,d.Mg)(t))||(!(n!==m.wO.FAILED||!(0,d.R6)(t)&&!(0,d.KM)(t))||(n===m.wO.RETRIED?(0,p.xg)(e,r,"resultIds.length")>1:t===n)))}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,l.isEmpty)(t))return!0;var r=(0,l.find)(t,{id:(0,p.xg)(e,n,"name")});if(!r)return!1;var a=[].concat(r.versions).filter(Boolean);return!!(0,l.isEmpty)(a)||a.includes((0,p.xg)(e,n,"version"))}function b(e,t){var n=t.suiteCb,r=t.browserCb,a=t.browserIdsCb,i=[],s=[];return e.browserIds&&[r,a].some(l.isFunction)&&(i=a?a(e.browserIds,e):(0,l.flatMap)(e.browserIds,(function(t){return r(t,e)}))),e.suiteIds&&(0,l.isFunction)(n)&&(s=(0,l.flatMap)(e.suiteIds,(function(t){return n(t,e)}))),[].concat((0,c.Z)(i),(0,c.Z)(s))}function M(e){var t=e.split(m.QV),n=(0,i.Z)(t),r=n[0],a=n.slice(1);if(a=a.join(m.QV),!f.includes(r))throw new Error("Group section must be one of ".concat(f.join(", "),", but got ").concat(r));if(r===m.SA.RESULT&&!m.Kr.includes(a))throw new Error("Group key must be one of ".concat(m.Kr.join(", "),", but got ").concat(a));return[r,a]}function C(e){return w.apply(this,arguments)}function w(){return w=(0,a.Z)(o().mark((function e(t){var n,a,i,c,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n=s.length>1&&void 0!==s[1]?s[1]:3,i=o().mark((function e(){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){return e(r.response)},r.onerror=function(){return n(new Error("Got an error trying to download object at: ".concat(t)))},r.open("GET",t),r.responseType="blob",r.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return r=n-a,i=500*Math.pow(2,r),e.next=16,new Promise((function(e){return setTimeout(e,i)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(i(),"t0",5);case 5:if(c=e.t0,"object"!==(0,r.Z)(c)){e.next=8;break}return e.abrupt("return",c.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function O(e){if(!e)return"";for(var t,n,r="`qwertyuiop[]\\asdfghjkl;'zxcvbnm,.~QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?",a="ёйцукенгшщзхъ\\фывапролджэячсмитьбюЁЙЦУКЕНГШЩЗХЪ|ФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,",i=!1,c=0;c<e.length;c++){var s=e[c];if(r.includes(s)){t=r,n=a,i=!0;break}if(a.includes(s)){t=a,n=r,i=!0;break}}if(!i)return e;for(var o="",l=0;l<e.length;l++){var u=e[l],d=t.indexOf(u);o+=d>=0?n[d]:u}return o}},63985:(e,t,n)=>{n.d(t,{g:()=>uc});var r=n(91545),a=n(34871),i=n(93150),c=(n(43810),n(636),n(2784)),s=n(4792),o=n(73557),l=n(39857),u=n(56666),d=n(96234);const m={container:"lnO8uESZgfvSVtEYpGam",hidden:"CCI5LqUNgjS7zF83pAM6",message:"_0P3PuPuWLCazLlHikM5Q","message-container":"ctAvRjl5qkms0WmO9Dyu",messageContainer:"ctAvRjl5qkms0WmO9Dyu",loader:"pYmZDVrmXITQHOBg1tOt",l3:"gOFBlufBkLmypSqR7R2v","progress-container":"yVAMk4VsEQ_6jVIb0ZeI",progressContainer:"yVAMk4VsEQ_6jVIb0ZeI","progress-pulse":"sp69klhG7YYuGCk2ohtA",progressPulse:"sp69klhG7YYuGCk2ohtA"};var p=function(e){var t=Object.values(e.app.loading.progress);return 0===t.length?1:t.reduce((function(e,t){return e+t}),0)/t.length},f=n(72779),E=n.n(f);function g(){var e=(0,s.useSelector)((function(e){return e.app.loading.isVisible})),t=(0,s.useSelector)((function(e){return e.app.loading.isInProgress})),n=(0,c.useRef)(e),r=(0,s.useSelector)(p),a=(0,s.useSelector)((function(e){return e.app.loading.taskTitle})),i=c.useState(!0),o=(0,d.Z)(i,2),l=o[0],f=o[1];return(0,c.useEffect)((function(){n.current=e;var t=setTimeout((function(){e===n.current&&f(!e)}),500);return function(){return clearTimeout(t)}}),[e]),c.createElement("div",{className:E()(m.container,(0,u.Z)({},m.hidden,l))},c.createElement("div",{className:m.messageContainer},c.createElement("div",{className:m.message},c.createElement("span",null,a),t&&c.createElement("div",{className:m.loader}))),c.createElement("div",{className:m.progressContainer,style:{width:"".concat(100*r,"%")}},c.createElement("div",{className:m.progressPulse})))}var v=n(34795),h=n(82841),I=n.n(h),S=n(17943),y=n(28316);const T={container:"_Whrj1os2LaeakwNCWXc",dragging:"nny5LU0yAUoYFCPqorjl",visible:"h5wWg4eXX6Ef2iJDlryi","icon-container":"Zn_L8aLsSwvb6op30RbA",iconContainer:"Zn_L8aLsSwvb6op30RbA"};function N(e){var t,n=(0,c.useState)(!1),r=(0,d.Z)(n,2),a=r[0],s=r[1],o=(0,c.useState)({x:0,y:0}),l=(0,d.Z)(o,2),m=l[0],p=l[1],f=function(t){if(a&&e.draggable){var n={x:t.clientX-m.x,y:t.clientY-m.y};e.draggable.onOffsetChange(n)}},g=function(){s(!1)};return(0,c.useEffect)((function(){return a?(document.body.style.userSelect="none",document.addEventListener("mousemove",f),document.addEventListener("mouseup",g)):(document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)),function(){document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)}}),[a]),(0,y.createPortal)(c.createElement("div",{style:e.draggable?{"--x":e.draggable.offset.x,"--y":e.draggable.offset.y}:{},className:E()(T.container,e.className,(t={},(0,u.Z)(t,T.visible,e.isVisible),(0,u.Z)(t,T.dragging,a),t))},c.createElement("div",{className:T.iconContainer},e.draggable&&c.createElement("span",{onMouseDown:function(t){e.draggable&&(s(!0),p({x:t.clientX-e.draggable.offset.x,y:t.clientY-e.draggable.offset.y}))}},c.createElement(i.JO$,{data:S.Z}))),e.children),document.body)}var b=n(88089),M=n(37283);const C={container:"FAV97LLAqyGsXyP9FlJ5","buttons-container":"xw120Yd5IR_HMqKpWYp_",buttonsContainer:"xw120Yd5IR_HMqKpWYp_",title:"wiY78pdZ9qzQZNdMwhhJ",button:"iX3eJNi_qplLUklfzHEu regular-button","primary-button":"XMmHFWjGcfFG6skzXtpi",primaryButton:"XMmHFWjGcfFG6skzXtpi","modal-container":"btAIBB2I8fIo0a8_s3UK",modalContainer:"btAIBB2I8fIo0a8_s3UK","modal-description":"v9MDW0qGIYeLZgFPOfNr",modalDescription:"v9MDW0qGIYeLZgFPOfNr","modal-field-label":"jEZBeZsifpKQoioykkK6",modalFieldLabel:"jEZBeZsifpKQoioykkK6","modal-input":"RpmfSkLvOcu30db6Nz0Z",modalInput:"RpmfSkLvOcu30db6Nz0Z","modal-buttons-container":"aZkH5agDK5fZGNbNWDu5",modalButtonsContainer:"aZkH5agDK5fZGNbNWDu5","modal-button-primary":"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button",modalButtonPrimary:"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button","error-toaster":"jIjx1MgodgCldWWt3EFg",errorToaster:"jIjx1MgodgCldWWt3EFg","toast-appear":"eN0scBvLJxQGinnsxagF",toastAppear:"eN0scBvLJxQGinnsxagF","error-toaster-icon":"eKNTjhi7z6cNmuv8bKDI",errorToasterIcon:"eKNTjhi7z6cNmuv8bKDI"};var w=n(64141),O=n(27202),A=n(78272),D=n(76635);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=(0,s.useDispatch)(),t=(0,i.Psm)(),n=(0,s.useSelector)((function(e){return e.processing})),r=(0,s.useSelector)((function(e){return e.tree.images.byId})),a=(0,s.useSelector)((function(e){return e.staticImageAccepter.acceptableImages})),l=(0,s.useSelector)((function(e){return e.staticImageAccepter.accepterDelayedImages})),u=Object.values(a).filter((function(e){return e.commitStatus===O.ih.STAGED})),m=(0,s.useSelector)((function(e){return e.config.staticImageAccepter})),p=(0,s.useSelector)((function(e){return e.config.staticImageAccepter.pullRequestUrl})),f=(0,s.useSelector)((function(e){return e.ui.staticImageAccepterToolbar.offset})),g=(0,o.TH)(),h=(0,c.useState)(null),S=(0,d.Z)(h,2),y=S[0],T=S[1],_=(0,c.useState)(!1),x=(0,d.Z)(_,2),k=x[0],R=x[1],j=(0,s.useSelector)((function(e){return e.app.staticImageAccepterModal.commitMessage}));(0,c.useEffect)((function(){var e=u.length>0&&!n&&!k&&["/suites","/visual-checks"].some((function(e){return g.pathname.startsWith(e)}));Boolean(e)!==Boolean(y)&&T(e)}),[u,g,k]);var P=function(){var n=(0,v.Z)(I().mark((function n(){var i,s,o;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,A.Yo)(Object.values(a),r,l),s=L(L({},(0,D.pick)(m,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:j}),R(!1),n.next=5,e((0,w.staticAccepterCommitScreenshot)(i,s));case 5:(o=n.sent).error&&t.add({name:"static-accepter-error",title:"Failed to commit images",content:o.error.message+". See console for details.",isClosable:!0,autoHiding:5e3,renderIcon:function(){return c.createElement(b.Z,{className:C.errorToasterIcon,width:20,height:20})},className:C.errorToaster});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return c.createElement(N,{isVisible:y,className:C.container,draggable:{offset:f,onOffsetChange:function(t){e((0,w.staticAccepterUpdateToolbarOffset)({offset:t}))}}},c.createElement("div",null,u.length," ",u.length>1?"images are":"image is"," staged for commit"),c.createElement("div",{className:C.buttonsContainer},c.createElement(i.zxk,{view:"flat-contrast",className:C.button,onClick:function(){e((0,w.staticAccepterUnstageScreenshot)(u.map((function(e){return e.id}))))}},"Cancel"),c.createElement(i.zxk,{view:"normal-contrast",className:E()(C.primaryButton,C.button),onClick:function(){R(!0)}},"Commit...")),c.createElement(i.u_l,{open:k,onClose:function(){return R(!1)},contentClassName:C.modalContainer},c.createElement("div",{className:"text-header-1"},"Commit images"),c.createElement("div",{className:C.modalDescription},"Commit with ",u.length," ",u.length>1?"images":"image"," will be added to your pull request at ",c.createElement("a",{href:p,target:"_blank",rel:"noreferrer"},p),"."),c.createElement("div",{className:C.modalFieldLabel},"Commit Message"),c.createElement(i.oil,{className:C.modalInput,value:j,onUpdate:function(t){e((0,w.staticAccepterUpdateCommitMessage)({commitMessage:t}))}}),c.createElement("div",{className:C.modalButtonsContainer},c.createElement(i.zxk,{view:"flat",className:C.button,onClick:function(){R(!1)}},"Cancel"),c.createElement(i.zxk,{view:"action",className:C.modalButtonPrimary,onClick:P},c.createElement(i.JO$,{data:M.Z}),"Commit"))))}var k=n(15463),R=n(16060),j=n(40645),P=n(2542),Z=n(24298),z=n(57159);const U={container:"ngrs5mVBeAlYXfHWBJXn",divider:"BO7pOO65LGTLghKX4XEf"};function B(e){return c.createElement("div",{className:E()(U.container,e.className)},c.createElement("h2",{className:E()("text-display-1")},e.title),c.createElement(i.izJ,{className:U.divider,orientation:"horizontal"}),e.children)}const G={description:"YVXELODzndrtz4PnhtX8"};function F(e){return c.createElement("div",null,c.createElement("div",{className:E()("text-header-1")},e.title),e.description&&c.createElement("div",{className:G.description},e.description),e.children)}var V=n(63550);const W={container:"GZUFCStbf0CDjlxJFCpX","text-container":"TJzZcWwIu5mBPKg3eyYF",textContainer:"TJzZcWwIu5mBPKg3eyYF",title:"JVNFhJhbJhIpMyWaD02f",description:"pa8e9Xu2uszdGKlBM7Gp"};function Y(e){return c.createElement("div",{className:W.container},c.createElement("div",{className:W.textContainer},c.createElement("div",{className:W.title},e.title),e.description&&c.createElement("div",{className:W.description},e.description)),c.createElement(i.rsf,{checked:e.checked,onUpdate:e.onUpdate}))}var H=n(32444);const Q={divider:"Sir3vIsZhnJbhlzn_ISI"};function J(){var e=(0,s.useDispatch)(),t=(0,V.z)(),n=(0,s.useSelector)((function(e){return e.view.baseHost})),r=(0,s.useSelector)((function(e){return e.app.availableFeatures.some((function(e){return e.name===O.qW.name}))})),a=(0,z.Z)(Z.Fe.UIMode,Z.HT.New),o=(0,d.Z)(a,2)[1],l=(0,z.Z)(Z.Fe.TimeTravelUseRecommendedSettings,!0),u=(0,d.Z)(l,2),m=u[0],p=u[1],f=(0,c.useCallback)(function(){var n=(0,v.Z)(I().mark((function n(a){var i;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return null==t||t.trackFeatureUsage({featureName:a?"Enable Time Travel Recommended Settings":"Disable Time Travel Recommended Settings"}),p(a),n.next=6,(0,H.r)({useRecommendedSettings:a});case 6:i=n.sent,(0,H.R)(i)?console.error("Failed to update time travel settings:",i.error.message):e(w.setBrowserFeatures({browserFeatures:i.data.browserFeatures}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,p]);return c.createElement(B,{title:"Settings"},c.createElement(F,{title:"Base Host",description:c.createElement(c.Fragment,null,"URLs in Meta and in test steps' commands are affected by this.")},c.createElement(i.oil,{onChange:function(t){e(w.updateBaseHost(t.target.value))},value:n})),c.createElement(i.izJ,{orientation:"horizontal",className:Q.divider}),c.createElement(F,{title:"New UI",description:"Minimalistic yet informative, the new UI offers a cleaner look and optimised screen space usage."},c.createElement(i.zxk,{className:E()(Q.settingControl,"regular-button"),onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to old UI"}),o(Z.HT.Old),window.location.pathname=window.location.pathname.replace(/\/new-ui(\.html)?$/,(function(e,t){return t?"/index.html":"/"}))}},c.createElement(i.JO$,{data:P.Z}),"Switch back to the old UI")),c.createElement(i.izJ,{orientation:"horizontal",className:Q.divider}),c.createElement(F,{title:"Theme",description:"Currently only light theme is available — stay tuned for night mode."},c.createElement(i.PhF,{className:E()(Q.settingControl,"regular-button"),value:["Light"],width:"max",disabled:!0})),c.createElement(i.izJ,{orientation:"horizontal",className:Q.divider}),r&&c.createElement(F,{title:"Time Travel"},c.createElement(Y,{title:"Use recommended settings",description:m?"Settings for the best debugging experience will be applied on top of your config (recommended).":"Using project config without changes. This may affect availability of time travel features.",checked:m,onUpdate:f})))}const K="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTTExLjIyLDI5LjQ2YzIuMTMsMCw0LjEyLTEuMTMsNS4xOS0yLjk4bDMuNjItNi4yNywyLjkuMDJjMi4xMiwwLDQuMDktMS4xMyw1LjE1LTIuOTdsMS4wNi0xLjgxaC04LjYxYy0yLjEzLDAtNC4xMiwxLjEzLTUuMTksMi45OGwtNi4zNiwxMS4wMWgyLjI0Wk0yNy45OCwxNi4xMmwtLjQ5LjgxYy0uOTQsMS42My0yLjY5LDIuNjQtNC41NywyLjYzbC0yLjUyLS4wMiwxLjk3LTMuNDNoNS42WiIgc3R5bGU9ImZpbGw6I2ZmZjsgc3Ryb2tlLXdpZHRoOjBweDsiLz48cGF0aCBkPSJNMjguMDMsMTEuMDVjLTEuMDYtMS44NS0zLjA0LTMtNS4xNy0zaC03LjI0cy0xLjQzLTIuNTItMS40My0yLjUyYy0xLjA2LTEuODQtMy4wMy0yLjk4LTUuMTQtMi45OGwtMi4xLS4wMiw0LjMsNy40NWMxLjA2LDEuODUsMy4wNCwzLDUuMTcsM2gxMi43MnMtMS4xMS0xLjk0LTEuMTEtMS45NFpNOC4wOSwzLjJsLjk1LjAyYzEuODgsMCwzLjYzLDEuMDEsNC41NywyLjY0bDEuMjQsMi4xOWgtMy45NnMtMi44LTQuODUtMi44LTQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Ik0zLjY3LDUuN2MtMS4wNywxLjg0LTEuMDgsNC4xMy0uMDEsNS45OGwzLjYyLDYuMjctMS40NywyLjVjLTEuMDYsMS44My0xLjA2LDQuMTEsMCw1Ljk0bDEuMDMsMS44Miw0LjMtNy40NWMxLjA3LTEuODQsMS4wOC00LjEzLjAxLTUuOThMNC44LDMuNzdsLTEuMTMsMS45M1pNNi44NSwyNi44OWwtLjQ2LS44M2MtLjk0LTEuNjMtLjk0LTMuNjUsMC01LjI4bDEuMjctMi4xNywxLjk4LDMuNDItMi44LDQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjwvc3ZnPg==",X={"aside-header-bg-wrapper":"WmsnGRyf__x9VugItYEg",asideHeaderBgWrapper:"WmsnGRyf__x9VugItYEg","aside-header-bg":"hN0bow_PIW9RKTKYo57R",asideHeaderBg:"hN0bow_PIW9RKTKYo57R","footer-item":"JebroZPzNgvfFBlBqe48",footerItem:"JebroZPzNgvfFBlBqe48","footer-item--active":"MbgAvT0VZWc0256Q1xEf",footerItemActive:"MbgAvT0VZWc0256Q1xEf"};var q=n(34863),$=n(38461),ee=n(86224),te=n(28786);const ne={container:"oAYBNG9X8F88k_cmCgvG",arrow:"hvS2LCYxMAYSD1dM7myQ","arrow-shake":"Eebk71F2Nvmg2lv0N8l5",arrowShake:"Eebk71F2Nvmg2lv0N8l5","hint-title":"GpX1OLIjDf0OyfN77NPa",hintTitle:"GpX1OLIjDf0OyfN77NPa","close-button":"XVrHRjoyGo1vWYVsh8fB",closeButton:"XVrHRjoyGo1vWYVsh8fB"};function re(e){return c.createElement(N,{isVisible:e.isVisible,className:ne.container},c.createElement(ee.Z,{className:ne.arrow}),c.createElement("div",{className:ne.hintTitle},"Hint"),c.createElement("svg",{viewBox:"0 0 2 2",height:2},c.createElement("circle",{r:"1",cx:"1",cy:"1"})),c.createElement("div",null,"You can always switch back to the old UI in Settings"),c.createElement(te.Z,{className:ne.closeButton,onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}))}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=(0,s.useSelector)(j.Dr),n=(0,c.useState)(null),r=(0,d.Z)(n,2),a=r[0],o=r[1],l=(0,z.Z)("ui-mode-hint-shown",!1),m=(0,d.Z)(l,2),p=m[0],f=m[1];(0,c.useEffect)((function(){var e="1"===new URL(window.location.href).searchParams.get("switched-from-old-ui");if(t&&e&&!p){o(!0),f(!0);var n=setTimeout((function(){o(!1)}),2e4);return function(){clearTimeout(n)}}}),[t]),(0,c.useEffect)((function(){a&&e.visiblePanel&&o(!1)}),[e.visiblePanel]);var g=e.visiblePanel===we.Info,v=e.visiblePanel===we.Settings;return c.createElement(c.Fragment,null,c.createElement(re,{isVisible:a,onClose:function(){return o(!1)}}),c.createElement(k.F,{compact:!1,item:{id:we.Info,title:"Info",onItemClick:e.onFooterItemClick,current:g,qa:"footer-item-info",itemWrapper:function(e,n){var r;return n(ie(ie({},e),{},{icon:c.createElement(i.JO$,{className:E()((r={},(0,u.Z)(r,X.footerItem,!g),(0,u.Z)(r,X["footer-item--active"],g),(0,u.Z)(r,"disabled",!t),r)),data:q.Z})}))}}}),c.createElement(k.F,{compact:!1,item:{id:we.Settings,title:"Settings",onItemClick:e.onFooterItemClick,current:v,itemWrapper:function(e,n){var r;return n(ie(ie({},e),{},{icon:c.createElement(i.JO$,{className:E()((r={},(0,u.Z)(r,X.footerItem,!v),(0,u.Z)(r,X["footer-item--active"],v),(0,u.Z)(r,"disabled",!t),r)),data:$.Z})}))}}}))}const se={"common-card":"Fj5sjZwVCKyeWxfmeV7A",commonCard:"Fj5sjZwVCKyeWxfmeV7A",wrapper:"KVTvH44NwI6y99IsSdWq"};function oe(e){return c.createElement("div",{className:se.wrapper,"data-qa":e.qa},c.createElement("div",{className:E()(se.commonCard,e.className),style:e.style},e.children))}const le={card:"cyRw19fvYYe2TPp2AnDQ text-hint"};function ue(e){return c.createElement(oe,{className:E()(le.card,e.className)},e.children)}const de="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTA0LjY5IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTA0LjY5IDEyMi44ODsgZmlsbDogcmdiYSgwLCAwLCAwLCAwLjQpOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTk4LjM4LDg4LjQxbC05Ljc5LDEwLjQ4TDk4LjM4LDg4LjQxTDk4LjM4LDg4LjQxeiBNODQuMywxMDMuNDhsLTkuNzksMTAuNDhMODQuMywxMDMuNDhMODQuMywxMDMuNDh6IE01Ni44NSwxMTYuNTggYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDcuMzNjLTIuMDIsMC0zLjg1LTAuODItNS4xOC0yLjE1QzAuODIsMTE5LjQsMCwxMTcuNTcsMCwxMTUuNTVWNy4zMyBjMC0yLjAyLDAuODItMy44NSwyLjE1LTUuMThDMy40OCwwLjgyLDUuMzEsMCw3LjMzLDBoOTAuMDJjMi4wMiwwLDMuODUsMC44Miw1LjE4LDIuMTVjMS4zMywxLjMzLDIuMTUsMy4xNiwyLjE1LDUuMThWNzIuNiBjMCwxLjc0LTEuNDEsMy4xNS0zLjE1LDMuMTVjLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1VjcuMzNjMC0wLjI4LTAuMTItMC41NC0wLjMtMC43M2MtMC4xOS0wLjE5LTAuNDUtMC4zLTAuNzMtMC4zSDcuMzMgYy0wLjI4LDAtMC41NCwwLjEyLTAuNzMsMC4zUzYuMyw3LjA1LDYuMyw3LjMzdjEwOC4yMWMwLDAuMjgsMC4xMiwwLjU0LDAuMywwLjczYzAuMTksMC4xOSwwLjQ0LDAuMywwLjczLDAuM0g1Ni44NUw1Ni44NSwxMTYuNTh6IE0zMS41NCw4Ni45NWMtMS43NCwwLTMuMTYtMS40My0zLjE2LTMuMTljMC0xLjc2LDEuNDEtMy4xOSwzLjE2LTMuMTloMjAuNWMxLjc0LDAsMy4xNiwxLjQzLDMuMTYsMy4xOSBjMCwxLjc2LTEuNDEsMy4xOS0zLjE2LDMuMTlIMzEuNTRMMzEuNTQsODYuOTV6IE0zMS41NCw0Mi4yN2MtMS43NCwwLTMuMTUtMS40MS0zLjE1LTMuMTVjMC0xLjc0LDEuNDEtMy4xNSwzLjE1LTMuMTVoNDEuNjEgYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDMxLjU0TDMxLjU0LDQyLjI3eiBNMzEuNTQsNjQuNTljLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1IGMwLTEuNzQsMS40MS0zLjE1LDMuMTUtMy4xNWg0MS42MWMxLjc0LDAsMy4xNSwxLjQxLDMuMTUsMy4xNWMwLDEuNzQtMS40MSwzLjE1LTMuMTUsMy4xNUgzMS41NEwzMS41NCw2NC41OXogTTcxLjUyLDkxLjU1IGMtMS4yNy0xLjE4LTEuMzQtMy4xNy0wLjE2LTQuNDRjMS4xOC0xLjI3LDMuMTctMS4zNCw0LjQ0LTAuMTZsMTAuNDksOS43OWw5Ljc4LTEwLjQ4YzEuMTgtMS4yNywzLjE3LTEuMzQsNC40NC0wLjE2IGMxLjI3LDEuMTgsMS4zNCwzLjE3LDAuMTYsNC40NGwtOS43OSwxMC40OGwxMC40OCw5Ljc4YzEuMjcsMS4xOCwxLjM0LDMuMTcsMC4xNiw0LjQ0Yy0xLjE4LDEuMjctMy4xNywxLjM0LTQuNDQsMC4xNmwtMTAuNDgtOS43OSBsLTkuNzgsMTAuNDhjLTEuMTgsMS4yNy0zLjE3LDEuMzQtNC40NCwwLjE2Yy0xLjI3LTEuMTgtMS4zNC0zLjE3LTAuMTYtNC40NEw4MiwxMDEuMzRMNzEuNTIsOTEuNTVMNzEuNTIsOTEuNTV6Ii8+PC9nPjwvc3ZnPgo=";var me=n(47486);const pe={container:"QKOcpEIhc51Re6PikjJy","hint-card":"CZF_AuDP2XptHxh7JFus",hintCard:"CZF_AuDP2XptHxh7JFus","empty-report-icon":"NMiy6d6xTVc_ZXEmjn8E",emptyReportIcon:"NMiy6d6xTVc_ZXEmjn8E","card-title":"n8yDmeEYkuOk6kb_ItbC",cardTitle:"n8yDmeEYkuOk6kb_ItbC","hints-container":"yBA5vUr2DQ0jWSo5WNTB",hintsContainer:"yBA5vUr2DQ0jWSo5WNTB",hint:"Ad77ZbGy9Nx84CBDNE2_","hint-item-icon":"KNC3S7aGd3oCjOkoLy4g",hintItemIcon:"KNC3S7aGd3oCjOkoLy4g","hint-item-text":"VWK0qAioJXCQR8TSG6Lh",hintItemText:"VWK0qAioJXCQR8TSG6Lh"};function fe(){return c.createElement("div",{className:pe.container},c.createElement(ue,{className:pe.hintCard},c.createElement("img",{src:de,alt:"icon",className:pe.emptyReportIcon}),c.createElement("span",{className:E()("text-header-1",pe.cardTitle)},"This report is empty"),c.createElement("div",{className:pe.hintsContainer},["Check if your project contains any tests","Check if the tool you are using is configured correctly and is able to find your tests","Check logs to see if some critical error has occurred and prevented report from collecting any results"].map((function(e,t){return c.createElement("div",{key:t,className:pe.hint},c.createElement(i.JO$,{data:me.Z,className:pe.hintItemIcon}),c.createElement("div",{className:pe.hintItemText},e))})))))}var Ee=n(68005),ge=n(93938);const ve={"data-source-item":"LTL9A2TRwCX4DfrCEZxM",dataSourceItem:"LTL9A2TRwCX4DfrCEZxM","data-source-title-container":"wsCjpO5WCpkJaVzKz8gi",dataSourceTitleContainer:"wsCjpO5WCpkJaVzKz8gi","data-source-icon":"G4SXQma4zhRaaqly12Tg",dataSourceIcon:"G4SXQma4zhRaaqly12Tg","data-source-status":"gGakSFrXewIw9Fkez5EX",dataSourceStatus:"gGakSFrXewIw9Fkez5EX","data-source-status-circle":"v4CYpSxdllHQxSacb6ab",dataSourceStatusCircle:"v4CYpSxdllHQxSacb6ab","data-source-status-circle-offline":"IySDb0dG_HpKVzuBYhNO",dataSourceStatusCircleOffline:"IySDb0dG_HpKVzuBYhNO","data-source-status-circle-online":"GC12k5XwNRP2nJmuOnTl",dataSourceStatusCircleOnline:"GC12k5XwNRP2nJmuOnTl",pulse:"Di_aKyccUn6pF8KZT3gJ",title:"FzJkyNqOjGi_N4OIQHRw",ellipsis:"ORSnh7QVKqOW7FQrJdvF"};function he(e){var t,n=null===(t=e.url)||void 0===t?void 0:t.replace(/^https?:\/\//,"");return c.createElement("div",{className:ve.dataSourceItem},c.createElement("div",{className:ve.dataSourceTitleContainer},c.createElement(i.JO$,{data:e.icon,className:ve.dataSourceIcon}),e.url&&n?c.createElement("a",{href:e.url,className:ve.title,title:e.title},c.createElement("span",{className:ve.ellipsis,style:{"--max-width":"130px"}},n.slice(0,-24)),n.slice(-24)):c.createElement("span",{className:ve.ellipsis},e.title)),c.createElement("div",{className:ve.dataSourceStatus},c.createElement("span",null,e.success?"OK":e.statusCode&&"number"==typeof e.statusCode?"E".concat(e.statusCode):"ERR"),c.createElement("div",{className:E()(ve.dataSourceStatusCircle,e.success?ve.dataSourceStatusCircleOnline:ve.dataSourceStatusCircleOffline)})))}const Ie={divider:"N2706ZMdYcBUFCM2piKF","info-panel":"m_0UYhDywkZCTfyqWrXx",infoPanel:"m_0UYhDywkZCTfyqWrXx","extra-items-list":"gVLUrneQukXMSGbW12Be",extraItemsList:"gVLUrneQukXMSGbW12Be","data-source-heading":"zugSCLp3ZHvaLI_h3IeQ",dataSourceHeading:"zugSCLp3ZHvaLI_h3IeQ","data-source-list":"pC4JFYgK7ZksVWDUckMA",dataSourceList:"pC4JFYgK7ZksVWDUckMA"};var Se=n(81114);function ye(){var e=(0,s.useSelector)((function(e){return e.gui})),t=Object.entries((0,s.useSelector)((function(e){return e.apiValues.extraItems}))),n=[];t.length>0&&n.push(c.createElement(F,{title:"Links",description:"Project-specific links and actions. Configure what you see here via extraItems API."},c.createElement("ul",{className:Ie.extraItemsList},t.map((function(e,t){return c.createElement("li",{key:t},c.createElement("a",{href:e[1]},e[0]))}))))),n.push(c.createElement(F,{title:"Testplane UI v"+Se.i8,description:c.createElement("span",null,"To get the most out of Testplane UI, try to keep it updated to the latest version. Check out fresh ",c.createElement("a",{href:"https://github.com/gemini-testing/html-reporter/releases"},"releases on GitHub"),".")}));var r=(0,s.useSelector)((function(e){return e.timestamp})),a=(0,D.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],o=new Date(r).toLocaleString(a);e||n.push(c.createElement(F,{title:"Created at "+o,description:"Date and time when this report was generated. Report generates once all tests finish running."}));var l=(0,s.useSelector)((function(e){return e.app.guiServerConnection.isConnected})),u=(0,s.useSelector)((function(e){return e.fetchDbDetails}));n.push(c.createElement(F,{title:"Data sources",description:"To display test run data, Testplane UI needs access to corresponding data sources."},c.createElement("div",null,c.createElement("div",{className:Ie.dataSourceHeading},c.createElement("span",null,"Source"),c.createElement("span",null,"Status")),c.createElement("div",{className:Ie.dataSourceList},e&&c.createElement(he,{icon:Ee.Z,title:"Testplane UI Server",success:l}),!e&&u.map((function(e,t){var n=e.url,r=e.success,a=e.status;return c.createElement(he,{key:t,icon:ge.Z,title:n,url:n,success:r,statusCode:a})}))))));var d=n.pop();return c.createElement(B,{title:"Info",className:Ie.infoPanel},n.map((function(e,t){return c.createElement(c.Fragment,{key:t},e,c.createElement(i.izJ,{orientation:"horizontal",className:Ie.divider}))})),d)}var Te=n(40554),Ne=n(46294),be=n(26542),Me=n(11200),Ce=n(36397),we=function(e){return e.Settings="settings",e.Info="info",e}({});function Oe(e){var t=(0,s.useDispatch)(),n=(0,o.s0)(),r=(0,o.TH)(),a=(0,V.z)(),i=e.pages.map((function(e){return{id:e.url,title:e.title,icon:e.icon,current:Boolean((0,R.LX)("".concat(e.url.replace(/\/$/,""),"/*"),r.pathname)),onItemClick:function(){null==a||a.trackFeatureUsage({featureName:"Go to ".concat(e.url," page")}),n(e.url)},qa:"".concat(e.url.slice(1),"-page-menu-item")}})),l=(0,s.useSelector)((function(e){return e.ui[Ce.T3.suitesPage].sectionSizes})),u=(0,s.useSelector)((function(e){return e.ui[Ce.T3.suitesPage].backupSectionSizes}));if(/\/suites/.test(r.pathname)){var m=(0,Me.aV)(l[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:m?"Expand tree":"Collapse tree",icon:m?Ne.Z:be.Z,onItemClick:function(){t((0,Te.gM)({sizes:m?u:[0,100],page:Ce.T3.suitesPage}))},qa:"expand-collapse-suites-tree"})}var p=(0,s.useSelector)((function(e){return e.ui[Ce.T3.visualChecksPage].sectionSizes})),f=(0,s.useSelector)((function(e){return e.ui[Ce.T3.visualChecksPage].backupSectionSizes}));if(/\/visual-checks/.test(r.pathname)){var g=(0,Me.aV)(p[0]);i.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:g?"Expand tree":"Collapse tree",icon:g?Ne.Z:be.Z,onItemClick:function(){t((0,Te.gM)({sizes:g?f:[0,100],page:Ce.T3.visualChecksPage}))},qa:"expand-collapse-visual-checks"})}var v=(0,s.useSelector)(j.Dr),h=(0,s.useSelector)((function(e){return e.tree.browsers.byId})),I=v&&0===Object.keys(h).length,S=(0,c.useState)(null),y=(0,d.Z)(S,2),T=y[0],N=y[1],b=function(e){T===e.id?N(null):(N(e.id),null==a||a.trackFeatureUsage({featureName:"Open ".concat(e.id," panel")}))};return c.createElement(k.A,{className:E()({"aside-header--initialized":v}),logo:{text:"Testplane UI",iconSrc:K,iconSize:32,onClick:function(){return n("/suites")}},compact:!0,headerDecoration:!1,menuItems:i,customBackground:c.createElement("div",{className:X.asideHeaderBg}),customBackgroundClassName:X.asideHeaderBgWrapper,renderContent:function(){return I?c.createElement(fe,null):e.children},hideCollapseButton:!0,renderFooter:function(){return c.createElement(ce,{visiblePanel:T,onFooterItemClick:b})},panelItems:[{id:we.Info,children:c.createElement(ye,null),visible:T===we.Info},{id:we.Settings,children:c.createElement(J,null),visible:T===we.Settings}],onClosePanel:function(){return N(null)}})}const Ae={card:"JsBSTVhMZmtk8M0HKNIj"};function De(e){return c.createElement(oe,{className:E()(Ae.card,e.className),style:e.style,qa:e.qa},e.children)}var _e=function(e){return e.Name="n",e.Args="a",e.Duration="d",e.IsFailed="f",e.Children="c",e.IsGroup="g",e.TimeStart="ts",e.Repeat="r",e}({}),Le=function(e){return e[e.Snapshot=0]="Snapshot",e}({}),xe=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.byId[t]:null},ke=function(e){var t,n,r=e.app.suitesPage.currentBrowserId,a=e.app.suitesPage.currentTreeNodeId;if(!r||!a)return null;var i,c=e.tree.browsers.byId[r].resultIds,s=e.app.suitesPage.currentGroupId,o=c[null!==(t=e.ui.suitesPage.retryIndexByTreeNodeId[a])&&void 0!==t?t:-1];if(s){var l=e.tree.groups.byId[s];i=c.findLast((function(e){return l.resultIds.includes(e)}))}var u=c[e.tree.browsers.stateById[r].retryIndex];return null!==(n=null!=o?o:i)&&void 0!==n?n:u},Re=function(e){var t=ke(e);return t?e.tree.results.byId[t]:null},je=function(e){var t,n=Re(e);return null!==(t=null==n?void 0:n.imageIds.map((function(t){return e.tree.images.byId[t]})))&&void 0!==t?t:[]},Pe=function(e){var t,n,r=Re(e);if(!r)return!1;var a=e.running,i=e.browserFeatures,c=null===(t=r.attachments)||void 0===t?void 0:t.some((function(e){return e.type===Le.Snapshot})),s=e.app.availableFeatures.some((function(e){return e.name===O.qW.name}))&&(null===(n=i[r.name])||void 0===n?void 0:n.some((function(e){return e===O.uf.LiveSnapshotsStreaming})));return c||a&&s},Ze=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.stateById[t].retryIndex:null},ze=n(51344);const Ue={"overlay-container":"YhnQZ2DR9KPdAJiIHKx6",overlayContainer:"YhnQZ2DR9KPdAJiIHKx6",pulsing:"np7Tims64LSzx1fxP9Vw","overlay-pulse":"iG7hgUdlfOAYJ2zEOMkz",overlayPulse:"iG7hgUdlfOAYJ2zEOMkz",hint:"lDwBbrcxapUWyB9bSmAM",appear:"euJ_Z7JcmqkNU0UuaTBi"};function Be(){return c.createElement("div",{className:E()(se.commonCard,Ue.overlayContainer)},c.createElement("div",{className:Ue.pulsing}),c.createElement("span",{className:Ue.hint},"Keep dragging to hide"))}const Ge={"animated-appear-card":"nvHu0JYixG_n3L8bHaiy",animatedAppearCard:"nvHu0JYixG_n3L8bHaiy","border-pulse":"_hvSdUy_Sy8mnl5BcKJj",borderPulse:"_hvSdUy_Sy8mnl5BcKJj","background-overlay":"fOXVHPDXnIXRnLvKJK5w",backgroundOverlay:"fOXVHPDXnIXRnLvKJK5w",hidden:"oNABdOFiTaceIpXIecxT"};function Fe(){var e=(0,s.useSelector)((function(e){return e.app.isInitialized}));return c.createElement("div",{className:E()(se.commonCard,Ge.animatedAppearCard,(0,u.Z)({},Ge.hidden,e))},c.createElement("div",{className:Ge.backgroundOverlay}))}const Ve={split:"Yt_7hFDWMBBzwRxhtPGA",gutter:"BjLGDET4dsmTg5n7BGOC","gutter-appear":"GkXIdhlZ0Ksl8HY5uIGM",gutterAppear:"GkXIdhlZ0Ksl8HY5uIGM","gutter-handle":"cEss7sGcuntXKcSdrYGx",gutterHandle:"cEss7sGcuntXKcSdrYGx","gutter-activate":"QhcMa1LcrZef4FaMYu9B",gutterActivate:"QhcMa1LcrZef4FaMYu9B","gutter-deactivate":"xDCzx4XYGvK_feKceOC3",gutterDeactivate:"xDCzx4XYGvK_feKceOC3",container:"R1neC10QiHgV72yl__vn","container-collapsed":"jhPJSKkfojnb9ejRA7Kg",containerCollapsed:"jhPJSKkfojnb9ejRA7Kg","is-disabled-transitions":"QfgLrNwN7f_q5YM2eMTC",isDisabledTransitions:"QfgLrNwN7f_q5YM2eMTC"};function We(e){var t=c.useState(!1),n=(0,d.Z)(t,2),r=n[0],a=n[1],i=c.useState(!1),o=(0,d.Z)(i,2),l=o[0],m=o[1],p=c.useState(!1),f=(0,d.Z)(p,2),g=f[0],v=f[1],h=c.useState(e.sizes.map(Me.aV)),I=(0,d.Z)(h,2),S=I[0],y=I[1];(0,c.useLayoutEffect)((function(){v(!l),y(e.sizes.map(Me.aV))}),[e.sizes]);var T=(0,s.useSelector)(j.Dr),N=c.Children.toArray(e.children);return c.createElement(ze.Z,{direction:"horizontal",className:E()(Ve.split,{"is-resizing":l,"is-idle":r&&!l,"is-initialized":T}),minSize:0,snapOffset:200,onDrag:function(t){var n;null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragStart:function(t){var n;a(!0),m(!0),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragEnd:function(t){var n;m(!1),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},gutter:function(){var e=document.createElement("div");e.classList.add(Ve.gutterHandle),e.setAttribute("data-qa","split-view-gutter-handle");var t=document.createElement("div");return t.appendChild(e),t.classList.add(Ve.gutter),t},sizes:e.sizes},N.map((function(e,t){var n;return c.createElement("div",{key:t,className:E()(Ve.container,(n={},(0,u.Z)(n,Ve.containerCollapsed,S[t]),(0,u.Z)(n,"is-collapsed",S[t]),(0,u.Z)(n,Ve.isDisabledTransitions,g),n))},c.createElement(Be,null),c.createElement(Fe,null),e)})))}var Ye=n(93714),He=n(85715),Qe=n(6740),Je=n(13432),Ke=n(82714);const Xe={container:"YWnVRZp6Xpq2emGNusEL",breadcrumbs:"Ed4tVlxzgeV8lu4LStw4",separator:"dpX1ZvrQ0Rb7KZsrGdrB",content:"p9SwrHyY6_rkCo8WnJ4B","title-container":"eN__kxnFqti2d9lyLscG",titleContainer:"eN__kxnFqti2d9lyLscG","labels-container":"fkNFekMpeg9PQWBvk6SA",labelsContainer:"fkNFekMpeg9PQWBvk6SA",label:"cyOS5FVBjs_XwfWf3hqw","pagination-container":"FjhbMq232twU07JGqpxG",paginationContainer:"FjhbMq232twU07JGqpxG",counter:"wUSN7d_qH5YeEFdi_k8a"};function qe(e){var t=e.suitePath[e.suitePath.length-1],n=e.suitePath.slice(0,-1);return c.createElement("div",{className:E()(Xe.container,e.className)},c.createElement("div",{className:Xe.content},n.length>0&&c.createElement("div",{className:E()(Xe.breadcrumbs)},n.map((function(e,t){return c.createElement("div",{key:t,className:Xe.breadcrumbsItem},e,t!==n.length-1&&c.createElement("div",{className:Xe.separator},c.createElement(Ye.Z,{height:12})))}))),c.createElement("div",{className:Xe.titleContainer},c.createElement("h2",{className:E()("text-display-1")},null!=t?t:"Unknown Suite"),c.createElement("div",{className:Xe.labelsContainer},c.createElement(i.__J,{theme:"normal",size:"xs",className:Xe.label},c.createElement(He.Z,null),e.browserName),e.stateName&&c.createElement(i.__J,{theme:"utility",size:"xs",className:E()(Xe.label)},c.createElement(Qe.Z,null),e.stateName)))),c.createElement("div",{className:Xe.paginationContainer},c.createElement("span",{className:Xe.counter},-1===e.index?"–":e.index+1,"/",e.totalItems),c.createElement(i.zxk,{qa:"suite-prev",view:"flat",disabled:e.index<=0,onClick:e.onPrevious},c.createElement(i.JO$,{data:Je.Z})),c.createElement(i.zxk,{qa:"suite-next",view:"flat",disabled:e.index<0||e.index===e.totalItems-1,onClick:e.onNext},c.createElement(i.JO$,{data:Ke.Z}))))}var $e=n(13583);const et={container:"nR0kpnVQuYefx31uTlD5",heading:"baYQP9hm9fAaU79TT8HC","attempts-container":"SsRE0DhTAdrseFiE6W4S",attemptsContainer:"SsRE0DhTAdrseFiE6W4S"},tt="nJPe2OO4z2uAJdX7sMaV",nt="eDONt5swkA3IFMY28K0w",rt="yVJoWVTQitoP9vCeR3gQ regular-button from global, action-button";var at=c.forwardRef((function(e,t){return c.createElement(i.ua7,{content:e.tooltip,placement:"top",openDelay:0},c.createElement(i.zxk,{className:e.className,view:e.view,onClick:e.onClick,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:t,selected:e.selected,qa:e.qa},e.icon))})),it=n(14963),ct=n(75262),st=n(97566),ot=function(e){return{type:st.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME,payload:e}},lt=function(e){var t=e.showPlayer,n=void 0===t||t,r=e.browser,a=(0,s.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),o=(0,s.useSelector)((function(e){return e.running})),l=(0,V.z)(),u=(0,s.useDispatch)(),d=(0,s.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),m=(0,s.useSelector)(Pe),p=Boolean(d),f=m&&n,E=p&&f;return c.createElement("div",{className:tt},f&&c.createElement(at,{tooltip:a?"Hide Time Travel Player":"Show Time Travel Player",icon:c.createElement(i.JO$,{data:it.Z}),onClick:function(){var e;null==l||l.trackFeatureUsage({featureName:"Toggle time travel player visibility"}),u((e=!a,{type:st.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY,payload:{isVisible:e}}))},view:"outlined",selected:a}),E&&c.createElement(i.izJ,{orientation:"vertical",className:nt}),p&&c.createElement(i.zxk,{view:"action",className:rt,onClick:function(){r&&(null==l||l.trackFeatureUsage({featureName:"Retry test button click in test control panel"}),u((0,w.thunkRunTest)({test:{testName:r.parentId,browserName:r.name}})))},disabled:o},o?c.createElement(i.yCA,{size:"xs"}):c.createElement(i.JO$,{data:ct.Z}),"Retry"))};function ut(e){var t,n=e.onAttemptChange,r=(0,s.useSelector)((function(e){return e.app.suitesPage.currentBrowserId})),a=(0,s.useSelector)((function(e){return r&&e.tree.browsers.byId[r]?e.tree.browsers.byId[r].resultIds:[]})),i=(0,s.useSelector)(xe),o=null!==(t=(0,s.useSelector)(ke))&&void 0!==t?t:"";return c.createElement("div",{className:et.container},c.createElement("h3",{className:E()("text-header-1",et.heading)},"Attempts"),c.createElement("div",{className:et.attemptsContainer},a.map((function(e,t){return c.createElement($e.j,{key:e,resultId:e,isActive:e===o,onClick:function(){return function(e,t){r&&o!==e&&(null==n||n(r,e,t))}(e,t)}})}))),c.createElement(lt,{browser:i}))}const dt={container:"muBYOfEen_m8tSJh2hCl","collapsible-section__body":"AUuPP_HbqfOPKdcYd69V",collapsibleSectionBody:"AUuPP_HbqfOPKdcYd69V","collapsible-section-overview":"rqiepPcf5HwR6NoFhHGf",collapsibleSectionOverview:"rqiepPcf5HwR6NoFhHGf",card:"RgbiKKtfc9YGiEtUeWtY",card__title:"LpMOqM7AgrJWSvYxy1W3",cardTitle:"LpMOqM7AgrJWSvYxy1W3","test-view-card":"Ztc10W8OVgV8sL0aGIaU",testViewCard:"Ztc10W8OVgV8sL0aGIaU","sticky-header":"i1qQgxI36YoEgEI2b5wo",stickyHeader:"i1qQgxI36YoEgEI2b5wo","hint-container":"_VhDOpLVD6atRgsTBko9",hintContainer:"_VhDOpLVD6atRgsTBko9",hint:"It1E1_VWwCWcraQxfr2g"};var mt=n(62349),pt=n.n(mt);function ft(){var e=(0,c.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=(0,c.useState)([]),s=(0,d.Z)(a,2),o=s[0],l=s[1];return(0,c.useEffect)((function(){for(var e=[],t=0;t<pt()(3,6);t++)e.push(c.createElement(i.kCb,{gap:2,key:t},c.createElement(i.OdW,{style:{height:"12px",width:"".concat(pt()(20,35),"%")}}),c.createElement(i.OdW,{style:{height:"".concat(24*pt()(1,3),"px"),width:"40%",marginLeft:"auto"}})));r(e);for(var n=[],a=0;a<pt()(8,12);a++)n.push(c.createElement(i.kCb,{gap:2,key:a},c.createElement(i.OdW,{style:{height:"24px",width:"".concat(pt()(60,80),"%")}}),c.createElement(i.OdW,{style:{height:"12px",width:"".concat(pt()(5,8),"%"),marginLeft:"auto"}})));l(n)}),[]),c.createElement(i.kCb,{direction:"column",gap:4},c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"12px",width:"20%"}}),c.createElement(i.OdW,{style:{height:"12px",width:"35%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"24px",width:"40%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"20px",width:"20%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"20px",width:"25%"}})),n,c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"20px",width:"20%"}})),o)}var Et=n(52902),gt=n(86522),vt=n(9249),ht=n(87371),It=n(45754),St=n(11987),yt=n(95058),Tt=c.createContext(null),Nt=Tt.Provider,bt=function(){var e=c.useContext(Tt);if(null===e)throw new Error("useErrorContext must be used within ErrorContextProvider");return e};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e){var t=Ot();return function(){var n,r=(0,yt.Z)(e);if(t){var a=(0,yt.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,St.Z)(this,n)}}function Ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ot=function(){return!!e})()}var At=function(e){(0,It.Z)(n,e);var t=wt(n);function n(e){var r;return(0,vt.Z)(this,n),(r=t.call(this,e)).state={watchFor:e.watchFor,hasError:!1,error:null,errorInfo:null},r}return(0,ht.Z)(n,[{key:"restore",value:function(){this.setState({hasError:!1,error:null})}},{key:"componentDidCatchErrorInstance",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed('%cError boundary catched error named "'.concat(e.name,'". See details below:')+"%c @ "+r,n.messageStyle,n.timestampStyle),console.error(e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatchSomethingWeird",value:function(e,t){this.setState({hasError:!0,error:new Error("Unknown error, based on ".concat((0,gt.Z)(e)," value provided.\nReceived value: ").concat(e,", which is not an Error instance.\nTry check your code for throwing ").concat((0,gt.Z)(e),"s.")),errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed("%cError boundary catched ".concat((0,gt.Z)(e)," instead of Error class instance. Try check your code for throwing ").concat((0,gt.Z)(e),"s. See details below:")+"%c @ "+r,n.messageStyle,n.timestampStyle),console.log("Received ".concat((0,gt.Z)(e)," value: "),e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatch",value:function(e,t){return e instanceof Error?this.componentDidCatchErrorInstance(e,t):this.componentDidCatchSomethingWeird(e,t)}},{key:"render",value:function(){return this.state.hasError?c.createElement(Nt,{value:{state:this.state,restore:this.restore.bind(this)}},this.props.fallback):this.props.children}}],[{key:"isNothingChanged",value:function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every((function(e,n){return e===t[n]})))}},{key:"getDerivedStateFromProps",value:function(e,t){return n.isNothingChanged(t.watchFor,e.watchFor)?null:Ct(Ct({},t),{},{error:null,hasError:!1,errorInfo:null,watchFor:e.watchFor})}}]),n}(c.Component);(0,u.Z)(At,"messageStyle","background: crimson; color: white;"),(0,u.Z)(At,"timestampStyle","color: gray; font-size: smaller");var Dt=n(57807),_t=n.n(Dt),Lt=n(48439),xt=n.n(Lt);const kt={code:"dHRn8Yz83ZfjIQyOVx0s"};function Rt(e){return _t().setColors({reset:["eee","00000000"]}),c.createElement("div",{className:E()(kt.code,e.className),style:e.style,dangerouslySetInnerHTML:{__html:_t()(xt()(e.name+"\n"+e.stack))}})}const jt="_LTkXHA4mWxFhAhQ7Uyw",Pt="_LLJ1NpsLjP4Db9HQqT0",Zt="xolKAa1dSvDMxS_PEXf7",zt="jfZSMLHKOF2TSiYmbEMA",Ut="etcx80anDp8a8i5L972W",Bt="O4ff04wtuq_j5EXrm1K8",Gt="iNOdl5jVecZAcgqopMhi",Ft="LruSxwTdpVZS32YMqoUA",Vt="Rg4gP6QvZjvfl1PNCcEw";var Wt=n(7896),Yt=n(41421);const Ht="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjQ5OTcgMC42OTkzNTVDNC4wODIzMiAwLjY5OTM1NSAwLjUgNC4yODEwOCAwLjUgOC42OTkwM0MwLjUgMTIuMjMzOCAyLjc5MTk1IDE1LjIzMTUgNS45NzA2NSAxNi4yODk4QzYuMzcwNzUgMTYuMzYzOSA2LjUxNzggMTYuMTE1OSA2LjUxNzggMTUuOTA0NEM2LjUxNzggMTUuNzEzNyA2LjUwOTgzIDE1LjA4MzYgNi41MDY1OCAxNC40MTU2QzQuMjgwNzggMTQuODk5NiAzLjgxMTU3IDEzLjQ3MTMgMy44MTE1NyAxMy40NzEzQzMuNDQ3NzcgMTIuNTQ2NSAyLjkyMzM1IDEyLjMwMDYgMi45MjMzNSAxMi4zMDA2QzIuMTk3NTUgMTEuODAzNiAyLjk3ODU3IDExLjgxNDUgMi45Nzg1NyAxMS44MTQ1QzMuNzgxNzIgMTEuODcwNiA0LjIwNDU4IDEyLjYzODQgNC4yMDQ1OCAxMi42Mzg0QzQuOTE4NTcgMTMuODYxNCA2LjA3NjY1IDEzLjUwNzQgNi41MzI4NSAxMy4zMDMzQzYuNjA0OSAxMi43ODYzIDYuODExNiAxMi40MzMxIDcuMDQwNzMgMTIuMjMzMkM1LjI2MzcyIDEyLjAzMTYgMy4zOTU4IDExLjM0NTMgMy4zOTU4IDguMjc5NzNDMy4zOTU4IDcuNDA2NTggMy43MDg4IDYuNjkyNjEgNC4yMTk5MiA2LjEzMjczQzQuMTM2NjcgNS45MzA3OCAzLjg2MjY1IDUuMTE3NTggNC4yOTcgNC4wMTU4OEM0LjI5NyA0LjAxNTg4IDQuOTY4NzUgMy44MDA2MyA2LjQ5NzczIDQuODM1ODhDNy4xMzU1MyA0LjY1OTAxIDcuODE5NjcgNC41Njk4MyA4LjQ5OTEzIDQuNTY2ODhDOS4xNzkxMiA0LjU2OTgzIDkuODY0NDggNC42NTg3MSAxMC41MDMyIDQuODM1ODhDMTIuMDMwMSAzLjgwMTIzIDEyLjcwMTIgNC4wMTU4OCAxMi43MDEyIDQuMDE1ODhDMTMuMTM2MiA1LjExNzg4IDEyLjg2MzMgNS45MzE2NiAxMi43ODAxIDYuMTMyNzZDMTMuMjkzIDYuNjkyNjEgMTMuNjAzMyA3LjQwNjU4IDEzLjYwMzMgOC4yNzk3M0MxMy42MDMzIDExLjM1MjQgMTEuNzMxMiAxMi4wMjggOS45NTA0IDEyLjIyNjFDMTAuMjM3NCAxMi40NzQyIDEwLjQ5MzcgMTIuOTYxMSAxMC40OTM3IDEzLjcwN0MxMC40OTM3IDE0Ljc3NjggMTAuNDg0NiAxNS42MzkgMTAuNDg0NiAxNS45MDIxQzEwLjQ4NDYgMTYuMTE1IDEwLjYyODcgMTYuMzYzOSAxMS4wMzQ0IDE2LjI4NTlDMTQuMjExMyAxNS4yMjcxIDE2LjUwMDMgMTIuMjI5MSAxNi41MDAzIDguNjk2MzZDMTYuNTAwMyA0LjI3ODk4IDEyLjkxODYgMC42OTY2NTUgOC41MDAzIDAuNjk2NjU1TDguNDk5NzMgMC42OTkzM0w4LjQ5OTcgMC42OTkzNTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K";function Qt(){window.open(O.WY,"_blank")}function Jt(e){return c.createElement(i.zxk,(0,Wt.Z)({},e,{view:"outlined",onClick:Qt}),c.createElement(i.zxk.Icon,null,c.createElement("img",{src:Ht,alt:"icon",width:17,height:17})),"File an issue")}function Kt(){window.location.reload()}function Xt(e){return c.createElement(i.zxk,(0,Wt.Z)({},e,{view:"outlined",onClick:Kt}),c.createElement(i.JO$,{data:Yt.Z}),"Refresh this page")}var qt={Boundary:At,FallbackAppCrash:function(){var e=bt().state;return c.createElement("div",{className:jt},c.createElement("div",{className:E()(Pt,Zt)},c.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMiAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjIyIDI5Ljk2QzEzLjM1IDI5Ljk2IDE1LjM0IDI4LjgzIDE2LjQxIDI2Ljk4TDIwLjAzIDIwLjcxTDIyLjkzIDIwLjczQzI1LjA1IDIwLjczIDI3LjAyIDE5LjYgMjguMDggMTcuNzZMMjkuMTQgMTUuOTVIMjAuNTNDMTguNCAxNS45NSAxNi40MSAxNy4wOCAxNS4zNCAxOC45M0w4Ljk3OTk4IDI5Ljk0SDExLjIyVjI5Ljk2Wk0yNy45OCAxNi42MkwyNy40OSAxNy40M0MyNi41NSAxOS4wNiAyNC44IDIwLjA3IDIyLjkyIDIwLjA2TDIwLjQgMjAuMDRMMjIuMzcgMTYuNjFIMjcuOTdMMjcuOTggMTYuNjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjguMDMwMiAxMS41NUMyNi45NzAyIDkuNyAyNC45OTAyIDguNTUgMjIuODYwMiA4LjU1SDE1LjYyMDJMMTQuMTkwMiA2LjAzQzEzLjEzMDIgNC4xOSAxMS4xNjAyIDMuMDUgOS4wNTAyIDMuMDVMNi45NTAyIDMuMDNMMTEuMjUwMiAxMC40OEMxMi4zMTAyIDEyLjMzIDE0LjI5MDIgMTMuNDggMTYuNDIwMiAxMy40OEgyOS4xNDAyTDI4LjAzMDIgMTEuNTRWMTEuNTVaTTguMDkwMiAzLjdMOS4wNDAyIDMuNzJDMTAuOTIwMiAzLjcyIDEyLjY3MDIgNC43MyAxMy42MTAyIDYuMzZMMTQuODUwMiA4LjU1SDEwLjg5MDJMOC4wOTAyIDMuN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zLjY2OTgyIDYuMTk5OTlDMi41OTk4MiA4LjAzOTk5IDIuNTg5ODIgMTAuMzMgMy42NTk4MiAxMi4xOEw3LjI3OTgyIDE4LjQ1TDUuODA5ODIgMjAuOTVDNC43NDk4MiAyMi43OCA0Ljc0OTgyIDI1LjA2IDUuODA5ODIgMjYuODlMNi44Mzk4MiAyOC43MUwxMS4xMzk4IDIxLjI2QzEyLjIwOTggMTkuNDIgMTIuMjE5OCAxNy4xMyAxMS4xNDk4IDE1LjI4TDQuNzk5ODIgNC4yNjk5OUwzLjY2OTgyIDYuMTk5OTlaTTYuODQ5ODIgMjcuMzlMNi4zODk4MiAyNi41NkM1LjQ0OTgyIDI0LjkzIDUuNDQ5ODIgMjIuOTEgNi4zODk4MiAyMS4yOEw3LjY1OTgyIDE5LjExTDkuNjM5ODIgMjIuNTNMNi44Mzk4MiAyNy4zOEw2Ljg0OTgyIDI3LjM5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",alt:"icon",width:32,height:32}),c.createElement("div",{className:zt}),c.createElement(i.xvT,{variant:"subheader-3"},"Something went wrong"),c.createElement(i.xvT,{variant:"body-1",color:"secondary"},"Testplane UI has crashed"),c.createElement("div",{className:zt}),c.createElement(Rt,{className:Ft,name:e.error.name,stack:e.error.stack}),c.createElement("div",{className:zt}),c.createElement("div",{className:E()(Vt)},c.createElement(Xt,{width:"max"}),c.createElement(Jt,{width:"max"})),c.createElement(i.xvT,{variant:"body-1",color:"secondary"},"We would appreciate a detailed",c.createElement("br",null),"report with reproduction steps.")))},FallbackCardCrash:function(e){var t=e.recommendedAction,n=bt().state;return c.createElement("div",{className:E()(Pt)},c.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjggOCAzOCAyOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjYuOTk5NiIgY3k9IjMxLjM3OTQiIHI9IjEuNzkzMSIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU0MDUgNy45NTA4MUMyNS4wODIyIDUuMjk1MTEgMjguOTE3NCA1LjI5NTExIDMwLjQ1OTEgNy45NTA4Mkw0NC40MTU1IDMxLjk5MThDNDUuOTYzNSAzNC42NTg0IDQ0LjAzOTUgMzggNDAuOTU2MSAzOEgxMy4wNDM1QzkuOTYwMDUgMzggOC4wMzYwOCAzNC42NTg0IDkuNTg0MTQgMzEuOTkxOEwyMy41NDA1IDcuOTUwODFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTI2LjEwMzEgMTQuMzQ1NEMyNS42NTQ4IDE0Ljc5MzYgMjYuNTUxNyAyNi44OTcyIDI3IDI2Ljg5NzJDMjcuNDQ4MyAyNi44OTczIDI4LjM0NDUgMTQuNzkzNiAyNy44OTYyIDE0LjM0NTRDMjcuNDQ3OSAxMy44OTcxIDI2LjU1MTQgMTMuODk3MSAyNi4xMDMxIDE0LjM0NTRaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIvPgo8L3N2Zz4K",alt:"icon",width:32,height:32}),c.createElement(i.xvT,{variant:"subheader-3"},"Something went wrong"),c.createElement(i.xvT,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side"),c.createElement(Rt,{className:Ft,name:n.error.name,stack:n.error.stack}),"string"==typeof t?c.createElement(i.xvT,{variant:"body-1"},t):t,t&&c.createElement("div",{className:E()(Bt)},c.createElement(i.izJ,{className:E()(Gt)}),c.createElement(i.xvT,{variant:"caption-1",color:"secondary"},"OR"),c.createElement(i.izJ,{className:E()(Gt)})),c.createElement(Jt,null))},FallbackDataCorruption:function(){var e=bt().state;return c.createElement("div",{className:E()(Pt,Ut)},c.createElement(i.xvT,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side. ",c.createElement(i.rUS,{href:O.WY,target:"_blank"},"File an issue")),c.createElement(Rt,{className:Ft,name:e.error.name,stack:e.error.stack}))}};const $t="N95XGZkrKPbZhl3Vy74M",en="WYHFVK6JX4RyJFzf37Us",tn="hiBFUuN6nkc2PDsIARXp";var nn=n(18717);var rn=(0,s.connect)((function(e,t){var n,r=e.app.suitesPage.currentBrowserId,a="";if(r&&e.tree.browsers.byId[r]){e.tree.browsers.stateById[r].retryIndex;a=t.id}return{sectionId:a,expanded:null===(n=e.ui.suitesPage.expandedSectionsById[a])||void 0===n||n}}),(function(e){return{actions:(0,nn.bindActionCreators)(w,e)}}))((function(e){var t=function(){e.actions.setSectionExpandedState({sectionId:e.sectionId,isExpanded:!e.expanded})};return c.createElement(i.pJF,{expanded:e.expanded,size:"l",arrowPosition:"end",key:e.sectionId,className:e.className},c.createElement(i.pJF.Summary,null,(function(){return c.createElement(i.kCb,{gap:2,alignItems:"center",onClick:t,className:en},c.createElement("h3",{className:"text-header-1"},e.title),c.createElement(Je.Z,{className:E()($t,(0,u.Z)({},tn,e.expanded))}))})),e.children)})),an=n(28978),cn=n(9123),sn=n(54523),on=n(44742),ln=n(28974);const un={wrapper:"WqxIjCTtdCRPrQGjgPs2"};function dn(e){return c.createElement("div",{className:un.wrapper},e.children)}const mn={wrapper:"ntceMu1H5HZhHAf0bZM3",item:"lKApnVoVLEWkxYb29jma","item--failed":"kiPtUIMAuyhD23KGlTwO",itemFailed:"kiPtUIMAuyhD23KGlTwO"};var pn=n(71011);function fn(e){return function t(n){return n>=e.args.length?null:c.createElement("div",{className:E()(mn.wrapper)},c.createElement("span",{className:E()([mn.item,(0,u.Z)({},mn["item--failed"],!e.isActive&&e.isFailed)])},(0,pn.Pz)(e.args[n])),t(n+1))}(0)}var En=n(97698),gn=function(e){return e[e.Action=0]="Action",e[e.Attachment=1]="Attachment",e[e.ErrorInfo=2]="ErrorInfo",e[e.SingleImage=3]="SingleImage",e[e.AssertViewResult=4]="AssertViewResult",e}({}),vn=n(9560);function hn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return In(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sn=function(e,t){function n(e){if(t(e),e.children){var r,a=hn(e.children);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}}}var r,a=hn(e);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}},yn=function(e,t){return{"--indent":e.structure.itemsState[t].indentation}};function Tn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bn=(0,En.createSelector)([j.Al,Re,je],(function(e,t,n){if(!t||!t.history)return[];var r=function e(t,n){return t.map((function(t,r){var a,i=Boolean(t[_e.Children]&&(null===(a=t[_e.Children])||void 0===a?void 0:a.length)>0),c={id:"".concat(n," ").concat(r),data:{type:gn.Action,title:t[_e.Name],duration:t[_e.Duration],startTime:t[_e.TimeStart],status:t[_e.IsFailed]?O.ih.ERROR:O.ih.SUCCESS,args:t[_e.Args],isGroup:t[_e.IsGroup],repeat:t[_e.Repeat],hasChildren:i}};return i&&(c.children=e(t[_e.Children],c.id)),c}))}(t.history,t.id);if(t.error&&!(0,vn.ci)(t.error)&&!(0,vn.iR)(t.error)){var a=function(e){var t=null;return Sn(e,(function(e){e.data.type===gn.Action&&e.data.status===O.ih.ERROR&&(t=e)})),t}(r),i=(0,vn.Fm)(t.error),c={id:"".concat(null==a?void 0:a.id," error 0"),data:{type:gn.ErrorInfo,name:i.name,stack:i.stack}},s={id:"".concat(null==a?void 0:a.id," error"),data:{type:gn.Attachment,title:"Error",hasChildren:!0},children:[c]};a&&a.children&&a.children.length>0?a.children.push(s):a?a.children=[c]:r.push(s)}var o,l=Tn(n);try{var u=function(){var t,n=o.value;if(!n.stateName)return"continue";if(Sn(r,(function(r){var a,i,c;r.data.type===gn.Action&&(e===O.YO.Playwright?(r.data.title.includes("toHaveScreenshot")&&r.data.title.includes(null!==(a=n.stateName)&&void 0!==a?a:"")||r.data.title.includes("toMatchScreenshot")&&null!==(i=r.children)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&null!==(i=i.title)&&void 0!==i&&i.includes(null!==(c=n.stateName)&&void 0!==c?c:""))&&(t=r):"assertView"===r.data.title&&r.data.args[0]===n.stateName&&(t=r))})),t?t.data.type===gn.Action&&(t.data.hasChildren=!0):(t={id:"".concat(n.id," assertView"),data:{type:gn.Action,title:"assertView",status:n.status,args:[n.stateName],isGroup:!1,hasChildren:!0}},r.push(t)),n.status===O.ih.ERROR&&n.error){var a={id:"".concat(n.id," assertView error-info"),data:{type:gn.ErrorInfo,name:n.error.name,stack:n.error.stack||n.error.message}},i={id:"".concat(n.id," assertView error"),data:{type:gn.Attachment,title:"Error",hasChildren:!0},children:[a]};t.children||(t.children=[]),t.children.push(i)}var c={id:"".concat(n.id," image"),data:{type:gn.AssertViewResult,result:n}};t.data.type===gn.Action&&(t.data.status=n.status),t.children&&t.children.length>0?t.children.push({id:"".concat(t.id," attachment"),data:{type:gn.Attachment,title:"Screenshots",hasChildren:!0},children:[c]}):t.children=[c]};for(l.s();!(o=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}var d=n.find((function(e){return e.status===O.ih.ERROR&&!e.stateName}));return d&&r.push({id:"page-screenshot",data:{type:gn.Attachment,title:"Page Screenshot",hasChildren:!0},children:[{id:"page-screenshot-image",data:{type:gn.SingleImage,image:d.actualImg}}]}),r})),Mn=(0,En.createSelector)([bn,function(e){var t,n=ke(e);return n&&null!==(t=e.ui.suitesPage.expandedStepsByResultId[n])&&void 0!==t?t:{}}],(function(e,t){var n={};return Sn(e,(function(e){var r;if(e.children){var a=e.id;n[a]=null===(r=t[a])||void 0===r||r}})),n}));const Cn={"tree-view-item":"QhnkL9SOrvWtbErZaAKx",treeViewItem:"QhnkL9SOrvWtbErZaAKx","tree-view-item--active":"DZ7vlCVBM88vYE0_r6mQ",treeViewItemActive:"DZ7vlCVBM88vYE0_r6mQ","tree-view-item--error":"UbaPLUI4_sN41zFxfXtx",treeViewItemError:"UbaPLUI4_sN41zFxfXtx","tree-view-item--corrupted":"ve7hJEGzoe9lERnWCZfG",treeViewItemCorrupted:"ve7hJEGzoe9lERnWCZfG"};function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){var t,n=e.list.structure.itemsState[e.id].indentation,r=e.list.structure.itemsById[e.id].hasChildren;return c.createElement(cn.CM,(0,Wt.Z)({onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,className:E()([e.className,Cn.treeViewItem,(t={},(0,u.Z)(t,Cn["tree-view-item--active"],e.isActive),(0,u.Z)(t,Cn["tree-view-item--corrupted"],!e.isActive&&"corrupted"===e.status),(0,u.Z)(t,Cn["tree-view-item--error"],!e.isActive&&"error"===e.status),t)]),activeOnHover:!0,style:{"--indent":n+Number(!r)}},(0,cn.vy)({id:e.id,list:e.list,onItemClick:e.onItemClick,mapItemDataToContentProps:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({indentation:0},e.mapItemDataToContentProps(t))}}).props))}const An={"step-content":"wRBXBDdHrTikZ7hs1rdK",stepContent:"wRBXBDdHrTikZ7hs1rdK","step-args-wrapper":"LR4BHdAv8jwAMuF4Pc3E",stepArgsWrapper:"LR4BHdAv8jwAMuF4Pc3E","error-info":"gpWDkSaE77J9qpEhWFRw",errorInfo:"gpWDkSaE77J9qpEhWFRw","page-screenshot":"ZjYDeaZ2zu8wgTOVQM8B",pageScreenshot:"ZjYDeaZ2zu8wgTOVQM8B","step-duration":"AMx1IJ4ecNKFSIXEnbEh",stepDuration:"AMx1IJ4ecNKFSIXEnbEh","step-duration-avg":"Kc7shViRKvkr7VW8ExOW",stepDurationAvg:"Kc7shViRKvkr7VW8ExOW","step-repeat":"hsRvyfBD6GFXFc8_aM5k",stepRepeat:"hsRvyfBD6GFXFc8_aM5k",step:"f4y9L5V1wtKbRyvPLvEA","step--dimmed":"GRSYjuQxCFGe42ORpaHR",stepDimmed:"GRSYjuQxCFGe42ORpaHR"};var Dn=n(81845),_n=n(7065),Ln=n(35682),xn=n(74677),kn=n(44049),Rn=n(50929),jn=n(55476),Pn=n(64714),Zn=n(60460);const zn={"image-label":"jApgJ8zTfUMQDYwQhObj",imageLabel:"jApgJ8zTfUMQDYwQhObj","image-label-subtitle":"W5IwBC_4o97mxmZflwQV",imageLabelSubtitle:"W5IwBC_4o97mxmZflwQV"};function Un(e){var t=e.title,n=e.subtitle;return c.createElement("div",{className:zn.imageLabel},c.createElement("span",null,t),n&&c.createElement("span",{className:zn.imageLabelSubtitle},n))}function Bn(e){var t,n=Object.assign({},e.expectedImg,{label:c.createElement(Un,{title:"Expected",subtitle:(0,pn.k)(e.expectedImg)})}),r=Object.assign({},e.actualImg,{label:c.createElement(Un,{title:"Actual",subtitle:(0,pn.k)(e.actualImg)})});void 0!==e.differentPixels&&void 0!==e.diffRatio&&(t="".concat(e.differentPixels,"px ⋅ ").concat((0,Zn.h)(e.diffRatio),"%"));var a=Object.assign({},e.diffImg,{label:c.createElement(Un,{title:"Diff",subtitle:t}),diffClusters:e.diffClusters});switch(e.diffMode){case O.nx.ONLY_DIFF.id:return c.createElement(_n._,{diff:a});case O.nx.SWITCH.id:return c.createElement(Ln.H,{expected:n,actual:r});case O.nx.SWIPE.id:return c.createElement(xn.p,{expected:n,actual:r});case O.nx.ONION_SKIN.id:return c.createElement(kn.n,{expected:n,actual:r});case O.nx.THREE_UP_SCALED.id:return c.createElement(Rn.P,{expected:n,actual:r,diff:a});case O.nx.THREE_UP_SCALED_TO_FIT.id:var i,s=null!==(i=e.desiredHeight)&&void 0!==i?i:"calc(100vh - 180px)";return c.createElement(jn.g,{desiredHeight:s,expected:n,actual:r,diff:a});case O.nx.THREE_UP.id:default:return c.createElement(Pn.t,{expected:n,actual:r,diff:a})}}const Gn="vjAthq06BGCMTC8Mv9Qq",Fn="DlKdIVLCG7dotil9mUek";var Vn=(0,s.connect)((function(e){return{diffMode:e.view.diffMode}}))((function(e){var t=e.result,n=e.diffMode,r=e.style;return t.status===O.ih.FAIL?c.createElement(Bn,(0,Wt.Z)({diffMode:n},t)):t.status===O.ih.ERROR?c.createElement("div",{className:Fn},c.createElement(Un,{title:"Actual",subtitle:(0,pn.k)(t.actualImg)}),c.createElement(Dn.w,{containerStyle:r,containerClassName:Gn,image:t.actualImg})):t.status===O.ih.SUCCESS||t.status===O.ih.UPDATED?c.createElement("div",{className:Fn},c.createElement(Un,{title:"Expected",subtitle:(0,pn.k)(t.expectedImg)}),c.createElement(Dn.w,{containerStyle:r,containerClassName:Gn,image:t.expectedImg})):t.status===O.ih.STAGED?c.createElement("div",{className:Fn},c.createElement(Un,{title:"Staged",subtitle:(0,pn.k)(t.actualImg)}),c.createElement(Dn.w,{containerStyle:r,containerClassName:Gn,image:t.actualImg})):t.status===O.ih.COMMITED?c.createElement("div",{className:Fn},c.createElement(Un,{title:"Committed",subtitle:(0,pn.k)(t.actualImg)}),c.createElement(Dn.w,{containerStyle:r,containerClassName:Gn,image:t.actualImg})):null})),Wn=n(14054);const Yn={container:"Bzu9PGbArU7lRN2Ar305"};var Hn=n(83832),Qn=n(99652),Jn=n(47347),Kn=n(60148),Xn=n(41020),qn=n(86686),$n=n(84579),er=n(65471),tr=n(92275),nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return c.createElement(i.JO$,{data:Hn.Z,width:16,className:t?"icon-skip":""});if((0,vn.S5)(e.error))return c.createElement(i.JO$,{data:Qn.Z,width:16,className:t?"icon-fail":""});if((0,vn.Ne)(e.error))return c.createElement(i.JO$,{data:Jn.Z,width:16,className:t?"icon-fail":""});switch(e.status){case O.ih.SUCCESS:return c.createElement(i.JO$,{data:Kn.Z,width:16,className:t?"icon-success":""});case O.ih.STAGED:return c.createElement(i.JO$,{data:Xn.Z,width:16,className:t?"icon-success":""});case O.ih.COMMITED:return c.createElement(i.JO$,{data:qn.Z,width:16,className:t?"icon-committed":""});case O.ih.FAIL:return c.createElement(i.JO$,{data:$n.Z,width:16,className:t?"icon-fail":""});case O.ih.UPDATED:return c.createElement(i.JO$,{data:er.Z,width:16,className:t?"icon-updated":""})}return c.createElement(i.JO$,{data:tr.Z,width:16})},rr=function(e){if(null===e)return"Image is absent";if((0,vn.S5)(e.error))return"Reference not found";if((0,vn.Ne)(e.error))return"Reference is broken";switch(e.status){case O.ih.SUCCESS:return"Images match";case O.ih.STAGED:return"Image is staged";case O.ih.COMMITED:return"Image was committed";case O.ih.FAIL:return"Difference detected";case O.ih.UPDATED:return"Reference updated"}return"Failed to compare"};function ar(e){var t=e.image;return c.createElement("div",{className:Yn.container},nr(t),c.createElement("span",{"data-qa":"assert-view-status"},rr(t)))}const ir={container:"zpJECOhq9qZd3bvl0Pdw","toolbar-container":"E6G546D3l4lfgSoA2pMl",toolbarContainer:"E6G546D3l4lfgSoA2pMl","accept-button":"duhqOxbJdunbXhlqw2xx regular-button from global, action-button",acceptButton:"duhqOxbJdunbXhlqw2xx regular-button from global, action-button","go-to-visual":"R_LOEH9XObHPRiJR4nml regular-button from global, action-button",goToVisual:"R_LOEH9XObHPRiJR4nml regular-button from global, action-button","buttons-container":"c3vmDPGU0o8ISP97chr3",buttonsContainer:"c3vmDPGU0o8ISP97chr3","diff-mode-container":"ELlBfFH2SqOCLQnFzAJq",diffModeContainer:"ELlBfFH2SqOCLQnFzAJq","diff-mode-switcher":"jQlVLqJv__6SYlybe_s1",diffModeSwitcher:"jQlVLqJv__6SYlybe_s1","diff-mode-select":"EnBKE_JkU1Cwk_eYZGMq",diffModeSelect:"EnBKE_JkU1Cwk_eYZGMq"};var cr=n(54432);function sr(e){return null===e?null:e.scrollHeight>e.clientHeight?e:sr(e.parentNode)}var or=200;function lr(e){var t=(0,s.useDispatch)(),n=(0,V.z)(),r=(0,o.s0)(),l=(0,o.UO)(),u=l.suiteId,m=l.stateName,p=(0,c.createRef)(),f=(0,c.useRef)(!1),E=(0,s.useSelector)((function(e){return e.view.diffMode})),g=(0,s.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),v=(0,s.useSelector)((function(e){return e.staticImageAccepter.enabled})),h=(0,s.useSelector)((function(e){return e.running})),I=(0,s.useSelector)((function(e){return e.processing})),S=(0,s.useSelector)((function(e){return e.gui})),y=e.image.status===O.ih.FAIL&&e.image.diffImg,T=(0,s.useSelector)(xe),N=(0,s.useSelector)(Re),b=N&&T&&N.id===T.resultIds[T.resultIds.length-1],M=(0,Wn.KD)({gui:S,image:e.image,isLastResult:b,isStaticImageAccepterEnabled:v}),C=function(e){t((0,w.setDiffMode)({diffModeId:e}))},A="".concat(null==N?void 0:N.parentId," ").concat(e.image.stateName);return(0,c.useEffect)((function(){if(p&&p.current&&"".concat(u," ").concat(m)===A&&f&&!1===f.current){f.current=!0;var e=sr(p.current),t=p.current.getBoundingClientRect().top;null==e||e.scrollTo(0,t-or)}}),[]),c.createElement("div",{style:e.style,className:ir.container,ref:p},e.image.status!==O.ih.SUCCESS&&c.createElement("div",{className:ir.toolbarContainer},!y&&c.createElement(ar,{image:e.image}),y&&c.createElement("div",{className:ir.diffModeContainer},c.createElement(i.eWC,{onUpdate:C,value:E,className:ir.diffModeSwitcher},Object.values(O.nx).map((function(e){return c.createElement(i.eWC.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),c.createElement(i.PhF,{className:ir.diffModeSelect,label:"Diff Mode",value:[E],onUpdate:function(e){var t=(0,d.Z)(e,1)[0];return C(t)},multiple:!1},Object.values(O.nx).map((function(e){return c.createElement(i.PhF.Option,{value:e.id,content:e.title,title:e.description,key:e.id})})))),c.createElement(i.kCb,{className:ir.buttonsContainer,gap:2},c.createElement(i.zxk,{view:"outlined",className:ir.goToVisual,disabled:h||I,onClick:function(){r("/visual-checks/".concat(encodeURIComponent(A),"/").concat(null==N?void 0:N.attempt))},qa:"go-visual-button"},c.createElement(i.JO$,{data:a.Z}),"Go to Visual Checks"),g&&c.createElement(c.Fragment,null,M&&c.createElement(i.zxk,{view:"action",className:ir.acceptButton,disabled:h||I,onClick:function(){t(v?(0,w.staticAccepterUnstageScreenshot)([e.image.id]):(0,cr.Ku)({imageIds:[e.image.id]}))}},c.createElement(i.JO$,{data:P.Z}),"Undo"),(0,Wn.h3)(e.image)&&c.createElement(i.zxk,{view:"action",className:ir.acceptButton,disabled:h||I,onClick:function(){null==n||n.trackScreenshotsAccept(),t(v?(0,w.staticAccepterStageScreenshot)([e.image.id]):(0,cr.Ro)({imageIds:[e.image.id]}))}},c.createElement(i.JO$,{data:me.Z}),"Accept")))),c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackDataCorruption,null)},c.createElement(Vn,{result:e.image})))}function ur(e){var t=e.items,n=e.itemId;return c.createElement(On,{id:n,list:t,status:"corrupted",mapItemDataToContentProps:function(){return{title:c.createElement("div",{className:An.stepContent},c.createElement("span",{className:An.stepTitle},"Couldn’t display this item: data is corrupted. See console for details.")),startSlot:c.createElement(dn,null,c.createElement(sn.Z,null))}}})}function dr(e){var t=e.onItemClick,n=e.items,r=e.itemId,a=e.onMouseMove,i=e.isActive,s=e.className,o=n.structure.itemsById[r];if(o.type===gn.Action){var l=((0,vn.KM)(o.status)||(0,vn.R6)(o.status))&&!o.isGroup,u=o.repeat&&o.hasChildren,d=-1===o.repeat;return c.createElement(On,{className:s,id:r,key:r,list:n,status:l?"error":void 0,onItemClick:t,onMouseMove:a,mapItemDataToContentProps:function(){return{title:c.createElement("div",{className:An.stepContent},c.createElement("span",{className:An.stepTitle},o.title),c.createElement(fn,{args:o.args,isFailed:l,isActive:i}),o.repeat&&o.repeat>0&&c.createElement("div",{className:An.stepRepeat},"×",o.repeat),void 0!==o.duration&&c.createElement("span",{className:E()(An.stepDuration,d&&An.stepDurationAvg)},o.duration," ms")),startSlot:c.createElement(dn,null,u?c.createElement(on.Z,null):(0,pn.XF)(o.status))}},isActive:i})}if(o.type===gn.Attachment)return c.createElement(On,{id:r,key:r,list:n,onItemClick:t,mapItemDataToContentProps:function(){return{title:o.title,startSlot:c.createElement(dn,null,c.createElement(ln.Z,null))}}});if(o.type===gn.ErrorInfo){var m=n.structure.itemsState[r].indentation;return c.createElement(Rt,(0,Wt.Z)({className:An.errorInfo,key:r},o,{style:{marginLeft:"".concat(24*m,"px")}}))}if(o.type===gn.SingleImage)return c.createElement(Dn.w,{containerClassName:An.pageScreenshot,image:o.image,key:r});if(o.type===gn.AssertViewResult)return c.createElement(lr,{key:r,image:o.result,style:yn(n,r)});throw new Error("Unknown step type: ".concat(o.type))}var mr=(0,s.connect)((function(e){var t;return{resultId:null!==(t=ke(e))&&void 0!==t?t:"",testSteps:bn(e),stepsExpandedById:Mn(e)}}),(function(e){return{actions:(0,nn.bindActionCreators)(w,e)}}))((function(e){if(0===e.testSteps.length)return null;var t=(0,s.useDispatch)(),n=(0,o.s0)(),r=(0,s.useSelector)(Re),a=(0,s.useSelector)((function(e){return e.app.suitesPage.currentStepId})),i=(0,s.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),l=(0,cn.Lm)({items:e.testSteps,withExpandedState:!0,controlledState:{expandedById:e.stepsExpandedById}});(0,c.useEffect)((function(){t((0,w.setCurrentStep)({stepId:null}))}),[e.resultId]);var d=(0,c.useCallback)((function(a,i){if(void 0===e.stepsExpandedById[a]){if(i.type!==gn.Action||void 0===i.startTime||void 0===i.duration)return;t((0,w.setCurrentStep)({stepId:a})),t((c={time:i.startTime+i.duration},{type:st.Z.SNAPSHOTS_PLAYER_GO_TO_TIME,payload:c}))}var c,s;(e.actions.setStepsExpandedState({resultId:e.resultId,expandedById:Object.assign({},e.stepsExpandedById,(0,u.Z)({},a,!e.stepsExpandedById[a]))}),i.type===gn.Action)&&n("/"+["suites",null==r?void 0:r.parentId,i.args[0],null==r||null===(s=r.attempt)||void 0===s?void 0:s.toString()].map(encodeURIComponent).join("/"))}),[l,e.actions,e.stepsExpandedById]),m=(0,s.useSelector)((function(e){return e.app.snapshotsPlayer})),p=(0,c.useCallback)((function(e){if(e.type===gn.Action&&void 0!==e.startTime&&void 0!==e.duration){var n=e.startTime,r=e.startTime+e.duration;n===m.highlightStartTime&&r===m.highlightEndTime||t(ot({startTime:n,endTime:r,isActive:!0}))}}),[m]),f=(0,c.useCallback)((function(){t(ot({startTime:m.highlightStartTime,endTime:m.highlightEndTime,isActive:!1}))}),[m]);return c.createElement(cn.lW,{className:e.className,extraProps:{onMouseLeave:function(){return f()}}},l.structure.visibleFlattenIds.map((function(e,t){return c.createElement(qt.Boundary,{key:e,fallback:c.createElement(ur,{items:l,itemId:e})},c.createElement(dr,{className:E()(An.step,(0,u.Z)({},An["step--dimmed"],i&&i!==e)),key:e,isActive:e===a,onItemClick:function(){return d(e,l.structure.itemsById[e])},items:l,itemId:e,index:t,onMouseMove:function(){return p(l.structure.itemsById[e])}}))})))})),pr=n(63569),fr=n(81110),Er=n(80212),gr=n.n(Er);const vr={"player-time":"PGVTINMC30xx3pwEyDIl",playerTime:"PGVTINMC30xx3pwEyDIl","timeline-container":"bzu8kux1Z5_pbYnOt81F",timelineContainer:"bzu8kux1Z5_pbYnOt81F","player-progress-container":"Nq2cY4Z2ddXe_zmIH7aZ",playerProgressContainer:"Nq2cY4Z2ddXe_zmIH7aZ","live-timeline-blinking":"PiYBmihE_AMeirVcORzG",liveTimelineBlinking:"PiYBmihE_AMeirVcORzG","live-blinking":"sopPhLNBVpNxhqA2gx1c",liveBlinking:"sopPhLNBVpNxhqA2gx1c","player-progress":"jyPgbhNxykmFOteJE7uc",playerProgress:"jyPgbhNxykmFOteJE7uc","player-progress-left-cap":"hziV8kcmxzg9eTbka7sq",playerProgressLeftCap:"hziV8kcmxzg9eTbka7sq","player-progress-right-cap":"lNONR87pqiYe4Tlmfa7I",playerProgressRightCap:"lNONR87pqiYe4Tlmfa7I","player-progress-knob-bg":"UdUCVImfYT1syWUtGBOq",playerProgressKnobBg:"UdUCVImfYT1syWUtGBOq","is-live":"vbvxKvSCGbT8D7zN2jIA",isLive:"vbvxKvSCGbT8D7zN2jIA","highlight-region":"tGkTBk96AqIcNPzLn2C9",highlightRegion:"tGkTBk96AqIcNPzLn2C9","live-badge-container":"bPYFoD5HvhY4TzjGXA0W",liveBadgeContainer:"bPYFoD5HvhY4TzjGXA0W","player-progress-knob":"DiojHKjEFP_rf_8y9d9V",playerProgressKnob:"DiojHKjEFP_rf_8y9d9V","player-progress-knob-bg-left":"xGpH_2yveAOaGoW3NY85",playerProgressKnobBgLeft:"xGpH_2yveAOaGoW3NY85","player-progress-knob-bg-right":"VEBIldLMow7DoJch26z0",playerProgressKnobBgRight:"VEBIldLMow7DoJch26z0","progress-pulse":"aECYBcTJQQlkczuDWrBi",progressPulse:"aECYBcTJQQlkczuDWrBi",container:"rvIyg0zPEV6UrSexvW05","is-loading":"PiVMbOrsRBK4tr9SKjsc",isLoading:"PiVMbOrsRBK4tr9SKjsc","is-highlight-active":"iAd6SiZfW9JW3Ubwhan2",isHighlightActive:"iAd6SiZfW9JW3Ubwhan2","is-playing":"p5dB0nq96x1D0QmX30gM",isPlaying:"p5dB0nq96x1D0QmX30gM","is-scrubbing":"l5eHS9MLAV3GTlx0LMFw",isScrubbing:"l5eHS9MLAV3GTlx0LMFw","is-hovering":"DkIHMtR_DYAvJlm8CaH6",isHovering:"DkIHMtR_DYAvJlm8CaH6","is-snapshot-missing":"YRZnvPkmYHGQlpKa8utF",isSnapshotMissing:"YRZnvPkmYHGQlpKa8utF"};var hr=function(e){return gr()("%M:%S",new Date(e))};function Ir(e){var t,n=e.totalTime,r=e.currentTime,a=e.onScrubStart,i=e.onScrub,s=e.onScrubEnd,o=e.onHover,l=e.onMouseLeave,m=e.isLive,p=e.downloadProgress,f=e.isLoading,g=e.isPlaying,v=e.highlightState,h=e.playerStartTimestamp,I=void 0===h?0:h,S=e.isSnapshotMissing,y=void 0!==S&&S,T=(0,c.useState)(!1),N=(0,d.Z)(T,2),b=N[0],M=N[1],C=(0,c.useState)(!1),w=(0,d.Z)(C,2),O=w[0],A=w[1],_=(0,c.useState)(0),L=(0,d.Z)(_,2),x=L[0],k=L[1],R=(0,c.useState)(!1),j=(0,d.Z)(R,2),P=j[0],Z=j[1],z=(0,c.useRef)(null),U=function(e){if(!z.current||0===n)return 0;var t=z.current.getBoundingClientRect(),r=e.clientX-t.left;return Math.max(0,Math.min(1,r/t.width))*n};(0,c.useEffect)((function(){b||O||k(r)}),[r,b,O]),(0,c.useEffect)((function(){var e;return b&&((e=document.createElement("style")).innerHTML="* { user-select: none !important; }",document.head.appendChild(e)),function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}),[b]),(0,c.useEffect)((function(){function e(e){if(b){Z(!0);var t=U(e);k(t),null==i||i(t)}}function t(e){if(b){var t=U(e);k(t),Z(!1),M(!1),s(t)}}return b&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[b,n]);var B=v.highlightStartTime-I,G=v.highlightEndTime-I,F=(0,D.clamp)((O&&!b?r:x)/n*100,0,100)*Number(!y),V=v.isActive?(0,D.clamp)((G-B)/n*100,0,100)*Number(!y):0,W=(0,D.clamp)((v.isActive?B:x)/n*100,0,100)*Number(!y),Y=(0,D.clamp)((v.isActive?G:x)/n*100,0,100)*Number(!y),H=E()(vr.container,(t={},(0,u.Z)(t,vr["is-live"],m),(0,u.Z)(t,vr["is-loading"],f),(0,u.Z)(t,vr["is-highlight-active"],v.isActive),(0,u.Z)(t,vr["is-playing"],g),(0,u.Z)(t,vr["is-hovering"],O),(0,u.Z)(t,vr["is-scrubbing"],b&&P),(0,u.Z)(t,vr["is-snapshot-missing"],y),t));return c.createElement("div",{className:H},c.createElement("div",{className:vr.playerTime},y?"––:––":hr(x)),c.createElement("div",{className:vr.timelineContainer,ref:z,onMouseDown:function(e){var t=U(e);k(t),M(!0),a()},onMouseMove:function(e){if(!b){var t=U(e);null==o||o(t),k(t)}},onMouseEnter:function(){A(!0)},onMouseLeave:function(){A(!1),b||k(r),null==l||l()}},c.createElement("div",{className:E()(vr.playerProgressContainer,(0,u.Z)({},vr.liveTimelineBlinking,m))},c.createElement("div",{className:vr.playerProgressLeftCap}),c.createElement("div",{className:vr.playerProgressRightCap}),c.createElement(c.Fragment,null,c.createElement("div",{className:vr.playerProgress,style:{width:"".concat((f?p:F).toFixed(2),"%")}},c.createElement("div",{className:vr.progressPulse})),c.createElement("div",{className:E()(vr.playerProgressKnobBg,vr.playerProgressKnobBgLeft),style:{left:"calc(".concat(W.toFixed(2),"% - 2px)")}},c.createElement("div",{className:vr.playerProgressKnob})),c.createElement("div",{className:vr.highlightRegion,style:{left:"calc(".concat(W.toFixed(2),"%)"),width:"".concat(V.toFixed(2),"%")}}),c.createElement("div",{className:E()(vr.playerProgressKnobBg,vr.playerProgressKnobBgRight),style:{left:"calc(".concat(Y.toFixed(2),"% - 2px)")}},c.createElement("div",{className:vr.playerProgressKnob})))),c.createElement("div",{className:vr.liveBadgeContainer},c.createElement("span",null,"LIVE"))),c.createElement("div",{className:vr.playerTime},y?"––:––":hr(n)))}var Sr=n(68079),yr=n(13824),Tr=n(1540),Nr=n(30266),br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.querySelector("iframe")},n=(0,c.useState)(1),r=(0,d.Z)(n,2),a=r[0],i=r[1];return(0,c.useEffect)((function(){if(e){var n=new ResizeObserver((function(n){if(0!==n.length){var r=n[0],a=r.contentRect.width,c=r.contentRect.height,s=t(e);if(s){var o=s.clientWidth,l=s.clientHeight,u=Math.min(a/o,c/l,1);i(isNaN(u)?1:u)}}}));return n.observe(e),function(){n.disconnect()}}}),[e]),a},Mr=function(e,t){return new Promise((function(n,r){(0,yr.Ri)(new Uint8Array(e),(function(e,a){if(e)return r(e);var i=a["snapshots.json"];if(!i)return r(new Error("Couldn't find snapshots.json in ".concat(t,". Most likely the snapshots file is corrupted.")));var c=new TextDecoder("utf-8").decode(i).split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return JSON.parse(e)}));n(c)}))}))},Cr=function(){var e=(0,v.Z)(I().mark((function e(t,n){var r,a,i,c,s,o,l,u,d,m,p,f,E,g,v,h,S,y;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.abortSignal,i=n.onDownloadProgress,e.next=3,fetch(t,{signal:a});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error(["Failed to fetch zip with snapshots by URL: ".concat(t,"."),"Received status: ".concat(c.statusText,".")].join("\n\n"));case 6:if(s=c.headers.get("Content-Length"),o=null,s&&(l=parseInt(s,10),!isNaN(l)&&l>0&&(o=l)),u=null===(r=c.body)||void 0===r?void 0:r.getReader()){e.next=18;break}return e.next=13,c.blob();case 13:return d=e.sent,e.next=16,d.arrayBuffer();case 16:return m=e.sent,e.abrupt("return",Mr(m,t));case 18:p=0,f=[];case 20:return e.next=23,u.read();case 23:if(E=e.sent,g=E.done,v=E.value,!g){e.next=28;break}return e.abrupt("break",31);case 28:v&&(f.push(v),p+=v.length,o&&i&&(h=p/o*100,i(Math.min(h,100)))),e.next=20;break;case 31:return S=new Blob(f),e.next=34,S.arrayBuffer();case 34:return y=e.sent,e.abrupt("return",Mr(y,t));case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wr=function(e,t){var n=(0,Tr.T)(),r=(0,c.useRef)([]),a=(0,c.useRef)(!1),i=(0,c.useRef)(!1),s=function(n){if(e)try{var i,c=JSON.parse(n.data),s=c.context,o=c.data.rrwebSnapshots;if(!(0,D.isEqual)(s.testPath,e.suitePath)||s.browserId!==e.name)return;if(a.current)t(o);else(i=r.current).push.apply(i,(0,Sr.Z)(o))}catch(e){console.error("Error parsing snapshot event:",e)}};return(0,c.useEffect)((function(){if(e&&n){n.addEventListener(Nr.JX.DOM_SNAPSHOTS,s);var c=new URLSearchParams({testPath:JSON.stringify(e.suitePath),browserId:e.name}).toString();return fetch("/running-test-data?".concat(c)).then((function(e){if(!e.ok)throw new Error("Failed to fetch snapshots: ".concat(e.statusText));return e.json()})).then((function(e){var n=e.rrwebSnapshots,c=n[n.length-1],s=r.current.findIndex((function(e){return e.seqNo===c.seqNo}))+1;r.current=[].concat((0,Sr.Z)(n),(0,Sr.Z)(r.current.slice(s))),i.current=!0,a.current&&(t(r.current),r.current=[])})),function(){null==n||n.removeEventListener(Nr.JX.DOM_SNAPSHOTS,s)}}}),[e,n,t]),(0,c.useCallback)((function(){a.current=!0,i.current&&(t(r.current),r.current=[])}),[t])};const Or="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1IDE1Ljc1VjEwLjI0MjZDMjUgOS40NDY5OSAyNC42ODM5IDguNjgzOTMgMjQuMTIxMyA4LjEyMTMyTDE4Ljg3ODcgMi44Nzg2OEMxOC4zMTYxIDIuMzE2MDcgMTcuNTUzIDIgMTYuNzU3NCAySDdDNS4zNDMxNSAyIDQgMy4zNDMxNSA0IDVWMjUuNUM0IDI3LjE1NjkgNS4zNDMxNSAyOC41IDcgMjguNUgxNC41IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE3LjUgMi41VjYuNUMxNy41IDguMTU2ODUgMTguODQzMSA5LjUgMjAuNSA5LjVIMjQuNSIgc3Ryb2tlPSJva2xjaCgwLjcwOCAwIDApIiBzdHJva2Utd2lkdGg9IjEuMyIvPgo8Y2lyY2xlIGN4PSIyMiIgY3k9IjI0IiByPSI1LjM1IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIi8+CjxwYXRoIGQ9Ik0yMC41ODU5IDI1LjQxNDFMMjMuNDE0NCAyMi41ODU2IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTIwLjU4NTQgMjIuNTg1OUwyMy40MTM5IDI1LjQxNDQiIHN0cm9rZT0ib2tsY2goMC43MDggMCAwKSIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K";var Ar=function(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:14,height:14},c.createElement("path",{d:"M13.5,10.16c1.66-.96,1.66-3.37,0-4.33L5,.92C3.33-.04,1.25,1.16,1.25,3.08v9.83c0,1.93,2.09,3.13,3.75,2.16l8.5-4.92Z",fill:"#000",fillRule:"evenodd"}))};const Dr={dot:"ceMG0OqTAEDMZ0jgWPXt"};function _r(e){var t=e.className;return c.createElement("div",{className:E()(Dr.dot,t)})}const Lr={"replayer-root-container":"NbKVbzSRqWM8G6S1fROw",replayerRootContainer:"NbKVbzSRqWM8G6S1fROw","is-loading":"qWfKmXBELvh9DHH8JBXw",isLoading:"qWfKmXBELvh9DHH8JBXw","replayer-container":"GPemGFV3uUMPFrex7i7U",replayerContainer:"GPemGFV3uUMPFrex7i7U","loading-container":"sbergc10lI4hkd2QiJYu",loadingContainer:"sbergc10lI4hkd2QiJYu","control-button":"X7Pbc8SPuMl2dAr6CzuU",controlButton:"X7Pbc8SPuMl2dAr6CzuU","is-live":"vFUtmK469a2xtWP2iXYE",isLive:"vFUtmK469a2xtWP2iXYE","buttons-container":"Bp08u6h9mX1gplh5q_iZ",buttonsContainer:"Bp08u6h9mX1gplh5q_iZ","player-time":"E4uQPHKSmr3SVjSfQSUg",playerTime:"E4uQPHKSmr3SVjSfQSUg","replayer-container-centered":"Uymy4Bu8jwJP4P4xchw2",replayerContainerCentered:"Uymy4Bu8jwJP4P4xchw2","line-horizontal":"U0GoIzBbte5AdHdS6CUg",lineHorizontal:"U0GoIzBbte5AdHdS6CUg","line-horizontal-top":"I4ohRrxHQ6wDgpdPqntK",lineHorizontalTop:"I4ohRrxHQ6wDgpdPqntK","line-horizontal-bottom":"h75yRt7F4EUINJoE8tth",lineHorizontalBottom:"h75yRt7F4EUINJoE8tth","line-vertical":"Hu0naOEXTBOxtEoEgqo7",lineVertical:"Hu0naOEXTBOxtEoEgqo7","line-vertical-left":"K_2UzSKmCZE5Hy7dpaiR",lineVerticalLeft:"K_2UzSKmCZE5Hy7dpaiR","line-vertical-right":"aYwlPbz6P31rFgmIDBd4",lineVerticalRight:"aYwlPbz6P31rFgmIDBd4","play-pause-button":"GV_dOzjPmro6LORIdpki",playPauseButton:"GV_dOzjPmro6LORIdpki","play-pause-icon":"ZLU1JMwgCtqeH2wG5QWf",playPauseIcon:"ZLU1JMwgCtqeH2wG5QWf","play-pause-icon-visible":"N9ISyhug_gbANsqtccw0",playPauseIconVisible:"N9ISyhug_gbANsqtccw0",loader:"BuwPIpfujcI6amuCktti",l3:"HquGgdrKocaDk7Z3hCnQ","snapshot-missing-container":"x87oyxXco2VFS0qH9j5d",snapshotMissingContainer:"x87oyxXco2VFS0qH9j5d","is-snapshot-missing":"W_2EGwlgHjdnY4OdJkl4",isSnapshotMissing:"W_2EGwlgHjdnY4OdJkl4","player-progress-left-cap":"FHnCZ99QUPR_NwqZh8Py",playerProgressLeftCap:"FHnCZ99QUPR_NwqZh8Py","settings-select-option-group":"WWtmUnSyibQvJM6yqdwn",settingsSelectOptionGroup:"WWtmUnSyibQvJM6yqdwn","settings-button":"MJ5f2OPy69VBOTvHnsrQ",settingsButton:"MJ5f2OPy69VBOTvHnsrQ","settings-changed-dot":"Yf4YdVXiaexe_6AIlGuD",settingsChangedDot:"Yf4YdVXiaexe_6AIlGuD"};function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pr=[{label:"Speed",data:{hint:c.createElement("span",null,c.createElement("b",{style:{fontWeight:600}},"Note:")," transitions or animations will still play at original speed.")},options:[{value:"0.5",content:"0.5x"},{value:"1",content:"1x"},{value:"1.5",content:"1.5x"},{value:"2",content:"2x"},{value:"4",content:"4x"}]}];function Zr(e){var t;return 5===e.type&&"color-scheme-change"===(null==e||null===(t=e.data)||void 0===t?void 0:t.tag)}function zr(e){if(!Zr(e))return null;try{var t=e.data.payload.colorScheme;return"light"===t||"dark"===t?t:null}catch(e){return null}}var Ur=10,Br=function(e,t,n){var r,a=Rr(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.data.type===gn.Action&&i.data.startTime&&i.data.duration){var c=i.data.startTime-t,s=i.data.startTime-t+i.data.duration;if(n>c&&n<s)return i}}}catch(e){a.e(e)}finally{a.f()}return null};function Gr(){var e,t=(0,s.useSelector)(Re),n=(0,c.useState)(null),r=(0,d.Z)(n,2),a=r[0],o=r[1],l=(0,c.useRef)(null),m=(0,c.useRef)(null),p=(0,c.useRef)([]),f=(0,c.useState)("light"),g=(0,d.Z)(f,2),v=g[0],h=g[1],I=(0,c.useState)(1),S=(0,d.Z)(I,2),y=S[0],T=S[1],N=(0,c.useState)(1200),b=(0,d.Z)(N,2),M=b[0],C=b[1],A=(0,c.useState)(800),D=(0,d.Z)(A,2),_=D[0],L=D[1],x=(0,c.useRef)(!1),k=(0,c.useState)({height:400,width:700}),R=(0,d.Z)(k,2),j=R[0],P=R[1],Z=(0,c.useState)(0),z=(0,d.Z)(Z,2),U=z[0],B=z[1],G=(0,c.useState)(!1),F=(0,d.Z)(G,2),W=F[0],Y=F[1],H=(0,c.useState)(!1),Q=(0,d.Z)(H,2),J=Q[0],K=Q[1],X=(0,c.useRef)(!1),q=(0,c.useState)(0),ee=(0,d.Z)(q,2),te=ee[0],ne=ee[1],re=(0,c.useRef)(null),ae=(0,s.useDispatch)(),ie=(0,V.z)();(0,c.useEffect)((function(){null==ie||ie.trackFeatureUsage({featureName:"Time Travel Player Render"})}),[]);var ce=(0,c.useRef)(null),se=(0,s.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),oe=(0,s.useSelector)(bn),le=(0,c.useState)(!1),ue=(0,d.Z)(le,2),de=ue[0],me=ue[1],pe=(0,c.useState)(0),fe=(0,d.Z)(pe,2),Ee=fe[0],ge=fe[1],ve=(0,c.useRef)(null),he=function(){re.current&&(cancelAnimationFrame(re.current),re.current=null)},Ie=function(){re.current&&(X.current=!0),Y(!1),he(),function(){if(W){var e=oe.findLast((function(e){return e.data.type===gn.Action}));e&&ae((0,w.setCurrentStep)({stepId:e.id}))}}()},Se=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.current&&(l.current.enableInteract(),l.current.on("resize",(function(t){var n=t;L(n.height),C(n.width),e&&!x.current&&(x.current=!0,P({width:n.width,height:n.height}))})),l.current.on("finish",Ie),B(e?0:l.current.getMetaData().totalTime),ne(0))}),[x]),ye=(0,c.useCallback)((function(){var e;null===(e=l.current)||void 0===e||e.destroy(),l.current=null}),[]);(0,c.useEffect)((function(){x.current=!1,Y(!1),he(),X.current=!1,K(!1)}),[null==t?void 0:t.id]);var Te=(0,c.useCallback)((function(e){if(l.current){var t,n=Rr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;l.current.addEvent(r)}}catch(e){n.e(e)}finally{n.f()}if("live"!==l.current.service.state.value)if(e.length>0)try{l.current.play(Date.now()-e[0].timestamp)}catch(e){try{l.current.startLive()}catch(e){}}else l.current.startLive()}}),[]),Ne=wr(t,Te),be=(0,c.useCallback)((function(e){var t=zr(e);t&&h(t)}),[]),Me=(0,c.useCallback)((function(e){if(e&&null!=e&&e[1]){var t=Number(e[1]);T(t),l.current&&l.current.setConfig({speed:t})}}),[]);(0,c.useEffect)((function(){if(t&&a){if(t.status===O.ih.RUNNING)l.current=new fr.x([],{liveMode:!0,root:a,speed:y}),Se(!0),Ne(),l.current.on("custom-event",be);else{var e,n=null==t||null===(e=t.attachments)||void 0===e?void 0:e.find((function(e){return e.type===Le.Snapshot}));if(!n)return;x.current||P({width:n.maxWidth,height:n.maxHeight}),m.current=new AbortController,me(!0),ge(0);var r=new Date;Cr(n.path,{abortSignal:m.current.signal,onDownloadProgress:function(e){(new Date).getTime()-r.getTime()>500&&(ge(e),null===ve.current&&(ve.current=(new Date).getTime()))}}).then((function(e){p.current=e.filter(Zr),l.current=new fr.x(e,{liveMode:!1,root:a,speed:y}),Se(),l.current.on("custom-event",be),function(){var e=function(){me(!1),ve.current=null};if(null!==ve.current){var t=(new Date).getTime()-ve.current;t<1e3?setTimeout(e,1e3-t):e()}else e()}()})).catch((function(e){me(!1),ve.current=null,K(!0),console.warn("Failed to load snapshots",e)}))}return function(){var e;null===(e=m.current)||void 0===e||e.abort(),m.current=null,ye()}}}),[t,a,Ne,Se,ye,be]);var Ce=(0,c.useCallback)((function(e){null!==e&&o(e)}),[]),we=br(a),Oe=(0,c.useCallback)((function(){J||(W&&l.current&&(l.current.pause(),Y(!1),he(),X.current=!1),ae((0,w.setCurrentHighlightStep)({stepId:null})))}),[W,J]),Ae=(0,c.useCallback)((function(e){if(!J&&l.current){var t=l.current.getMetaData().startTime,n=Br(oe,t,e);n&&n.id!==ce.current&&(ce.current=n.id,ae((0,w.setCurrentStep)({stepId:n.id})))}}),[oe,J]),De=(0,c.useCallback)((function(e){if(!J&&(ne(e),l.current)){var t=p.current.findLast((function(t){return Zr(t)&&l.current&&t.timestamp<=l.current.getMetaData().startTime+e}));if(t){var n=zr(t);n&&h(n)}l.current.pause(e);var r=l.current.getMetaData().startTime,a=Br(oe,r,e);a&&a.id!==ce.current&&(ce.current=a.id,ae((0,w.setCurrentStep)({stepId:a.id})))}}),[oe,J]),_e=(0,c.useCallback)((function(e){if(!J&&l.current){X.current=!1;var t=l.current.getMetaData().startTime,n=Br(oe,t,e);n&&n.id!==se&&ae((0,w.setCurrentHighlightStep)({stepId:n.id}))}}),[oe,se,J]),xe=(0,c.useCallback)((function(){J||ae((0,w.setCurrentHighlightStep)({stepId:null}))}),[ae,J]),ke=(0,s.useSelector)((function(e){return e.app.snapshotsPlayer}));(0,c.useEffect)((function(){var e,t;if(!J)if(ke.isActive)null===(e=l.current)||void 0===e||e.pause(ke.highlightEndTime-(null===(t=l.current)||void 0===t?void 0:t.getMetaData().startTime)),Y(!1),he();else if(!W){var n;null===(n=l.current)||void 0===n||n.pause(te>0?te:Ur)}}),[ke,J]),(0,c.useEffect)((function(){if(!J&&l.current){var e=Math.max(ke.goToTime-l.current.getMetaData().startTime,Ur);ne(e),l.current.pause(e)}}),[ke.goToTime,J]);var je={aspectRatio:"".concat(j.width," / ").concat(j.height),maxWidth:"".concat(j.width,"px"),maxHeight:"calc(100vh - var(--sticky-header-height) - 150px)",colorScheme:v},Pe={aspectRatio:"".concat(M," / ").concat(_),maxWidth:"min(".concat(M,"px, 100%)"),maxHeight:"100%",transition:"opacity .5s ease",position:"absolute",height:_>M?"100%":"auto",width:_>M?"auto":"100%"},Ze=kr(kr({},Pe),{},{aspectRatio:void 0}),ze=(null==t?void 0:t.status)===O.ih.RUNNING,Ue=0;try{var Be,Ge;Ue=null!==(Be=null===(Ge=l.current)||void 0===Ge?void 0:Ge.getMetaData().startTime)&&void 0!==Be?Be:0}catch(e){}return c.createElement("div",{className:E()((e={},(0,u.Z)(e,Lr["is-loading"],de),(0,u.Z)(e,Lr["is-live"],ze),(0,u.Z)(e,Lr["is-snapshot-missing"],J),e))},c.createElement("div",{className:Lr.replayerRootContainer,style:{"--scale-factor":we,width:"".concat(j.width,"px"),maxWidth:"100%"}},c.createElement("div",{className:Lr.replayerContainerCentered,style:je},c.createElement("div",{className:Lr.replayerContainerCentered,style:Pe},c.createElement("div",{className:E()(Lr.lineHorizontal,Lr.lineHorizontalTop)}),c.createElement("div",{className:E()(Lr.lineHorizontal,Lr.lineHorizontalBottom)}),c.createElement("div",{className:E()(Lr.lineVertical,Lr.lineVerticalLeft)}),c.createElement("div",{className:E()(Lr.lineVertical,Lr.lineVerticalRight)}),c.createElement("div",{className:Lr.loadingContainer},c.createElement("span",null,"Loading snapshots data"),c.createElement("div",{className:Lr.loader})),J&&c.createElement("div",{className:Lr.snapshotMissingContainer},c.createElement("img",{src:Or,alt:"icon",width:44,height:44}),c.createElement("span",null,"Snapshot file is missing")),c.createElement("div",{className:Lr.replayerContainer,ref:Ce,style:Ze},c.createElement("div",{style:{width:"100vw"}}))))),c.createElement("div",{className:Lr.buttonsContainer},c.createElement(i.zxk,{onClick:function(){if(W){var e;null===(e=l.current)||void 0===e||e.pause(),Y(!1),he()}else{var t,n;if(Y(!0),X.current)null===(t=l.current)||void 0===t||t.play();else null===(n=l.current)||void 0===n||n.play(te);X.current=!1,he(),re.current=requestAnimationFrame((function e(){if(l.current){var t=l.current.getCurrentTime(),n=l.current.getMetaData();ne(t);var r=l.current.getMetaData().startTime,a=Br(oe,r,t);a&&a.id!==ce.current&&(ce.current=a.id,ae((0,w.setCurrentStep)({stepId:a.id}))),t<n.totalTime&&(re.current=requestAnimationFrame(e))}}))}},view:"flat",className:E()(Lr.playPauseButton,Lr.controlButton),disabled:J},c.createElement("div",{className:E()(Lr.playPauseIcon,(0,u.Z)({},Lr.playPauseIconVisible,W))},c.createElement(i.JO$,{data:pr.Z,size:14})),c.createElement("div",{className:E()(Lr.playPauseIcon,(0,u.Z)({},Lr.playPauseIconVisible,!W))},c.createElement(Ar,null))),c.createElement(Ir,{currentTime:te,totalTime:U,onScrubStart:Oe,onScrub:Ae,onScrubEnd:De,onHover:_e,onMouseLeave:xe,isLive:ze,isLoading:de,downloadProgress:Ee,isPlaying:W,playerStartTimestamp:Ue,highlightState:ke,isSnapshotMissing:J}),c.createElement(i.PhF,{value:[y.toString()],disabled:J,renderControl:function(e){var t=e.ref,n=e.triggerProps;return c.createElement(i.zxk,{disabled:J,view:"flat",className:E()(Lr.controlButton,Lr.settingsButton),onClick:n.onClick,onKeyDown:n.onKeyDown,ref:t,title:"Playback Speed: ".concat(y,"x")},1!==y&&c.createElement(_r,{className:Lr.settingsChangedDot}),c.createElement($.Z,{width:16,height:16}))},renderOptionGroup:function(e){var t,n;return c.createElement("div",{className:Lr.settingsSelectOptionGroup},c.createElement("span",null,e.label),(null===(t=e.data)||void 0===t?void 0:t.hint)&&c.createElement(i.Ind,{popoverProps:{placement:"top-end"}},null===(n=e.data)||void 0===n?void 0:n.hint))},popupPlacement:"top-end",popupWidth:100,multiple:!0,onUpdate:Me,options:Pr})))}const Fr="Tug1x_GRwirD5182JffI";var Vr=function(){return c.createElement("div",{className:Fr},c.createElement(i.yCA,{size:"xs",style:{marginRight:"4px"}}),"Test is running")};const Wr={"steps-container":"UZ1foLEpLa_x1J4sMzHD",stepsContainer:"UZ1foLEpLa_x1J4sMzHD","steps-list-container":"R2V6Ql3t4TdzyIHdWk5w",stepsListContainer:"R2V6Ql3t4TdzyIHdWk5w","empty-steps-container":"EdwOvifO8vCoZmgOyVGt",emptyStepsContainer:"EdwOvifO8vCoZmgOyVGt",sticky:"_6ilQ6NIhc2LUkd5wel3",hidden:"Z9ybdZQbCBlLyGSkuR_b","collapsible-section__body":"mlO_dNqDOMn4OwXY1lhh",collapsibleSectionBody:"mlO_dNqDOMn4OwXY1lhh"};function Yr(){var e=(0,s.useSelector)(Re),t=(0,s.useSelector)(bn),n=(0,s.useSelector)((function(e){return e.running})),r=(0,s.useSelector)(Pe),a=(0,s.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),i=r&&a;return c.createElement(c.Fragment,null,c.createElement(rn,{id:"actions",title:"Actions"},c.createElement("div",{className:Wr.stepsContainer},t.length>0?c.createElement(qt.Boundary,{watchFor:[e],fallback:c.createElement(qt.FallbackDataCorruption,null)},c.createElement(mr,{className:Wr.stepsListContainer})):n?c.createElement(Vr,null):c.createElement("div",{className:Wr.emptyStepsContainer},"No steps to show"),r&&c.createElement("div",{className:E()(Wr.sticky,!i&&Wr.hidden)},c.createElement(Gr,null)))),c.createElement(rn,{id:"metadata",title:"Metadata"},e&&c.createElement("div",{className:Wr["collapsible-section__body"]},c.createElement(an.o,{resultId:e.id}))))}var Hr=n(45037),Qr=n(59740);const Jr={card:"zxOTbiSaaivowZnka3tD",card__title:"yAgFRUJpcXIwy7yE1SNl",cardTitle:"yAgFRUJpcXIwy7yE1SNl","tree-view-card":"Cnn2YfdSyzs0EmDBWIyo",treeViewCard:"Cnn2YfdSyzs0EmDBWIyo","filters-container":"TVTJzgV9yT9uUJqOjiC2",filtersContainer:"TVTJzgV9yT9uUJqOjiC2","tabs-container":"BzHzvdypNtRWGdFdCEzr",tabsContainer:"BzHzvdypNtRWGdFdCEzr","toolbar-container":"bDBgDUEiUl4CbjxMGxGA",toolbarContainer:"bDBgDUEiUl4CbjxMGxGA","skeleton-container":"cO8n4kZndohwLUm_d5PZ",skeletonContainer:"cO8n4kZndohwLUm_d5PZ","tree-view-container":"KlZiCV1nIM3kRzgpWVEo",treeViewContainer:"KlZiCV1nIM3kRzgpWVEo"};var Kr=n(79117),Xr=function(e){return c.createElement(i.ua7,{content:e.tooltip,placement:"top",openDelay:0},c.createElement(i.zxk,{size:"s",selected:e.selected,onClick:e.onClick,view:"flat",className:e.className},e.children))};const qr="zOnAYvs_4rRrAWx9E99n",$r="Pg9tdO8nzAKNoG_2cz_z",ea="meYo7lmvHyk4PZK6p78f",ta="orPcQftUNjsSserBi6Gt";var na=function(){var e,t=(0,o.TH)();return(e=t.pathname).startsWith("/visual-checks")?Ce.T3.visualChecksPage:(e.startsWith("/suites"),Ce.T3.suitesPage)},ra=function(){var e=(0,s.useDispatch)(),t=na(),n=(0,s.useSelector)((function(e){return e.app[t].nameFilter})),r=(0,s.useSelector)((function(e){return e.app[t].useRegexFilter})),a=(0,s.useSelector)((function(e){return e.app[t].useMatchCaseFilter})),o=(0,c.useState)(n),l=(0,d.Z)(o,2),u=l[0],m=l[1],p=(0,c.useCallback)((0,D.debounce)((function(n){return e(w.updateNameFilter({data:n,page:t}))}),500,{maxWait:3e3}),[]),f=(0,c.useCallback)((function(e){m(e.target.value),p(e.target.value)}),[m,p]),E=(0,s.useSelector)(j.Dr),g=(0,c.useMemo)((function(){if(!r)return!1;try{new RegExp(u)}catch(e){return!0}return!1}),[r,u]);return c.createElement("div",{className:qr},c.createElement(i.oil,{disabled:!E,placeholder:"Search or filter",value:u,onChange:f,className:$r,error:g,qa:"filter-input"}),c.createElement("div",{className:ea},c.createElement(Xr,{selected:a,tooltip:"Match case",onClick:function(){e(w.setMatchCaseFilter({data:!a,page:t}))}},c.createElement(i.JO$,{data:Kr.Z})),c.createElement(Xr,{selected:r,tooltip:"Regex",onClick:function(){e(w.setUseRegexFilter({data:!r,page:t}))},className:ta},".*")))};const aa={icon:"S0C37_dyP4H4oFiRBC1p"};var ia={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function ca(e){var t=e.name,n=function(e){return c.createElement("i",{className:"fa fa-".concat(e," ").concat(aa.icon),"aria-hidden":"true"})};if(!(0,D.isString)(t))return n("browser");var r=t.toLowerCase();for(var a in ia)if(r.includes(a))return n(ia[a]);return n("browser")}const sa={browserlist__filter:"B00K8OuB0liXPBnX_ZDn",browserlistFilter:"B00K8OuB0liXPBnX_ZDn","action-button":"OHRqVXyyF8A0XlgDDWW2",actionButton:"OHRqVXyyF8A0XlgDDWW2",browserlist__popup:"XDKyCXdmNKAG6PNf8DmB",browserlistPopup:"XDKyCXdmNKAG6PNf8DmB"};var oa=function(e,t){return"".concat(encodeURIComponent(e)).concat("/").concat(encodeURIComponent(t))},la=function(e){var t=e.split("/"),n=(0,d.Z)(t,2),r=n[0],a=n[1];return{id:decodeURIComponent(r),version:decodeURIComponent(a)}},ua=function(){return c.createElement("div",{style:{position:"absolute",visibility:"hidden",height:0,width:0,overflow:"hidden"}},["google","chrome","firefox","safari","edge","yandex","yabro","ie","explorer","opera","phone","mobile","tablet","ipad","browser"].map((function(e){return c.createElement(ca,{key:e,name:e})})))};function da(){var e=(0,c.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=na(),o=(0,s.useSelector)((function(e){return e.browsers})),l=(0,s.useSelector)((function(e){return e.app[a].filteredBrowsers})),u=(0,s.useDispatch)();(0,c.useEffect)((function(){r(l)}),[o,l]);var m,p,f,E=(0,s.useSelector)(j.Dr),g=n.flatMap((function(e){return e.versions.map((function(t){return oa(e.id,t)}))}));return c.createElement(c.Fragment,null,c.createElement(ua,null),c.createElement(i.PhF,{disablePortal:!0,value:g,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return c.createElement("div",{className:sa.browserlist__filter},c.createElement(i.zxk,{onClick:function(){return r(o)},width:"max"},"Select All"))},renderOption:function(e){var t,n=g.includes(e.value)&&1===g.length;return c.createElement(i.kCb,{alignItems:"center",width:"100%",gap:2},c.createElement(i.kCb,{height:16,width:16,alignItems:"center",justifyContent:"center"},c.createElement(ca,{name:null===(t=e.data)||void 0===t?void 0:t.id})),c.createElement("div",{className:"browser-name"},e.content),c.createElement(i.zxk,{size:"s",onClick:n?function(t){t.preventDefault(),t.stopPropagation(),r(o.map((function(t){return{id:t.id,versions:t.versions.filter((function(n){var r,a;return t.id!==(null===(r=e.data)||void 0===r?void 0:r.id)||n!==(null===(a=e.data)||void 0===a?void 0:a.version)}))}})))}:function(t){var n,a;t.preventDefault(),t.stopPropagation(),r([{id:null===(n=e.data)||void 0===n?void 0:n.id,versions:[null===(a=e.data)||void 0===a?void 0:a.version]}])},className:sa.actionButton},n?"Except":"Only"))},renderControl:function(e){var t=e.ref,n=e.triggerProps,r=n.onClick,a=n.onKeyDown;return c.createElement(at,{ref:t,onClick:r,onKeyDown:a,view:"outlined",disabled:!E,icon:c.createElement(i.JO$,{data:He.Z}),tooltip:"Filter by browser"})},popupClassName:sa.browserlist__popup,className:"browserlist",onUpdate:function(e){var t=[];e.forEach((function(e){var n=la(e),r=n.id,a=n.version,i=t.find((function(e){return e.id===r}));i?i.versions.includes(a)||i.versions.push(a):t.push({id:r,versions:[a]})})),r(t)},onFocus:function(){0===g.length&&r(o)},onClose:function(){u((0,w.selectBrowsers)({data:n.filter((function(e){return e.versions.length>0}),a),page:a}))}},(m=o.filter((function(e){return e.versions.length>1})),p=o.filter((function(e){return 1===e.versions.length})),f=function(e,t){return{value:oa(e.id,t),content:e.id,data:{id:e.id,version:t}}},0===m.length?o.map((function(e){return c.createElement(i.PhF.Option,(0,Wt.Z)({key:e.id},f(e,e.versions[0])))})):c.createElement(c.Fragment,null,m.map((function(e){return c.createElement(i.PhF.OptionGroup,{key:e.id,label:e.id},e.versions.map((function(t){return c.createElement(i.PhF.Option,(0,Wt.Z)({key:t},f(e,t)))})))})),c.createElement(i.PhF.OptionGroup,{label:"Other"},p.map((function(e){return c.createElement(i.PhF.Option,(0,Wt.Z)({key:e.id},f(e,e.versions[0])))})))))))}const ma={"test-status-filter":"CXbeXmEBG8Nx0JBaZffF",testStatusFilter:"CXbeXmEBG8Nx0JBaZffF","test-status-filter-option":"UBh8WFzqagmwvT6lPSRM",testStatusFilterOption:"UBh8WFzqagmwvT6lPSRM","test-status-filter-option__count":"CvfnTLLY1HbQSzm26bAM",testStatusFilterOptionCount:"CvfnTLLY1HbQSzm26bAM"};var pa=function(e){var t=e.count,n=e.icon,r=e.title;return c.createElement("div",{className:ma["test-status-filter-option"]},n||c.createElement("span",null,r),c.createElement("span",{className:ma["test-status-filter-option__count"]},t))};function fa(e){var t=e.list,n=e.value,r=e.onChange,a=e.disabled,s=e.className;return c.createElement(i.eWC,{disabled:a,className:E()(ma.testStatusFilter,s),width:"max",value:n,onChange:function(e){return r(e.target.value)}},t.map((function(e){var t=e.title,n=e.value,r=e.count,a=e.icon;return c.createElement(i.eWC.Option,{key:n,title:t,value:n,content:c.createElement(pa,{status:O.wO.ALL,count:r,title:t,icon:a})})})))}var Ea=n(26064),ga=n(20630),va=n(82281),ha=n(50048),Ia=n(93315),Sa=n(53602),ya=n(14660),Ta=n(15045),Na=n(54493);const ba={container:"IKLpkyoFF26d8QlNaEGV","inner-container":"OLkSlO5uywj85yN801g7",innerContainer:"OLkSlO5uywj85yN801g7","buttons-container":"pSp80Sq_QLxHCxzvv98U",buttonsContainer:"pSp80Sq_QLxHCxzvv98U","selected-container":"rR5VgY3P1ekK_5NipFh6",selectedContainer:"rR5VgY3P1ekK_5NipFh6","selected-container--visible":"DU3iTZjPpSwQoSd6A97R",selectedContainerVisible:"DU3iTZjPpSwQoSd6A97R","selected-title":"OT4xD6O6uwvTqb6CtWgU",selectedTitle:"OT4xD6O6uwvTqb6CtWgU","buttons-divider":"cw9M8Xmmuho10f9so05h",buttonsDivider:"cw9M8Xmmuho10f9so05h","icon-button":"yxSw1RmyIKMUFT9bcJfg",iconButton:"yxSw1RmyIKMUFT9bcJfg","select-all-button":"aCdF0KKcbuxozhDJnLPK",selectAllButton:"aCdF0KKcbuxozhDJnLPK"};var Ma=n(8776),Ca=n(69875),wa=n(82022);const Oa={"select-popup":"j7jN8SQFGQ1xEZTKH4kc",selectPopup:"j7jN8SQFGQ1xEZTKH4kc",select:"Km4ZhL3W0xf6kxOevReS","selected-option":"NqRk7u8qZ2ACE36VVI_i",selectedOption:"NqRk7u8qZ2ACE36VVI_i","label-icons-container":"xjg9EZZPevV_Ov9IX2_0",labelIconsContainer:"xjg9EZZPevV_Ov9IX2_0","label-dot":"jV7cHZyudT11WCGg3tEt",labelDot:"jV7cHZyudT11WCGg3tEt"};function Aa(e){var t=(0,c.useRef)(null);return c.createElement("div",{className:Oa.container},c.createElement(i.ua7,{content:e.label,openDelay:0,placement:"top"},c.createElement("div",{className:Oa.tooltip},c.createElement(i.PhF,{ref:t,renderSelectedOption:function(e){return e.title?c.createElement("span",{className:Oa.selectedOption},e.title):c.createElement(c.Fragment,null)},className:Oa.select,popupClassName:Oa.selectPopup,view:"clear",label:c.createElement(c.Fragment,null,c.createElement("div",{className:Oa.labelIconsContainer},e.labelIcon,e.showDot&&c.createElement(_r,{className:Oa.labelDot}))),onUpdate:function(){var n;e.autoClose&&(null===(n=t.current)||void 0===n||n.click())},getOptionHeight:function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.height},multiple:e.multiple,value:e.currentValue},e.children))))}function Da(){var e=(0,s.useDispatch)(),t="no-grouping",n=(0,s.useSelector)((function(e){return e.app.groupTestsData.currentExpressionIds}))[0],r=(0,s.useSelector)((function(e){return e.app.groupTestsData.availableSections})),a=(0,s.useSelector)((function(e){return e.app.groupTestsData.availableExpressions})),o=(0,c.useState)(t),l=(0,d.Z)(o,2),u=l[0],m=l[1],p=function(r){r===t?(m(t),e((0,w.setCurrentGroupByExpression)({expressionIds:[]}))):r!==n&&(m(r),e((0,w.setCurrentGroupByExpression)({expressionIds:[r]})))},f=[c.createElement(i.PhF.OptionGroup,{label:"Group by",key:"no-grouping"},c.createElement(i.PhF.Option,{value:t},c.createElement("div",{onClick:function(){return p(t)}},"Nothing")))];return f.push.apply(f,(0,Sr.Z)(r.map((function(e){return c.createElement(i.PhF.OptionGroup,{label:e.label,key:e.id},a.filter((function(t){return t.sectionId===e.id})).map((function(e){var t=e.type===Ce.zX.Meta?e.key:"message";return c.createElement(i.PhF.Option,{key:e.id,value:e.id,title:t,content:c.createElement("div",{onClick:function(){return p(e.id)}},t)})})))})))),c.createElement(Aa,{multiple:!0,autoClose:!0,currentValue:[u],label:"Group by",labelIcon:c.createElement(i.JO$,{data:on.Z}),showDot:u!==t},f)}var _a=n(68891),La=n(94709),xa=n(78910),ka=n(14675),Ra=n(77066),ja=n(52813),Pa=n(94589),Za=n(58311);const za={"label-icon-right":"dMT7p7UjTmYUJd305IH2",labelIconRight:"dMT7p7UjTmYUJd305IH2","option-content":"uuMz2JT_6644Be5bjdmA",optionContent:"uuMz2JT_6644Be5bjdmA","option-icon":"u4rzn0wQ2RktbYqw_6hT",optionIcon:"u4rzn0wQ2RktbYqw_6hT"};var Ua=function(e){var t;switch(e.type){case Ce.ER.ByName:t=Kr.Z;break;case Ce.ER.ByFailedRuns:t=_a.Z;break;case Ce.ER.ByTestsCount:t=La.Z;break;case Ce.ER.ByStartTime:t=xa.Z;break;case Ce.ER.ByDuration:t=ka.Z;break;case Ce.ER.ByRelevance:t=Ra.Z}return c.createElement(i.JO$,{data:t,className:za.optionIcon,width:14,height:14})};function Ba(){var e=(0,s.useDispatch)(),t=(0,s.useSelector)((function(e){return e.app.sortTestsData.currentExpressionIds}))[0],n=(0,s.useSelector)((function(e){return e.app.sortTestsData.currentDirection})),r=function(t){n!==t&&e((0,Za.u)({direction:t}))},a=[c.createElement(i.PhF.OptionGroup,{label:"Sort by",key:"sort-by"},(0,s.useSelector)((function(e){return e.app.sortTestsData.availableExpressions})).map((function(r,a){return c.createElement(i.PhF.Option,{key:a,title:r.label,content:c.createElement("div",{className:za.optionContent,onClick:function(){return a=r.id,void e(t!==a?(0,Za.Q)({expressionIds:[a]}):(0,Za.u)({direction:n===Ce.Sr.Asc?Ce.Sr.Desc:Ce.Sr.Asc}));var a}},Ua(r),c.createElement("span",{className:za.optionText},r.label)),value:r.id})}))),c.createElement(i.PhF.OptionGroup,{label:"Direction",key:"sort-direction"},c.createElement(i.PhF.Option,{value:Ce.Sr.Asc,content:c.createElement("div",{className:za.optionContent,onClick:function(){return r(Ce.Sr.Asc)}},c.createElement(i.JO$,{className:za.optionIcon,data:ja.Z,width:14,height:14}),c.createElement("span",{className:za.optionText},"Ascending"))}),c.createElement(i.PhF.Option,{value:Ce.Sr.Desc,content:c.createElement("div",{className:za.optionContent,onClick:function(){return r(Ce.Sr.Desc)}},c.createElement(i.JO$,{className:za.optionIcon,data:Pa.Z,width:14,height:14}),c.createElement("span",{className:za.optionText},"Descending"))}))];return c.createElement(Aa,{label:"Sort by",labelIcon:c.createElement(i.JO$,{data:n===Ce.Sr.Asc?ja.Z:Pa.Z}),currentValue:[t,n],autoClose:!1,multiple:!0},a)}var Ga="Tree actions toolbar:";function Fa(e){var t=e.onHighlightCurrentTest,n=e.className,r=(0,s.useDispatch)(),a=(0,V.z)(),o=(0,s.useSelector)((function(e){return e.tree.suites.allRootIds})),l=(0,s.useSelector)((function(e){return e.tree.suites.stateById})),d=(0,s.useSelector)((function(e){return e.tree.browsers.stateById})),m=(0,s.useSelector)((function(e){return e.tree.browsers.byId})),p=(0,s.useSelector)(Ca.getCheckedTests),f=(0,s.useSelector)(Ca.getVisibleBrowserIds),g=(0,s.useSelector)(j.Dr),v=(0,s.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),h=(0,s.useSelector)((function(e){return e.running})),I=(0,s.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),S=(0,c.useMemo)((function(){var e=o.filter((function(e){return l[e].shouldBeShown}));return e.length>0&&e.every((function(e){return l[e].checkStatus===Ma.ri}))}),[l,o]),y=(0,c.useMemo)((function(){return o.some((function(e){var t=l[e].shouldBeShown,n=l[e].checkStatus===Ma.ri||l[e].checkStatus===Ma.Km;return t&&n}))}),[l,o]),T=y&&!S,N=(0,s.useSelector)(j.Qy),b=(0,s.useSelector)(j.Fn),M=(0,s.useSelector)(j.c_),C=(0,s.useSelector)(Ca.getVisibleImages),A=(0,s.useSelector)(Ca.getSelectedImages),D=y?A:C,_=(0,s.useSelector)((function(e){return e.ui.suitesPage.treeViewMode})),L=(0,s.useSelector)((function(e){return e.app.suitesPage.currentTreeNodeId})),x=(0,s.useSelector)(wa.V).visibleTreeNodeIds,k=g&&L&&x.includes(L),R=D.some((function(e){return(0,Wn.h3)(e)})),Z=D.some((function(e){return(0,Wn.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:N})}))&&!R,z=(0,c.useMemo)((function(){return Object.values(d).reduce((function(e,t){return e+Number(t.checkStatus===Ma.ri)}),0)}),[d]),U=y?"selected":"visible",B=h||!g,G=c.createElement(c.Fragment,null,v&&c.createElement(at,{className:ba.iconButton,icon:c.createElement(i.JO$,{data:Ea.Z,height:14}),tooltip:"Run ".concat(U),view:"flat",onClick:function(){if(null==a||a.trackFeatureUsage({featureName:"".concat(Ga," run tests")}),y)r((0,w.thunkRunTests)({tests:p}));else{var e=f.map((function(e){return{testName:m[e].parentId,browserName:m[e].name}}));r((0,w.thunkRunTests)({tests:e}))}},disabled:h||!g}),I&&(Z?c.createElement(at,{className:ba.iconButton,icon:c.createElement(i.JO$,{data:P.Z}),tooltip:"Undo accepting ".concat(U," screenshots"),view:"flat",onClick:function(){var e=D.filter((function(e){return(0,Wn.KD)({image:e,gui:b,isLastResult:!0,isStaticImageAccepterEnabled:N})})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(Ga," revert screenshots")}),r(N?(0,w.staticAccepterUnstageScreenshot)(e):(0,cr.Ku)({imageIds:e}))},disabled:B}):c.createElement(at,{className:ba.iconButton,icon:c.createElement(i.JO$,{data:me.Z}),tooltip:"Accept ".concat(U," screenshots"),view:"flat",onClick:function(){var e=D.filter((function(e){return(0,Wn.h3)(e)})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(Ga," accept screenshots")}),null==a||a.trackScreenshotsAccept({acceptedImagesCount:e.length}),r(N?(0,w.staticAccepterStageScreenshot)(e):(0,cr.Ro)({imageIds:e}))},disabled:B||!R})),(v||I)&&c.createElement("div",{className:ba.buttonsDivider}),c.createElement(at,{icon:c.createElement(i.JO$,{data:_===Ce.xW.Tree?ga.Z:va.Z,height:14}),tooltip:_===Ce.xW.Tree?"Switch to list view":"Switch to tree view",view:"flat",onClick:function(){var e=_===Ce.xW.Tree?Ce.xW.List:Ce.xW.Tree;null==a||a.trackFeatureUsage({featureName:"".concat(Ga," change tree view mode"),treeViewMode:e}),r((0,w.setTreeViewMode)({treeViewMode:e}))},disabled:!g}),c.createElement(at,{icon:c.createElement(i.JO$,{data:ha.Z,height:14}),tooltip:"Focus on active test",view:"flat",onClick:t,disabled:!k}),c.createElement(at,{icon:c.createElement(i.JO$,{data:Ia.Z,height:14}),tooltip:"Expand all",view:"flat",onClick:function(){r((0,w.setAllTreeNodesState)({isExpanded:!0}))},disabled:!g}),c.createElement(at,{icon:c.createElement(i.JO$,{data:Sa.Z,height:14}),tooltip:"Collapse all",view:"flat",onClick:function(){r((0,w.setAllTreeNodesState)({isExpanded:!1}))},disabled:!g}),M&&c.createElement(at,{icon:c.createElement(i.JO$,{data:T?ya.Z:S?Ta.Z:Na.Z}),tooltip:y?"Deselect all":"Select all",view:"flat",onClick:function(){r(y?(0,w.deselectAll)():(0,w.selectAll)())},disabled:!g,className:ba.selectAllButton,qa:"select-all-button"}));return c.createElement("div",{className:E()(ba.container,n)},c.createElement("div",{className:ba.innerContainer},c.createElement(Da,null),c.createElement(Ba,null),c.createElement("div",{className:ba.buttonsContainer},G),c.createElement("div",{className:E()(ba.selectedContainer,(0,u.Z)({},ba["selected-container--visible"],y))},c.createElement("div",{className:ba.selectedTitle},c.createElement(i.JO$,{data:q.Z}),c.createElement("span",{"data-qa":"selected-tests-count"},z," ",z>1?"tests":"test"," selected")),c.createElement("div",{className:ba.buttonsContainer},G))))}var Va=n(94927),Wa=(0,En.createSelector)([j.Wo,j.TJ,j.jA,function(e,t){return t}],(function(e,t,n,r){switch(r.entityType){case Et.p.Suite:return t[r.entityId]?t[r.entityId].checkStatus:Ma.wT;case Et.p.Browser:return e[r.entityId]?e[r.entityId].checkStatus:Ma.wT;case Et.p.Group:var a=n[r.entityId],i=a.browserIds.length,c=a.browserIds.reduce((function(t,n){return t+e[n].checkStatus}),0);return Number(c===i||c&&Ma.Km)}return console.warn("Unknown entity type while trying to determine checkbox status. Item: ".concat(JSON.stringify(r),". ")+"Please report this to our team at ".concat(O.WY,".")),Ma.wT}));const Ya="GmSTUcS__6ru6XqfUwTm",Ha="JEKczgY4dsilomLNEORc",Qa="SIjRYlrY7LUaIOEFLesg",Ja="gIbhX6XBQ2CObUyG_skK",Ka="uguNCTZkxSBVVKR9K6lH",Xa="sOLV5Fsta5TwMmH05upY",qa="oSQ67zTTCTB4ZNIEDsjE",$a="iNFUSXIRxKm5Q8AkOQhV",ei="FrxBxKBajEm3gR7JvEIh",ti="vIAF9eDidGeyZDFKwzuW",ni="p9zBca1FFwHaMMqbjgML";function ri(e){var t,n=e.item,r=(0,s.useDispatch)(),a=(0,s.useSelector)(j.c_),o=(0,s.useSelector)((function(e){return e.tree.groups.byId})),l=(0,s.useSelector)((function(e){return Wa(e,n)})),d=/\/visual-checks/.test(location.hash),m=n.title.slice(0,-1),p=n.title[n.title.length-1],f=E()((t={},(0,u.Z)(t,ti,n.entityType===Et.p.Group),(0,u.Z)(t,ni,n.entityType!==Et.p.Group),t));return c.createElement("div",{className:Ya},c.createElement("div",null,c.createElement("div",{className:f},n.prefix&&c.createElement("span",{className:Ja},n.prefix),c.createElement("span",{className:Ka},m.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement("span",{className:t!==m.length-1?Xa:""},e),c.createElement(Ye.Z,{height:12,className:qa}))})),c.createElement("span",{className:m.length>0?Xa:""},p))),n.tags&&n.tags.length>0&&c.createElement("div",{className:$a},n.tags.map((function(e,t){return c.createElement("span",{key:t,className:ei},e)})))),a&&!d&&c.createElement("div",{className:Ha,onClick:function(e){if(e.stopPropagation(),n.entityType===Et.p.Group){var t=o[n.entityId];r((0,w.toggleGroupCheckbox)({browserIds:t.browserIds,checkStatus:(0,vn.jj)(l)}))}else n.entityType===Et.p.Suite?r((0,w.toggleSuiteCheckbox)({suiteId:n.entityId,checkStatus:(0,vn.jj)(l)})):n.entityType===Et.p.Browser&&r((0,w.toggleBrowserCheckbox)({suiteBrowserId:n.entityId,checkStatus:(0,vn.jj)(l)}))},"data-qa":"tree-item-checkbox"},c.createElement(i.XZJ,{checked:(0,vn.CR)(l),indeterminate:(0,vn.Ph)(l),className:Qa,size:"m"})))}var ai=n(84673),ii=n.n(ai);const ci={wrapper:"LJYj9V992X2v_OQRcVCA",magnifier:"EjYvq5pA27vPFglbcsSz"};var si=3;function oi(e){var t=e.image,n=e.style,r=e.magnifierHeight,a=void 0===r?150:r,i=e.magnifierWidth,s=void 0===i?150:i,o=e.zoomLevel,l=void 0===o?si:o,u=e.scrollContainerRef,m=(0,c.useState)(!1),p=(0,d.Z)(m,2),f=p[0],E=p[1],g=(0,c.useState)([0,0]),v=(0,d.Z)(g,2),h=(0,d.Z)(v[0],2),I=h[0],S=h[1],T=v[1],N=(0,c.useState)([0,0]),b=(0,d.Z)(N,2),M=(0,d.Z)(b[0],2),C=M[0],w=M[1],O=b[1],A=(0,c.useRef)([0,0]),D=(0,c.useState)({}),_=(0,d.Z)(D,2),L=_[0],x=_[1],k=(0,c.useRef)(null);return(0,c.useEffect)((function(){if(f&&null!=u&&u.current&&null!=k&&k.current){var e=function(){if(k.current){var e=(0,d.Z)(A.current,2),t=e[0],n=e[1],r=k.current.getBoundingClientRect(),a=r.top,i=t-r.left-window.scrollX,c=n-a-window.scrollY;O([i,c])}};return u.current.addEventListener("scroll",e),function(){var t;null===(t=u.current)||void 0===t||t.removeEventListener("scroll",e)}}}),[f,u]),(0,c.useEffect)((function(){var e=(0,d.Z)(A.current,2),n=e[0],r=e[1];x({display:f?"":"none",height:"".concat(a,"px"),width:"".concat(s,"px"),backgroundImage:"url('".concat(t.path,"')"),top:"".concat(r-a/2,"px"),left:"".concat(n-s/2,"px"),backgroundSize:"".concat(I*l,"px ").concat(S*l,"px"),backgroundPositionX:"".concat(-C*l+s/2,"px"),backgroundPositionY:"".concat(-w*l+a/2,"px")})}),[f,I,S,C,w]),c.createElement("div",{className:ci.wrapper},c.createElement(Dn.w,{image:t,style:n,ref:k,onMouseEnter:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.width,r=t.height;T([n,r]),E(!0),A.current=[e.clientX,e.clientY]}(e)},onMouseLeave:function(e){return function(e){e.preventDefault(),E(!1),A.current=[e.clientX,e.clientY]}(e)},onMouseMove:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.top,r=t.left,a=e.clientX-r-window.scrollX,i=e.clientY-n-window.scrollY;O([a,i]),A.current=[e.clientX,e.clientY]}(e)}}),(0,y.createPortal)(c.createElement("div",{className:ci.magnifier,style:L}),document.body))}const li="fOCwwY8SyBtdV8yd9MaE",ui="AU6DFFgGiakJnqZwq66G",di="ZjC0bb2zdqSR5wNLRp4F",mi="FWP9wDidgiPcbjkeKMEW",pi="SdbQF9QSHTIuzXbW5NhZ",fi="lEKkI6Teiro44TkyeMy6",Ei="TqV8drAzil99buolLGvD";function gi(e){var t;return e.item.status===O.ih.SKIPPED&&e.item.skipReason?c.createElement("div",{className:fi},c.createElement("div",{className:Ei},"Skipped ⋅ ",(0,pn.hk)(e.item.skipReason))):null!==(t=e.item.images)&&void 0!==t&&t.length?c.createElement("div",{style:{overflow:"hidden"}},e.item.images.map((function(t){var n=[];return t.status!==O.ih.FAIL&&t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS||n.push({title:"Expected",image:t.expectedImg}),t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS&&n.push({title:"Actual",image:t.actualImg}),t.status===O.ih.FAIL&&n.push({title:"Diff",image:t.diffImg}),c.createElement("div",{key:t.id},c.createElement("span",{className:ui},t.stateName," ⋅ ",rr(t)),c.createElement("div",{className:di},n.filter((function(e){var t=e.image;return Boolean(t)})).map((function(t){return c.createElement("div",{className:E()(pi,3===n.length&&"Diff"!==t.title&&mi),key:t.title},c.createElement("p",null,t.title),c.createElement(oi,{image:t.image,scrollContainerRef:e.scrollContainerRef}))}))))}))):e.item.errorStack?c.createElement("div",{className:E()(li,e.className)},(e.item.errorTitle+"\n"+ii()(e.item.errorStack)).trim()):null}const vi="T3aXaKm5jZ4a6NLqYRBw",hi="w50MypVLjyV8yU8AnjiB",Ii="xZyMfouBBnA33n0udtkK",Si="ApzdqHVcRYufL0rh7fmJ",yi="D4aLlzPBALA9wUI7MVAE",Ti="CvF3cmhVMllx30vyYbH4",Ni="zeS_VNPrT5fizUUHJnSq",bi="phHEhQJxiTI66Z6s54HL",Mi="jzzo195Rmsd5uw8pctM3",Ci="k_aewXqIOI0UbVd5Jvsr",wi="eDtbnxU6w8wjEleQ0CSm",Oi="k06qKh54DIscG61KmjBM",Ai="vkJOJghjMsVLLfp05SfS",Di="_4_WsBALJksH5x6QO2t9g",_i="mTrxnQFe6UTb97i6j4nW text-hint";function Li(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ki=(0,c.forwardRef)((function(e,t){var n,r,a=e.currentTreeNodeId,i=e.treeData,o=e.treeViewExpandedById,l=e.onClick,m=e.containerClassName,p=(0,s.useDispatch)(),f=(0,s.useSelector)(j.JK),g=(0,cn.Lm)({items:i.tree,withExpandedState:!0,getItemId:function(e){return e.id},controlledState:{expandedById:o}}),v=function(e,t){var n=e.status===O.ih.FAIL||e.status===O.ih.ERROR;return t||n},h=(0,c.useMemo)((function(){for(var e={},t=new Map,n=0;n<g.structure.visibleFlattenIds.length;n++){var r=g.structure.visibleFlattenIds[n],i=g.structure.itemsById[r];if(i.entityType===Et.p.Browser){var c,s=f===Ce.xW.List?"root":(null===(c=i.parentData)||void 0===c?void 0:c.id)||"root";t.has(s)||t.set(s,[]),t.get(s).push(r)}}var o,l=Li(t);try{for(l.s();!(o=l.n()).done;)for(var u=(0,d.Z)(o.value,2)[1],m=0;m<u.length;){var p=u[m],E=g.structure.itemsById[p],h=E.id===a;if(v(E,h)){for(var I=m;I<u.length-1;){var S=u[I+1],y=g.structure.itemsById[S],T=y.id===a;if(!v(y,T))break;I++}if(m===I)e[p]="single";else for(var N=m;N<=I;N++)e[u[N]]=N===m?"first":N===I?"last":"middle";m=I+1}else m++}}catch(e){l.e(e)}finally{l.f()}return e}),[g.structure.visibleFlattenIds,g.structure.itemsById,a,f]),I=(0,c.useCallback)((function(e){var t=e.id,n=g.structure.itemsById[t];l(n,g.state.expandedById[t])}),[g,o]),S=c.useRef(null),y=(0,Va.MG)({count:g.structure.visibleFlattenIds.length,getScrollElement:function(){return S.current},estimateSize:function(e){var t=g.structure.visibleFlattenIds[e];return g.structure.itemsById[t].entityType===Et.p.Group?68:34},getItemKey:(0,c.useCallback)((function(e){return g.structure.visibleFlattenIds[e]}),[g]),overscan:50}),T=y.getVirtualItems();return(0,c.useImperativeHandle)(t,(function(){return{scrollToId:function(e){g.structure.visibleFlattenIds.includes(e)?y.scrollToIndex(g.structure.visibleFlattenIds.indexOf(e),{align:"auto"}):(p((0,w.revealTreeNode)({nodeId:e})),setTimeout((function(){try{y.scrollToIndex(g.structure.visibleFlattenIds.indexOf(e),{align:"auto"})}catch(e){}}),50))}}})),0===g.structure.visibleFlattenIds.length?c.createElement("div",{className:_i},"There are no tests that match selected filters"):c.createElement(cn.lW,{className:vi},c.createElement("div",{ref:S,className:E()(hi,m)},c.createElement("div",{className:Ii,style:{height:y.getTotalSize()}},c.createElement("div",{className:Si,style:{transform:"translateY(".concat(null!==(n=null===(r=T[0])||void 0===r?void 0:r.start)&&void 0!==n?n:0,"px)")},"data-qa":"tree-view-list"},T.map((function(e){var t,n=g.structure.itemsById[e.key],r=n.id===a,i=n.entityType===Et.p.Browser?h[e.key]:void 0,s=[yi,(t={"current-tree-node":r,"error-tree-node":n.entityType===Et.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)},(0,u.Z)(t,Ti,r),(0,u.Z)(t,Mi,n.entityType===Et.p.Browser),(0,u.Z)(t,Ci,n.entityType===Et.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)),(0,u.Z)(t,wi,"first"===i),(0,u.Z)(t,Oi,"middle"===i),(0,u.Z)(t,Ai,"last"===i),(0,u.Z)(t,Di,"single"===i),t)];return c.createElement(cn.CM,(0,Wt.Z)({key:e.key,"data-qa":"tree-view-item","data-index":e.index,ref:y.measureElement,height:0,className:E()(s)},(0,cn.vy)({id:e.key.toString(),list:g,onItemClick:I,mapItemDataToContentProps:function(e){return{startSlot:c.createElement(dn,null,e.status?(0,pn.XF)(e.status):c.createElement(on.Z,null)),title:c.createElement(ri,{item:e,className:r?Ni:""}),subtitle:c.createElement(gi,{item:e,className:r?bi:"",scrollContainerRef:S})}}}).props))}))))))}));const Ri={skeleton:"NfU5ZxuSXr88hxKKeomI","skeleton-appear":"ExjahJDmJwFVgynPb_Ou",skeletonAppear:"ExjahJDmJwFVgynPb_Ou"};function ji(){var e=(0,c.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){for(var e=0,t=[],n=0;n<24;n++){var a=pt()(0,e+1);e=a,t.push(c.createElement(i.OdW,{key:n,className:Ri.skeleton,style:{width:"calc(100% - ".concat(a," * 24px)"),"--delay":Math.floor(n/2)+"s"}}))}r(t)}),[]),c.createElement(i.kCb,{direction:"column",gap:3,alignItems:"end"},n)}var Pi=["title","isInitialized","onHighlightCurrentTest","treeViewRef","statusList","statusValue","onStatusChange"];function Zi(e){var t=e.title,n=e.isInitialized,r=e.onHighlightCurrentTest,a=e.treeViewRef,s=e.statusList,o=e.statusValue,l=e.onStatusChange,u=(0,Qr.Z)(e,Pi);return c.createElement(De,{className:E()(Jr.card,Jr.treeViewCard),key:"tree-view",qa:"suites-tree-card"},c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackCardCrash,{recommendedAction:"Try to reload page"})},c.createElement(i.xvT,{variant:"header-2",className:Jr.card__title,qa:"sidebar-title"},t),c.createElement(i.kCb,{gap:2,className:Jr["filters-container"]},c.createElement(ra,null),c.createElement(da,null)),c.createElement(fa,{className:Jr["tabs-container"],list:s,value:o,onChange:l,disabled:!n}),r&&c.createElement(Fa,{className:Jr["toolbar-container"],onHighlightCurrentTest:r}),n&&c.createElement(ki,(0,Wt.Z)({ref:a},u,{containerClassName:Jr["tree-view-container"]})),!n&&c.createElement("div",{className:Jr["skeleton-container"]},c.createElement(ji,null))))}function zi(){var e=na(),t=(0,s.useSelector)(Re),n=(0,s.useSelector)(wa.V),r=(0,s.useSelector)(je),a=n.visibleTreeNodeIds,i=n.tree,l=(0,o.UO)(),m=(0,s.useSelector)(Ze),p=(0,s.useSelector)((function(e){return e.app[Ce.T3.suitesPage].currentBrowserId})),f=(0,s.useSelector)((function(e){return e.app[Ce.T3.suitesPage].currentTreeNodeId})),g=a.indexOf(f),v=(0,s.useSelector)(j.Dr),h=(0,s.useDispatch)(),I=(0,o.s0)(),S=(0,s.useSelector)((function(t){return t.app[e].viewMode})),y=(0,s.useSelector)((function(e){return(0,wa.d)(e)})),T=(0,c.useCallback)((function(t){h(w.changeViewMode({data:t,page:e}))}),[e]);(0,c.useEffect)((function(){null!=t&&t.parentId&&null!==m&&r.length&&I("/"+["suites",t.parentId,void 0!==l.stateName?l.stateName:r[0].stateName,null==m?void 0:m.toString()].map(encodeURIComponent).join("/"))}),[t,m]),(0,c.useEffect)((function(){if(p!==l.suiteId&&(h((0,w.setStrictMatchFilter)(!1)),v&&l.suiteId)){var e=(0,Me.iT)(n.tree,l.suiteId);if(!e)return;h((0,w.setCurrentTreeNode)({browserId:l.suiteId,treeNodeId:e.id})),void 0!==l.attempt&&h((0,w.changeTestRetry)({browserId:l.suiteId,retryIndex:Number(l.attempt)}))}}),[v,l]);var N=(0,c.useRef)(null);(0,c.useEffect)((function(){var e;null==N||null===(e=N.current)||void 0===e||e.scrollToId(f)}),[N,f]);var b=(0,s.useSelector)((function(e){return e.ui[Ce.T3.suitesPage].expandedTreeNodesById})),M=(0,c.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:y.total},{icon:(0,pn.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:y.success},{icon:(0,pn.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:y.fail},{icon:(0,pn.XF)(O.ih.RETRY),title:"Retried",value:O.wO.RETRIED,count:y.retried},{icon:(0,pn.XF)(O.ih.SKIPPED),title:"Skipped",value:O.wO.SKIPPED,count:y.skipped}]}),[y]),C=function(e){var t,n=a[g+e],r=(0,Me.Qt)(i,null!=n?n:"");if(r){var c=(0,Me.av)(r);h(w.setCurrentTreeNode({treeNodeId:n,browserId:r.entityId,groupId:c})),null==N||null===(t=N.current)||void 0===t||t.scrollToId(n)}else console.warn("Couldn't find tree node by id in prev/next handler. ID: ".concat(f,". Tree: ").concat(JSON.stringify(i))+"Please report this to our team at ".concat(O.WY,"."))},A=(0,c.useCallback)((function(e,t){e.entityType===Et.p.Browser?h(w.setCurrentTreeNode({treeNodeId:e.id,browserId:e.entityId,groupId:(0,Me.av)(e)})):h(w.setTreeNodeExpandedState({nodeId:e.id,isExpanded:!t}))}),[]),D=(0,s.useSelector)((function(e){return e.ui[Ce.T3.suitesPage].sectionSizes})),_=(0,c.useState)(null),L=(0,d.Z)(_,2),x=L[0],k=L[1],R=(0,c.useState)(0),P=(0,d.Z)(R,2),Z=P[0],z=P[1];return(0,c.useLayoutEffect)((function(){if(x){z(x.clientHeight);var e=new ResizeObserver((function(e){z(e[0].contentRect.height)}));return e.observe(x),function(){return e.disconnect()}}}),[x]),c.createElement("div",{className:dt.container},c.createElement(We,{sizes:D,onSizesChange:function(e){h(w.setSectionSizes({sizes:e,page:Ce.T3.suitesPage})),(0,Me.aV)(e[0])?h(w.setBackupSectionSizes({sizes:[Hr.p,100-Hr.p],page:Ce.T3.suitesPage})):h(w.setBackupSectionSizes({sizes:e,page:Ce.T3.suitesPage}))}},c.createElement(Zi,{title:"Suites",onHighlightCurrentTest:function(){N.current&&null!=t&&t.parentId&&N.current.scrollToId(f)},isInitialized:v,treeViewRef:N,treeData:n,treeViewExpandedById:b,currentTreeNodeId:f,onClick:A,statusList:M,statusValue:S,onStatusChange:T}),c.createElement(De,{key:"test-view",className:E()(dt.card,dt.testViewCard),style:{"--sticky-header-height":Z+"px"}},c.createElement(qt.Boundary,{watchFor:[t,l.suiteId,v],fallback:c.createElement(qt.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},t&&c.createElement(c.Fragment,null,c.createElement("div",{className:dt.stickyHeader,ref:function(e){return k(e)}},c.createElement(qe,{className:dt.card__title,suitePath:t.suitePath,browserName:t.name,index:g,totalItems:a.length,onNext:function(){return C(1)},onPrevious:function(){return C(-1)}}),c.createElement(ut,{onAttemptChange:function(e,t,n){h(w.changeTestRetry((0,u.Z)({browserId:e,retryIndex:n},Ce.T3.suitesPage,f?{treeNodeId:f}:void 0)))}})),c.createElement(Yr,null)),!l.suiteId&&!t&&c.createElement("div",{className:dt.hintContainer},c.createElement("span",{className:dt.hint},"Select a test to see details")),l.suiteId&&!v&&c.createElement(ft,null)))))}function Ui(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gi=(0,En.createSelector)([j.Jx,j.TZ,j.O7],(function(e,t,n){for(var r={},a=0,i=Object.values(e);a<i.length;a++){var c=i[a],s=n[c.parentId];if(c.stateName&&s){var o=t[s.parentId];if(o){var l="".concat(o.id," ").concat(c.stateName);r[l]||(r[l]={id:l,browserId:o.id,images:[],suitePath:s.suitePath,browserName:o.name,stateName:c.stateName}),r[l].images.push(Object.assign({},c,{timestamp:s.timestamp}))}}}for(var u={},m=function(){var r=(0,d.Z)(f[p],2),a=r[0],i=r[1],c=t[i.browserId],s=c.resultIds[c.resultIds.length-1],o=n[s];if(o.status!==O.ih.RUNNING&&o.status!==O.ih.ERROR&&!o.imageIds.find((function(t){return e[t].stateName===i.stateName})))return"continue";i.images.sort((function(e,t){return e.timestamp-t.timestamp})),u[a]={id:i.id,suitePath:i.suitePath,browserId:i.browserId,browserName:i.browserName,stateName:i.stateName,imageIds:i.images.map((function(e){return e.id})),status:o.status}},p=0,f=Object.entries(r);p<f.length;p++)m();return u})),Fi=function(e){var t=e.app.visualChecksPage.currentNamedImageId,n=Gi(e);return t?n[t]:Object.values(n)[0]},Vi=function(e){var t=Fi(e);if(!t)return null;var n=e.tree.browsers.stateById[t.browserId].retryIndex,r=t.imageIds.find((function(t){var r=e.tree.images.byId[t].parentId;return e.tree.results.byId[r].attempt===n}));return r?(0,j.Jx)(e)[r]:null},Wi=function(e){var t=Fi(e);return t?e.tree.browsers.stateById[null==t?void 0:t.browserId].retryIndex:null},Yi=function(e){var t=Fi(e),n=(0,j.Jx)(e),r=null==t?void 0:t.browserId,a=r&&e.tree.browsers.byId[r];if(a)for(var i=(null==a?void 0:a.resultIds.length)-1;i>=0;i--){if(n["".concat(null==a?void 0:a.resultIds[i]," ").concat(null==t?void 0:t.stateName)])return i}return 0},Hi=function(e){var t=e.app.visualChecksPage.currentNamedImageId,n=Gi(e);if(t){var r=n[t];return r?e.tree.browsers.byId[r.browserId]:null}return null};const Qi={container:"e8s4JSjd7RxAhPAaW8RZ",card:"LLcn_jBWNEuyQC5ZBgS5",card__title:"GS6Zo5RCv1s1Z6c3t0w2",cardTitle:"GS6Zo5RCv1s1Z6c3t0w2","toolbar-container":"XrScx7Cwyr_af5rbLwdl",toolbarContainer:"XrScx7Cwyr_af5rbLwdl","accept-button":"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button",acceptButton:"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button","buttons-container":"sLSIptbgAQ5QCgptRkAA",buttonsContainer:"sLSIptbgAQ5QCgptRkAA",hint:"HaHZlzIgRHYiaJTmV3fY","current-image":"lDjihigezbN9xQBOSlIn",currentImage:"lDjihigezbN9xQBOSlIn","test-view-card":"i2cXFS5T6BRa_ny_RNVX",testViewCard:"i2cXFS5T6BRa_ny_RNVX"};function Ji(){return c.createElement(i.kCb,{direction:"column",gap:4,style:{marginTop:"12px"}},c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"12px",width:"15%"}}),c.createElement(i.OdW,{style:{height:"12px",width:"25%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"24px",width:"40%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"12px",width:"150px"}}),c.createElement(i.OdW,{style:{height:"12px",width:"180px"}}),c.createElement(i.OdW,{style:{height:"12px",width:"120px"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"12px",width:"25%"}})),c.createElement(i.kCb,{gap:2},c.createElement(i.OdW,{style:{height:"500px"}}),c.createElement(i.OdW,{style:{height:"500px"}}),c.createElement(i.OdW,{style:{height:"500px"}})))}var Ki=n(22578);const Xi={container:"ipa14zMJGXV7Y5F33sfG","attempt-select":"TcxhRYjS_wr5KAstgw3V",attemptSelect:"TcxhRYjS_wr5KAstgw3V","attempt-number":"vUAaXSCoIWZa4RTwiSEW",attemptNumber:"vUAaXSCoIWZa4RTwiSEW","attempt-option":"CO6bZtkzia3WT1X_RATs",attemptOption:"CO6bZtkzia3WT1X_RATs","attempt-select-popup":"oehf8WD6Wi4UG5QdUp5L",attemptSelectPopup:"oehf8WD6Wi4UG5QdUp5L"};function qi(){var e=(0,s.useDispatch)(),t=(0,s.useSelector)(Fi),n=(0,s.useSelector)(j.Jx),r=null==t?void 0:t.browserId,a=(0,s.useSelector)((function(e){return r&&e.tree.browsers.byId[r]})),o=a?a.resultIds.length:null,l=(0,s.useSelector)((function(e){return a?e.tree.browsers.stateById[a.id].retryIndex:null})),u=function(e){if(a&&null!==l)for(var r=e?l+1:l-1;e?r<(null==a?void 0:a.resultIds.length):r>=0;){var i="".concat(null==a?void 0:a.resultIds[r]," ").concat(null==t?void 0:t.stateName);if(n[i])return!1;r+=e?1:-1}return!0},m=(0,c.useMemo)((function(){return u(!0)}),[l,a]),p=(0,c.useMemo)((function(){return u(!1)}),[l,a]),f=function(i){if(a&&null!==l){for(var c=null,s=i?l+1:l-1;i?s<(null==a?void 0:a.resultIds.length):s>=0;){var o="".concat(null==a?void 0:a.resultIds[s]," ").concat(null==t?void 0:t.stateName);if(n[o]){c=s;break}s+=i?1:-1}r&&null!==c&&e((0,w.changeTestRetry)({browserId:r,retryIndex:c}))}};return a?c.createElement("div",{className:Xi.container},c.createElement(i.ua7,{content:"Prev screenshot",openDelay:0,placement:"top"},c.createElement(i.zxk,{"aria-label":"Prev screenshot",view:"outlined",onClick:function(){return f(!1)},disabled:p},c.createElement(i.JO$,{data:Ki.Z}))),c.createElement(i.ua7,{content:"Show all attempts",openDelay:0,placement:"top"},c.createElement(i.PhF,{renderControl:function(e){var t=e.triggerProps,n=t.onClick,r=t.onKeyDown,a=e.ref;return c.createElement(i.zxk,{className:Xi.attemptSelect,onClick:n,onKeyDown:r,ref:a,view:"flat"},"Attempt ",c.createElement("span",{className:Xi.attemptNumber},null!==l?l+1:"–")," of ",c.createElement("span",{className:Xi.attemptNumber},null!=o?o:"–"))},renderOption:function(e){var r="".concat(e.data.resultId," ").concat(null==t?void 0:t.stateName);return c.createElement("div",{className:Xi.attemptOption},nr(n[r]||null,!0),c.createElement("span",null,e.content))},popupClassName:Xi.attemptSelectPopup,onUpdate:function(t){var n=(0,d.Z)(t,1)[0];r&&e((0,w.changeTestRetry)({browserId:r,retryIndex:Number(n)}))},value:l?[l.toString()]:[]},a.resultIds.map((function(e,t){return c.createElement(i.PhF.Option,{key:t,value:t.toString(),content:"Attempt #".concat(t+1),data:{resultId:e}})})))),c.createElement(i.ua7,{content:"Next screenshot",openDelay:0,placement:"top"},c.createElement(i.zxk,{view:"outlined",onClick:function(){return f(!0)},disabled:m},c.createElement(i.JO$,{data:Ye.Z})))):null}var $i=n(79483),ec=function(e,t){var n=(0,c.useRef)({}),r=t.slice(Math.max(0,e-1-3),Math.min(t.length,e+1+3)),a=(0,s.useSelector)((function(e){return function(e,t){var n,r=[],a=(0,j.Jx)(e),i=Gi(e),c=Ui(t);try{for(c.s();!(n=c.n()).done;){var s=i[n.value];s&&r.push.apply(r,(0,Sr.Z)(s.imageIds.map((function(e){return a[e]}))))}}catch(e){c.e(e)}finally{c.f()}return r}(e,r)}));(0,c.useEffect)((function(){a.forEach((function(e){n.current[e.id]=(0,$i.m)(e)}))}),[e]),(0,c.useEffect)((function(){return function(){Object.values(n.current).forEach((function(e){return null==e?void 0:e()}))}}),[])};function tc(e){var t=e.currentNamedImage,n=e.visibleNamedImageIds,a=e.onImageChange,l=(0,s.useDispatch)(),u=(0,V.z)(),m=(0,s.useSelector)(Vi),p=(0,s.useSelector)(Wi),f=(0,o.s0)(),E=n.indexOf(null==t?void 0:t.id);ec(E,n);var g=(0,s.useSelector)((function(e){return e.view.diffMode})),v=(0,s.useSelector)((function(e){return e.staticImageAccepter.enabled})),h=(0,s.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),I=(0,s.useSelector)((function(e){return e.running})),S=(0,s.useSelector)((function(e){return e.processing})),y=(0,s.useSelector)((function(e){return e.gui})),T=(0,s.useSelector)(Hi),N=null==m?void 0:m.parentId,b=Boolean(N&&T&&N===T.resultIds[T.resultIds.length-1]),M=(0,Wn.KD)({gui:y,image:null!=m?m:{},isLastResult:b,isStaticImageAccepterEnabled:v});return c.createElement("div",{className:Qi.stickyHeader},t&&c.createElement(qe,{className:Qi.card__title,suitePath:t.suitePath,browserName:t.browserName,index:E,totalItems:n.length,onPrevious:function(){return a(n[E-1])},stateName:t.stateName,onNext:function(){return a(n[E+1])}}),c.createElement("div",{className:Qi.toolbarContainer},c.createElement(qi,null),c.createElement(i.izJ,{orientation:"vertical"}),c.createElement(ar,{image:m}),c.createElement(i.izJ,{orientation:"vertical"}),c.createElement(i.PhF,{className:Qi.diffModeSelect,label:"Diff Mode",value:[g],onUpdate:function(e){var t,n=(0,d.Z)(e,1)[0];return t=n,void l((0,w.setDiffMode)({diffModeId:t}))},multiple:!1},Object.values(O.nx).map((function(e){return c.createElement(i.PhF.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),c.createElement(i.kCb,{className:Qi.buttonsContainer,gap:2},c.createElement(i.zxk,{view:"outlined",className:Qi.acceptButton,disabled:I||S,onClick:function(){t&&f("/"+["suites",null==t?void 0:t.browserId,null==t?void 0:t.stateName,null==p?void 0:p.toString()].map(encodeURIComponent).join("/"))},qa:"go-suites-button"},c.createElement(i.JO$,{data:r.Z}),"Go to Suites"),h&&c.createElement(c.Fragment,null,M&&c.createElement(i.zxk,{view:"action",className:Qi.acceptButton,disabled:I||S,onClick:function(){m&&l(v?(0,w.staticAccepterUnstageScreenshot)([m.id]):(0,cr.Ku)({imageIds:[m.id]}))},qa:"undo-button"},c.createElement(i.JO$,{data:P.Z}),"Undo"),m&&(0,Wn.h3)(m)&&c.createElement(i.zxk,{view:"action",className:Qi.acceptButton,disabled:I||S,onClick:function(){m&&(null==u||u.trackScreenshotsAccept(),l(v?(0,w.staticAccepterStageScreenshot)([m.id]):(0,cr.Ro)({imageIds:[m.id]})))},qa:"accept-button"},c.createElement(i.JO$,{data:me.Z}),"Accept"),c.createElement(lt,{showPlayer:!1,browser:T})))))}var nc=function(e){return e.app[Ce.T3.visualChecksPage].viewMode},rc=(0,En.createSelector)([j.Jx,Gi,nc,function(e){return e.app[Ce.T3.visualChecksPage].filteredBrowsers},function(e){return e.app[Ce.T3.visualChecksPage].nameFilter},function(e){return e.app[Ce.T3.visualChecksPage].useRegexFilter},function(e){return e.app[Ce.T3.visualChecksPage].useMatchCaseFilter}],(function(e,t,n,r,a,i,c){var s,o=new Set(r.map((function(e){return e.id}))),l=o.size,d={isRoot:!0,data:void 0},m=(s={},(0,u.Z)(s,O.wO.ALL,0),(0,u.Z)(s,O.wO.PASSED,0),(0,u.Z)(s,O.wO.FAILED,0),s),p=Object.values(t).filter((function(t){var r=t.browserId,s=t.browserName,u=t.imageIds;if(l&&!o.has(s))return!1;if(!(0,Wn.TV)(r.slice(0,-s.length-1),s,a,{strictMatchFilter:!1,useMatchCaseFilter:c,useRegexFilter:i,isNewUi:!0}).isMatch)return!1;var d=e[u[u.length-1]].status;switch(m[O.wO.ALL]++,d){case O.ih.SUCCESS:return m[O.wO.PASSED]++,n===O.wO.PASSED||n===O.wO.ALL;case O.ih.FAIL:case O.ih.ERROR:case O.ih.UPDATED:return m[O.wO.FAILED]++,n===O.wO.FAILED||n===O.wO.ALL;default:return!0}})).map((function(t){return{data:{id:t.id,entityId:t.id,entityType:Et.p.Browser,errorStack:void 0,errorTitle:void 0,parentData:void 0,isActive:!0,skipReason:"Unknown reason",status:t.status===O.ih.RUNNING?t.status:e[t.imageIds[t.imageIds.length-1]].status,tags:[],title:[].concat((0,Sr.Z)(t.suitePath),[t.browserName]),images:[e[t.imageIds[t.imageIds.length-1]]]},parentNode:d}}));return{allTreeNodeIds:p.map((function(e){return e.data.id})),visibleTreeNodeIds:[],tree:p,stats:m}}));function ac(){var e=(0,s.useDispatch)(),t=na(),n=(0,s.useSelector)(Fi),r=(0,s.useSelector)(Wi),a=(0,s.useSelector)(Yi),i=(0,s.useSelector)(Vi),l=(0,s.useSelector)(Hi),u=(0,c.useState)(!1),m=(0,d.Z)(u,2),p=m[0],f=m[1],g=(0,o.s0)(),v=(0,o.UO)(),h=(0,c.useRef)(!1),I=(null==n?void 0:n.status)===O.ih.RUNNING,S=(0,s.useSelector)((function(e){return e.app.visualChecksPage.currentNamedImageId})),y=(0,s.useSelector)(rc),T=(0,c.useRef)(null);(0,c.useEffect)((function(){var e;null==T||null===(e=T.current)||void 0===e||e.scrollToId(S)}),[T,S]);var N=(0,s.useSelector)((function(e){return e.app.isInitialized})),b=(0,c.useCallback)((function(t){e((0,w.visualChecksPageSetCurrentNamedImage)(t)),f(!0)}),[l]),M=(0,c.useCallback)((function(t){e((0,w.visualChecksPageSetCurrentNamedImage)(t.id)),f(!0)}),[l,r]);(0,c.useEffect)((function(){p&&l&&(e((0,w.changeTestRetry)({browserId:null==l?void 0:l.id,retryIndex:a})),f(!1))}),[p,l]),(0,c.useEffect)((function(){S&&null!==r&&g("".concat(encodeURIComponent(S),"/").concat(r))}),[S,r]),(0,c.useEffect)((function(){if(v&&N&&!h.current&&(h.current=!0,v.imageId&&(e((0,w.visualChecksPageSetCurrentNamedImage)(v.imageId)),void 0!==v.attempt))){var t=v.imageId.split(" ").slice(0,-1).join(" ");e((0,w.changeTestRetry)({browserId:t,retryIndex:Number(v.attempt)}))}}),[v,N]);var C=(0,s.useSelector)(nc),A=(0,s.useSelector)((function(e){return e.ui[Ce.T3.visualChecksPage].sectionSizes})),D=(0,c.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:y.stats[O.wO.ALL]},{icon:(0,pn.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:y.stats[O.wO.PASSED]},{icon:(0,pn.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:y.stats[O.wO.FAILED]}]}),[y]),_=(0,c.useCallback)((function(n){e(w.changeViewMode({data:n,page:t}))}),[t]);return c.createElement("div",{className:Qi.container},c.createElement(We,{sizes:A,onSizesChange:function(t){e(w.setSectionSizes({sizes:t,page:Ce.T3.visualChecksPage})),(0,Me.aV)(t[0])?e(w.setBackupSectionSizes({sizes:[Hr.p,100-Hr.p],page:Ce.T3.visualChecksPage})):e(w.setBackupSectionSizes({sizes:t,page:Ce.T3.visualChecksPage}))}},c.createElement(Zi,{title:"Visual Checks",isInitialized:N,treeViewRef:T,treeData:y,treeViewExpandedById:{},currentTreeNodeId:S,onClick:M,statusList:D,statusValue:C,onStatusChange:_}),c.createElement(De,{key:"test-view",className:E()(Qi.card,Qi.testViewCard)},c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackCardCrash,{recommendedAction:"Try to reload page"})},N?c.createElement(c.Fragment,null,n&&c.createElement(tc,{currentNamedImage:n,visibleNamedImageIds:y.allTreeNodeIds,onImageChange:b}),i&&!I&&c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},c.createElement("div",{className:Qi.currentImage},c.createElement(Vn,{result:i}))),!i&&!I&&c.createElement("div",{className:Qi.hint},"This run doesn't have an image with id \"",v.imageId,'"'),I&&c.createElement(Vr,null)):c.createElement(Ji,null)))))}var ic=n(82979),cc=n(52505),sc=n(41493),oc=n(36498),lc=new i.x7r;function uc(){var e=[{title:"Suites",url:"/suites",icon:r.Z,element:c.createElement(zi,null),children:[c.createElement(o.AW,{key:"suite",path:"/suites/:suiteId?/:stateName?/:attempt?",element:c.createElement(zi,null)})]},{title:"Visual Checks",url:"/visual-checks",icon:a.Z,element:c.createElement(ac,null),children:[c.createElement(o.AW,{key:"image",path:"/visual-checks/:imageId?/:attempt?",element:c.createElement(ac,null)})]}],t=ic.Z.getState().config.customScripts;return c.createElement(c.StrictMode,null,c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackAppCrash,null)},c.createElement(cc.h,{scripts:t}),c.createElement(i.f6W,{theme:"light"},c.createElement(i.Nj1,{toaster:lc},c.createElement(s.Provider,{store:ic.Z},c.createElement(oc.s,null),c.createElement(sc.n,null,c.createElement(l.UT,null,c.createElement(qt.Boundary,{fallback:c.createElement(qt.FallbackAppCrash,null)},c.createElement(Oe,{pages:e},c.createElement(g,null),c.createElement(o.Z5,null,c.createElement(o.AW,{element:c.createElement(o.Fg,{to:"/suites"}),path:"/"}),e.map((function(e){return c.createElement(o.AW,{element:c.createElement(qt.Boundary,{watchFor:[e.url],fallback:c.createElement(qt.FallbackAppCrash,null)},e.element),path:e.url,key:e.url},e.children)}))),c.createElement(x,null),c.createElement(i.B1r,null))))))))))}},82022:(e,t,n)=>{n.d(t,{V:()=>s,d:()=>o});var r=n(97698),a=n(40645),i=n(41984),c=n(27202),s=(0,r.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY],(function(e,t,n,r,a,c,s,o,l){var u,d,m,p=l.currentDirection,f=null!==(u=l.availableExpressions.find((function(e){return e.id===l.currentExpressionIds[0]})))&&void 0!==u?u:l.availableExpressions[0],E={results:c,images:s,suites:t,treeViewMode:o,browsersState:a,browsers:r,groups:e,currentSortDirection:p,currentSortExpression:f};if(n.length>0){var g=n.map((function(t){var n=e[t],c=n.browserIds.flatMap((function(e){return a[e].shouldBeShown?[r[e]]:[]})),s=(0,i.pH)(E,n,n.id);return{data:s,children:(0,i.ph)(E,c,s).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),v=(0,i.ow)(E,g),h=(0,i.Ll)(v);return{tree:v,allTreeNodeIds:h.allTreeNodeIds,visibleTreeNodeIds:h.visibleTreeNodeIds}}var I=(0,i.ph)(E,Object.values(r).filter((function(e){return a[e.id].shouldBeShown})));I.children=(0,i.ow)(E,null!==(d=I.children)&&void 0!==d?d:[]);var S=(0,i.Ll)([I]);return{allTreeNodeIds:S.allTreeNodeIds,visibleTreeNodeIds:S.visibleTreeNodeIds,tree:null!==(m=I.children)&&void 0!==m?m:[]}})),o=(0,r.createSelector)([a.O7,a.Wo],(function(e,t){var n={},r=new Set,a=0;Object.values(e).forEach((function(e){var i,c,s=e.parentId,o=e.attempt,l=e.status,u=e.timestamp;(t[s].shouldBeShown||t[s].isHiddenBecauseOfStatus)&&(o>0&&r.add(s),(!n[s]||n[s].timestamp<u)&&(a-=null!==(i=null===(c=n[s])||void 0===c?void 0:c.attempt)&&void 0!==i?i:0,a+=o,n[s]={attempt:o,status:l,timestamp:u}))}));var i={success:0,fail:0,skipped:0,total:Object.keys(n).length,retried:r.size,retries:a,idle:0};return Object.values(n).forEach((function(e){var t=e.status,n=t===c.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(i,n)&&i[n]++})),i}))},11200:(e,t,n)=>{n.d(t,{Qt:()=>d,aV:()=>m,av:()=>s,iT:()=>u,nt:()=>o});var r=n(52902),a=n(36397);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){for(var t=null,n=e;n;){if(n.entityType===r.p.Group){t=n.entityId;break}n=n.parentData}return t},o=function(e){return(0,a.og)(e)?r.p.Browser:r.p.Suite},l=function e(t,n){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(n(c))return c.data;if(c.children){var s=e(c.children,n);if(s)return s}}}catch(e){a.e(e)}finally{a.f()}return null},u=function(e,t){return l(e,(function(e){return e.data.entityType===r.p.Browser&&e.data.entityId===t}))},d=function(e,t){return l(e,(function(e){return e.data.id===t}))},m=function(e){return e<1}},40645:(e,t,n)=>{n.d(t,{Al:()=>a,Bl:()=>o,Dr:()=>f,EZ:()=>i,Fn:()=>g,JK:()=>v,Jx:()=>p,LD:()=>c,O7:()=>m,Qy:()=>E,TJ:()=>l,TZ:()=>u,WY:()=>h,Wo:()=>d,c_:()=>I,jA:()=>s});var r=n(27202),a=function(e){return e.apiValues.toolName},i=function(e){return e.tree.suites.allRootIds},c=function(e){return e.tree.groups.allRootIds},s=function(e){return e.tree.groups.byId},o=function(e){return e.tree.suites.byId},l=function(e){return e.tree.suites.stateById},u=function(e){return e.tree.browsers.byId},d=function(e){return e.tree.browsers.stateById},m=function(e){return e.tree.results.byId},p=function(e){return e.tree.images.byId},f=function(e){return e.app.isInitialized},E=function(e){return e.staticImageAccepter.enabled},g=function(e){return e.gui},v=function(e){return e.ui.suitesPage.treeViewMode},h=function(e){return e.app.sortTestsData},I=function(e){return e.app.availableFeatures.includes(r.Wi)||e.app.availableFeatures.includes(r.B$)}},71011:(e,t,n)=>{n.d(t,{Pz:()=>g,XF:()=>f,hk:()=>v,k:()=>E});var r=n(75098),a=n(60148),i=n(27766),c=n(68891),s=n(41421),o=n(27163),l=n(49014),u=n(93150),d=n(2784),m=n(27202),p=n(76635),f=function(e){switch(e){case m.ih.FAIL:case m.ih.ERROR:return d.createElement(r.Z,{className:"icon-fail"});case m.ih.SUCCESS:return d.createElement(a.Z,{className:"icon-success"});case m.ih.SKIPPED:return d.createElement(i.Z,{className:"icon-skip"});case m.ih.RETRY:return d.createElement(c.Z,{className:"icon-retry"});case m.ih.UPDATED:case m.ih.STAGED:return d.createElement(s.Z,{className:"icon-updated"});case m.ih.RUNNING:return d.createElement(u.yCA,{size:"xs"});case m.ih.COMMITED:return d.createElement(o.Z,{className:"icon-committed"});default:return d.createElement(l.Z,null)}},E=function(e){return"".concat(e.size.width,"×").concat(e.size.height)},g=function(e){return(0,p.isString)(e)?e:(0,p.isObject)(e)?JSON.stringify(e):(0,p.isNull)(e)?"null":(0,p.isUndefined)(e)?"undefined":(0,p.toString)(e)},v=function(e){var t=/https?:\/\/[^\s]*/g,n=e.split(t),r=e.match(t)||[];return d.createElement(d.Fragment,null,n.reduce((function(e,t,n){if(e.push(t),r[n]){var a=r[n].startsWith("www.")?"http://".concat(r[n]):r[n];e.push(d.createElement("a",{key:n,href:a,target:"_blank",rel:"noopener noreferrer"},r[n]))}return e}),[]))}}}]);