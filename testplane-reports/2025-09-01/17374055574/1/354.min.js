(self.webpackChunk=self.webpackChunk||[]).push([[354],{8776:(e,t,r)=>{"use strict";r.d(t,{Km:()=>a,ri:()=>s,wT:()=>n});var n=0,a=.5,s=1},46126:(e,t,r)=>{"use strict";r.d(t,{He:()=>c,JL:()=>i,rW:()=>o,yW:()=>s});var n="INT",a="TEXT",s=65536,i="suites",o="sqlite.db",c=[{name:"suitePath",type:a},{name:"suiteName",type:a},{name:"name",type:a},{name:"suiteUrl",type:a},{name:"metaInfo",type:a},{name:"history",type:a},{name:"description",type:a},{name:"error",type:a},{name:"skipReason",type:a},{name:"imagesInfo",type:a},{name:"screenshot",type:n},{name:"multipleTabs",type:n},{name:"status",type:a},{name:"timestamp",type:n},{name:"duration",type:n},{name:"attachments",type:a}].reduce((function(e,t,r){return e[t.name]=r,e}),{})},58270:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,W:()=>o});var n=r(58615),a=r(37487),s=r(75631),i=150,o={baseHost:"",commandsWithShortHistory:[],customGui:{},customScripts:[],defaultView:a.w.ALL,diffMode:n.n.THREE_UP.id,uiMode:null,enabled:!1,errorPatterns:[],lazyLoadOffset:null,metaInfoBaseUrls:{},path:"",plugins:[],pluginsEnabled:!1,saveErrorDetails:!1,saveFormat:s.t.SQLITE,yandexMetrika:{counterNumber:99267510},staticImageAccepter:{enabled:!1,repositoryUrl:"",pullRequestUrl:"",serviceUrl:"",meta:{},axiosRequestOptions:{}}}},58615:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={THREE_UP:{id:"3-up",title:"List",description:"List. Show images one after another in vertical layout."},THREE_UP_SCALED:{id:"3-up-scaled",title:"SbS",description:"Side by Side. Show images in one row."},THREE_UP_SCALED_TO_FIT:{id:"3-up-scaled-to-fit",title:"SbS (fit screen)",description:"Side by Side. Show images in one row and scale them down if needed to fit the screen."},ONLY_DIFF:{id:"only-diff",title:"Only Diff",description:"Only Diff. Show only diff image, click to highlight diff areas."},SWITCH:{id:"switch",title:"Switch",description:"Switch. Click to switch between expected and actual images."},SWIPE:{id:"swipe",title:"Swipe",description:"Swipe. Move the divider to compare expected and actual images."},ONION_SKIN:{id:"onion-skin",title:"Onion skin",description:"Onion Skin. Change the image opacity to compare expected and actual images."}}},85202:(e,t,r)=>{"use strict";r.d(t,{Lq:()=>a,Tm:()=>n,Tq:()=>i,YS:()=>s});var n="all",a="none",s="errors",i="retries"},28909:(e,t,r)=>{"use strict";r.d(t,{B$:()=>a,Wi:()=>n,qW:()=>s});var n={name:"run-tests"},a={name:"edit-screens"},s={name:"time-travel"}},54077:(e,t)=>{t.SA={RESULT:"result",META:"meta"},t.wK="error",t.Kr=[t.wK],t.QV="."},53516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={JS_EXEC:"js exec",DBS_LOADED:"dbs loaded",DBS_MERGED:"dbs merged",PLUGINS_LOADED:"plugins loaded",DB_EXTRACTED_ROWS:"db extracted rows",FULLY_LOADED:"fully loaded"}},32705:(e,t,r)=>{"use strict"},75631:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n=function(e){return e.SQLITE="sqlite",e}({})},62602:(e,t,r)=>{"use strict";r.d(t,{ES:()=>c,Ez:()=>p,JW:()=>a,MR:()=>o,SH:()=>d,em:()=>s,ih:()=>n,kb:()=>l,pn:()=>u,sS:()=>i,t6:()=>f});var n=function(e){return e.IDLE="idle",e.QUEUED="queued",e.RUNNING="running",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error",e.SKIPPED="skipped",e.UPDATED="updated",e.STAGED="staged",e.COMMITED="commited",e.RETRY="retry",e.FAIL_ERROR="fail_error",e}({}),a=n.IDLE,s=n.QUEUED,i=n.RUNNING,o=n.SUCCESS,c=n.FAIL,u=n.ERROR,l=n.SKIPPED,d=n.UPDATED,p=(n.FAIL_ERROR,n.STAGED),f=n.COMMITED},71770:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>n});var n=" "},14811:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n=function(e){return e.Testplane="testplane",e.Playwright="playwright",e.Jest="jest",e}({})},37487:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n=function(e){return e.ALL="all",e.PASSED="passed",e.FAILED="failed",e.RETRIED="retried",e.SKIPPED="skipped",e.STAGED="staged",e.COMMITED="commited",e}({})},69e3:(e,t,r)=>{"use strict";r.d(t,{Vt:()=>f,c2:()=>v,fd:()=>m,jI:()=>y});var n=r(68079),a=r(34795),s=r(82841),i=r.n(s),o=r(76635),c=r.n(o),u=r(9560),l=r(27202);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){return"SELECT * FROM ".concat(e)},m=function(e,t){return e[l.He.timestamp]-t[l.He.timestamp]},y=function(){var e=(0,a.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c(),e.next=3,Promise.all(t.map(function(){var e=(0,a.Z)(i().mark((function e(t){var a,s,o,c,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.loadDbJsonUrl(t);case 3:if((a=e.sent).data){e.next=7;break}return u.kg.warn("Cannot get data from ".concat(t)),e.abrupt("return",r.formatData?r.formatData(t,a.status):[]);case 7:return s=a.data,o=s.dbUrls,c=s.jsonUrls,l=r.prepareUrls(o,t),d=r.prepareUrls(c,t),e.next=12,Promise.all([y(d,r)].concat((0,n.Z)(l.map((function(e){return r.loadDbUrl(e,r)})))));case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(0),u.kg.warn("Error while downloading databases from ".concat(t),e.t0),e.abrupt("return",r.formatData?r.formatData(t):[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.abrupt("return",e.t0.flattenDeep.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(e){var t=e.db,r=e.dbPaths,n=e.getExistingTables,a=void 0===n?function(){return[]}:n;t.run("PRAGMA page_size = ".concat(l.yW));var s,i=d(r);try{for(i.s();!(s=i.n()).done;){var o=s.value;t.run("ATTACH DATABASE '".concat(o,"' AS attached"));var c=t.prepare("SELECT name FROM attached.sqlite_master WHERE type='table'"),u=a(c);c.free();var p,f=d(u);try{for(f.s();!(p=f.n()).done;){var m=p.value;t.run("CREATE TABLE IF NOT EXISTS ".concat(m," AS SELECT * FROM attached.").concat(m," LIMIT 0")),t.run("INSERT OR IGNORE INTO ".concat(m," SELECT * FROM attached.").concat(m))}}catch(e){f.e(e)}finally{f.f()}t.run("DETACH attached")}}catch(e){i.e(e)}finally{i.f()}}},40161:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var n={GENERAL_ERROR:"Error",IMAGE_DIFF:"ImageDiffError",NO_REF_IMAGE:"NoRefImageError",INVALID_REF_IMAGE:"InvalidRefImageError",ASSERT_VIEW:"AssertViewError"}},18553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(9249),a=r(87371),s=r(45754),i=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(72779),f=r.n(p),m=r(93150);function y(e){var t=v();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){(0,s.Z)(r,e);var t=y(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.label,r=e.title,n=e.handler,a=e.isActive,s=e.isAction,i=e.isSuiteControl,o=e.isDisabled,c=void 0!==o&&o,l=e.isRunning,d=void 0!==l&&l,p=e.extendClassNames,y=e.dataTestId,v=f()({"button_type_suite-controls":i},p);return u.createElement(m.zxk,{title:r,view:a?"outlined-action":s?"action":"outlined",loading:d,onClick:n,className:v,disabled:c,qa:null==y?void 0:y.toString()},t)}}]),r}(u.Component);(0,c.Z)(g,"propTypes",{label:d().oneOfType([d().string,d().object]).isRequired,title:d().string,handler:d().func.isRequired,isActive:d().bool,isAction:d().bool,isDisabled:d().bool,isSuiteControl:d().bool,isControlGroup:d().bool,isRunning:d().bool,extendClassNames:d().oneOfType([d().array,d().string]),dataTestId:d().oneOfType([d().string,d().number])})},42874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(9249),a=r(87371),s=r(80753),i=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(13980),p=r.n(d),f=r(72779),m=r.n(f),y=r(93150),v=r(32579);function g(e){var t=I();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var b=function(e){(0,i.Z)(r,e);var t=g(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,s.Z)(e),"_onUpdate",(function(t){t.length&&e.props.handler(t[0])})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.size,r=e.value,n=e.label,a=e.options,s=e.extendClassNames,i=e.extendPopupClassNames,o=e.qa,c=m()("select","select_type_control",s),u=m()(i);return l.createElement("div",{className:c},l.createElement(v.Z,{size:"m",pin:"round-brick"},n),l.createElement(y.PhF,{disablePortal:!0,className:"select__dropdown-".concat(t||"s"),selection:!0,options:a,value:[r],onUpdate:this._onUpdate,pin:"brick-round",qa:o,popupClassName:u}))}}]),r}(l.Component);(0,u.Z)(b,"propTypes",{size:p().string,label:p().string.isRequired,value:p().string.isRequired,handler:p().func.isRequired,options:p().arrayOf(p().shape({value:p().string,text:p().string})).isRequired,extendClassNames:p().oneOfType([p().array,p().string]),extendPopupClassNames:p().oneOfType([p().array,p().string]),qa:p().string})},32579:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(7896),a=r(59740),s=r(2784),i=r(13980),o=r.n(i),c=r(93150),u=r(72779),l=r.n(u),d=["className"],p=function(e){var t=e.className,r=(0,a.Z)(e,d);return s.createElement(c.__J,(0,n.Z)({className:l()("custom-label",t)},r))};p.propTypes={className:o().string};const f=p},922:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(7896),a=r(96234),s=r(2784),i=r(13980),o=r.n(i),c=r(72779),u=r.n(c),l=r(76635),d=r(93150),p=r(97407);function f(e){var t=(0,s.useState)(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1],c=function(){var t=e.content;return(0,l.isFunction)(t)?t():t},f=e.title,m=e.content,y=e.extendClassNames,v=u()("details",y),g=(0,s.useContext)(p.O).measure;return(0,s.useLayoutEffect)((function(){null==g||g()}),[i]),(0,l.isEmpty)(m)&&!(0,l.isFunction)(m)?s.createElement("div",{className:v},f):s.createElement(d.pJF,{className:v,onUpdate:function(){var t,r=!i;o(r),null===(t=e.onClick)||void 0===t||t.call(e,{isOpened:r})},size:"l",expanded:i},s.createElement(d.pJF.Summary,null,(function(e,t){return s.createElement("div",{className:u()(v,"details__summary"),"aria-controls":e.ariaControls,onClick:e.onClick,id:e.id},s.createElement("div",{className:"details__expand-button",onClick:function(e){return e.stopPropagation()}},t),f)})),function(){if(!i)return null;var t=e.asHtml?null:c(),r=e.asHtml?{dangerouslySetInnerHTML:{__html:c()}}:{};return s.createElement("div",(0,n.Z)({className:"details__content"},r),t)}())}f.propTypes={id:o().string,ariaControls:o().arrayOf(o().string),title:o().oneOfType([o().element,o().string]).isRequired,content:o().oneOfType([o().func,o().string,o().element,o().array]).isRequired,extendClassNames:o().oneOfType([o().array,o().string]),onClick:o().func,asHtml:o().bool}},89288:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(9249),a=r(87371),s=r(80753),i=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(4792),p=r(18717),f=r(13980),m=r.n(f),y=r(72779),v=r.n(y),g=r(66414),I=r(34871),b=r(64141),E=r(9560);function h(e){var t=O();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var S=function(e){(0,i.Z)(r,e);var t=h(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,s.Z)(e),"onViewInBrowser",(function(t){t.stopPropagation(),e.props.actions.viewInBrowser()})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.suiteUrl,r=e.baseHost,n=e.extendClassNames,a=v()("view-in-browser",t?"view-in-browser_active":"view-in-browser_disabled",n);return t?l.createElement("a",{className:a,href:(0,E.zV)(t,r),onClick:this.onViewInBrowser,title:"view in browser",target:"_blank","data-qa":"view-in-browser",rel:"noreferrer"},l.createElement(I.Z,{color:"black"})):l.createElement("i",{className:a,"aria-hidden":"true"},l.createElement(g.Z,{color:"black"}))}}]),r}(l.Component);(0,u.Z)(S,"propTypes",{resultId:m().string.isRequired,extendClassNames:m().oneOfType([m().array,m().string]),suiteUrl:m().string,baseHost:m().string,actions:m().object.isRequired});const w=(0,d.connect)((function(e,t){var r,n,a=e.tree,s=e.view,i=t.resultId,o=a.results.byId[i];return{suiteUrl:null!==(r=null===(n=o.metaInfo)||void 0===n?void 0:n.url)&&void 0!==r?r:o.suiteUrl,baseHost:s.baseHost}}),(function(e){return{actions:(0,p.bindActionCreators)(b,e)}}))(S)},97407:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n=(0,r(2784).createContext)({measure:function(){}})},99913:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(9249),a=r(87371),s=r(45754),i=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(4792),d=r(13980),p=r.n(d),f=r(24805),m=r(9560),y=r(89288),v=r(81845);function g(e){var t=I();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var b=function(e){(0,s.Z)(r,e);var t=g(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_renderImages",value:function(){var e=this.props.image;return u.createElement("div",{className:"image-box__container"},(0,m.S5)(e.error)?this._renderImageBox(e.actualImg):u.createElement(f.Z,{image:e}))}},{key:"_renderImageBox",value:function(e){return u.createElement(v.w,{image:e})}},{key:"_renderTitle",value:function(){var e=this.props,t=e.testName,r=e.browserName,n=e.image,a=n.stateName,s=n.parentId,i=n.error,o=(0,m.S5)(i)?"actual":"expected, actual, diff";return u.createElement("div",{className:"screenshot-accepter__title"},u.createElement("span",{className:"screenshot-accepter__test-name","data-qa":"screenshot-accepter-test-name"},t),u.createElement("span",{className:"screenshot-accepter__title-divider"},"/"),u.createElement("span",{className:"screenshot-accepter__browser-name"},r),u.createElement("span",{className:"screenshot-accepter__title-divider"},"/"),u.createElement("span",{className:"screenshot-accepter__state-name"},a),u.createElement("span",{className:"screenshot-accepter__images-desc"}," (",o,")"),u.createElement(y.Z,{extendClassNames:"screenshot-accepter__icon_view-in-browser",resultId:s}))}},{key:"render",value:function(){return u.createElement("div",{className:"screenshot-accepter__body container"},this.props.image?u.createElement(u.Fragment,null,this._renderTitle(),this._renderImages()):u.createElement("div",{className:"screenshot-accepter__completion-info"},"All screenshots are accepted. Well done! 🎉"))}}]),r}(u.Component);(0,c.Z)(b,"propTypes",{image:p().shape({stateName:p().string.isRequired,expectedImg:p().object,actualImg:p().object,diffImg:p().object,error:p().object,parentId:p().string}),testName:p().string,browserName:p().string});const E=(0,l.connect)((function(e,t){var r=e.tree,n=t.image,a=n?r.results.byId[n.parentId]:{},s=n?r.browsers.byId[a.parentId]:{};return{testName:s.parentId,browserName:s.name}}))(b)},41381:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(9249),a=r(87371),s=r(80753),i=r(45754),o=r(11987),c=r(95058),u=r(56666),l=r(2784),d=r(39961),p=r(13980),f=r.n(p),m=r(76635),y=function(e){var t=e.done,r=e.total,n=e.dataTestId,a=100*(t/r).toFixed(2);return l.createElement("span",{className:"progress-bar","data-content":"".concat(t,"/").concat(r),"data-qa":n},l.createElement("span",{className:"progress-bar__container",style:{width:"".concat(a,"%")}}))};y.propTypes={done:f().number.isRequired,total:f().number.isRequired,dataTestId:f().string};const v=y;var g=r(18553),I=r(42874),b=r(33751),E=r(58615),h=r(81146),O=r(10479),S=r(47486),w=r(27060),T=r(37010),_=r(78272);function R(e){var t=P();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var C=function(e){(0,i.Z)(r,e);var t=R(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,u.Z)((0,s.Z)(a),"handlePrevScreenshot",(function(e){e.preventDefault();var t=a.props,r=t.stateNameImageIds,n=t.activeImageIndex;(0,t.onActiveImageChange)(Z(n,r.length))})),(0,u.Z)((0,s.Z)(a),"handleNextScreenshot",(function(e){e.preventDefault();var t=a.props,r=t.stateNameImageIds,n=t.activeImageIndex;(0,t.onActiveImageChange)(N(n,r.length))})),(0,u.Z)((0,s.Z)(a),"handlePrevRetry",(function(){var e=a.props,t=e.images,r=e.retryIndex;(0,e.onRetryChange)(Z(r,t.length))})),(0,u.Z)((0,s.Z)(a),"handleNextRetry",(function(){var e=a.props,t=e.images,r=e.retryIndex;(0,e.onRetryChange)(N(r,t.length))})),(0,u.Z)((0,s.Z)(a),"handleScreenshotAccept",(function(e){e.preventDefault();var t=a.props,r=t.images,n=t.retryIndex,s=t.onScreenshotAccept;null!==n&&s(r[n].id)})),(0,u.Z)((0,s.Z)(a),"handleScreenUndo",(function(e){e.preventDefault(),a.props.onScreenshotUndo()})),a._keyMap={PREV_SCREENSHOT:["up","w"],NEXT_SCREENSHOT:["down","s"],PREV_RETRY:["left","a"],NEXT_RETRY:["right","d"],ACCEPT_SCREENSHOT:["space","enter"],UNDO_SCREEN:"backspace",CLOSE_MODAL:"escape",IGNORE_META_UP:"meta+up",IGNORE_META_DOWN:"meta+down",IGNORE_META_S:"meta+s"},a._keyHandlers={PREV_SCREENSHOT:a.handlePrevScreenshot,NEXT_SCREENSHOT:a.handleNextScreenshot,PREV_RETRY:a.handlePrevRetry,NEXT_RETRY:a.handleNextRetry,ACCEPT_SCREENSHOT:a.handleScreenshotAccept,UNDO_SCREEN:a.handleScreenUndo,CLOSE_MODAL:a.props.onClose,IGNORE_META_UP:function(){},IGNORE_META_DOWN:function(){},IGNORE_META_S:function(){}},a}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.images,a=e.stateNameImageIds,s=e.retryIndex,i=e.showMeta,o=e.onClose,c=e.onRetryChange,u=e.onShowMeta,p=e.onCommitChanges,f=e.totalImages,y=e.acceptedImages,_=e.staticImageAccepter,R=(0,m.uniqBy)(n,"id").map((function(e){return e.parentId})),P=a.length<=1,C=_.accepterDelayedImages.length,Z=_.imagesToCommitCount+C,N=_.enabled?Boolean(_.accepterDelayedImages.length):Boolean(y);return l.createElement(l.Fragment,null,l.createElement(d.GlobalHotKeys,{keyMap:this._keyMap,handlers:this._keyHandlers}),l.createElement("header",{className:"screenshot-accepter__header container"},l.createElement("div",{className:"screenshot-accepter__controls state-controls"},l.createElement(g.Z,{label:l.createElement(h.Z,null),title:"Show previous image (↑,w)",isSuiteControl:!0,isDisabled:P,extendClassNames:"screenshot-accepter__arrow-up-btn",handler:this.handlePrevScreenshot}),l.createElement(g.Z,{label:l.createElement(O.Z,null),title:"Show next image (↓,s)",isSuiteControl:!0,isDisabled:P,extendClassNames:"screenshot-accepter__arrow-down-btn",handler:this.handleNextScreenshot}),l.createElement(g.Z,{label:l.createElement(l.Fragment,null,l.createElement(S.Z,null),"Accept"),title:"Accept image (Space,Enter)",isSuiteControl:!0,isDisabled:0===n.length,extendClassNames:"screenshot-accepter__accept-btn",handler:this.handleScreenshotAccept,dataTestId:"screenshot-accepter-accept"}),l.createElement(g.Z,{label:l.createElement(l.Fragment,null,l.createElement(w.Z,null),"Undo"),title:"Revert last updated screenshot",isDisabled:!N,isSuiteControl:!0,extendClassNames:"screenshot-accepter__undo-btn",handler:this.handleScreenUndo,dataTestId:"screenshot-accepter-undo"}),l.createElement(g.Z,{label:"Show meta",title:"Show test meta info",isActive:i,isDisabled:0===n.length,isSuiteControl:!0,extendClassNames:"screenshot-accepter__show-meta-btn",handler:u}),l.createElement(I.Z,{size:"m",label:"Diff mode",value:r.diffMode,handler:function(e){return t.setDiffMode({diffModeId:e})},options:Object.values(E.n).map((function(e){return{value:e.id,content:e.title}})),extendClassNames:"screenshot-accepter__diff-mode-select"}),l.createElement(b.Z,{title:"Switch to selected attempt (left: ←,a; right: →,d)",resultIds:R,retryIndex:s,onChange:c}),l.createElement(g.Z,{label:l.createElement(l.Fragment,null,l.createElement(T.Z,null),"Switch accept mode"),title:"Close mode with fast screenshot accepting (Escape)",isSuiteControl:!0,extendClassNames:"screenshot-accepter__arrows-close-btn",handler:o,dataTestId:"screenshot-accepter-switch-accept-mode"}),_.enabled&&l.createElement(g.Z,{label:"Commit ".concat(Z," images"),title:"Send request with imagesInfo to 'staticImageAccepter.serviceUrl'",isDisabled:0===Z,isSuiteControl:!0,handler:p}),l.createElement(v,{done:y,total:f,dataTestId:"screenshot-accepter-progress-bar"}))))}}]),r}(l.Component);function Z(e,t){return e>0?e-1:t-1}function N(e,t){return e<t-1?e+1:0}(0,u.Z)(C,"propTypes",{view:f().shape({diffMode:f().string.isRequired}),images:f().arrayOf(f().shape({id:f().string,parentId:f().string})),stateNameImageIds:f().arrayOf(f().string),retryIndex:f().number,activeImageIndex:f().number,showMeta:f().bool.isRequired,totalImages:f().number.isRequired,acceptedImages:f().number.isRequired,onClose:f().func.isRequired,onRetryChange:f().func.isRequired,onActiveImageChange:f().func.isRequired,onScreenshotAccept:f().func.isRequired,onScreenshotUndo:f().func.isRequired,onShowMeta:f().func.isRequired,onCommitChanges:f().func.isRequired,staticImageAccepter:_.O$,actions:f().object.isRequired})},26611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(9249),a=r(87371),s=r(45754),i=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(28978);function f(e){var t=m();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var y=function(e){(0,s.Z)(r,e);var t=f(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.showMeta,r=e.image;return t&&r?u.createElement(u.Fragment,null,u.createElement("div",{className:"screenshot-accepter__meta container"},u.createElement(p.o,{resultId:r.parentId,qa:"meta-info"})),u.createElement("hr",{className:"tab__separator"})):null}}]),r}(u.Component);(0,c.Z)(y,"propTypes",{showMeta:d().bool.isRequired,image:d().shape({parentId:d().string})})},33751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(9249),a=r(87371),s=r(45754),i=r(11987),o=r(95058),c=r(56666),u=r(2784),l=r(13980),d=r.n(l),p=r(13583);function f(e){var t=m();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var y=function(e){(0,s.Z)(r,e);var t=f(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.resultIds,r=e.retryIndex,n=e.title,a=e.onChange;return t.length<=1?null:u.createElement("div",{className:"tab-switcher"},t.map((function(e,t){var s=t===r;return u.createElement(p.j,{key:e,resultId:e,isActive:s,title:n,onClick:function(){return a(t)}})})))}}]),r}(u.Component);(0,c.Z)(y,"propTypes",{resultIds:d().arrayOf(d().string).isRequired,retryIndex:d().number,title:d().string,onChange:d().func.isRequired})},24805:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(96234),a=r(93150),s=r(13980),i=r.n(s),o=r(2784),c=r(4792),u=r(27202),l=r(35682),d=r(74677),p=r(44049),f=r(7065),m=r(55476),y=r(50929),v=r(64714),g=r(55862),I=function(e){var t=e.image,r=e.diffMode,s=e.isScreenshotAccepterOpened,i=(0,o.useState)(r),c=(0,n.Z)(i,2),g=c[0],I=c[1];(0,o.useEffect)((function(){I(r)}),[r,I]);var b=function(e,t){return s?null:o.createElement("div",{className:"image-box__title"},"".concat(e," (").concat(t.size.width,"x").concat(t.size.height,")"))};return o.createElement(o.Fragment,null,!s&&o.createElement("div",{className:"diff-modes"},o.createElement(a.sMk,{value:g,onUpdate:I},o.createElement(a.tdY,{size:"m"},Object.values(u.nx).map((function(e){return o.createElement(a.OK9,{key:e.id,value:e.id},e.label)}))))),function(){var e=Object.assign({},t.expectedImg,{label:b("Expected",t.expectedImg)}),r=Object.assign({},t.actualImg,{label:b("Actual",t.actualImg)}),n=Object.assign({},t.diffImg,{label:b("Diff",t.diffImg),diffClusters:t.diffClusters});switch(g){case u.nx.ONLY_DIFF.id:return o.createElement(f._,{diff:n});case u.nx.SWITCH.id:return o.createElement(l.H,{expected:e,actual:r});case u.nx.SWIPE.id:return o.createElement(d.p,{expected:e,actual:r});case u.nx.ONION_SKIN.id:return o.createElement(p.n,{expected:e,actual:r});case u.nx.THREE_UP_SCALED.id:return o.createElement(y.P,{expected:e,actual:r,diff:n});case u.nx.THREE_UP_SCALED_TO_FIT.id:var a=s?"100cqh":"calc(100vh - 180px)";return o.createElement(m.g,{desiredHeight:a,expected:e,actual:r,diff:n});case u.nx.THREE_UP.id:default:return o.createElement(v.t,{expected:e,actual:r,diff:n})}}())};I.propTypes={image:i().shape({expectedImg:i().object.isRequired,actualImg:i().object.isRequired,diffImg:i().object.isRequired,diffClusters:i().array,size:i().shape({width:i().number,height:i().number})}).isRequired,diffMode:i().string,isScreenshotAccepterOpened:i().bool.isRequired};const b=(0,c.connect)((function(e){var t=e.modals;return{diffMode:e.view.diffMode,isScreenshotAccepterOpened:t.some((function(e){return e.id===g.types.SCREENSHOT_ACCEPTER}))}}))(I)},51033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2784);function a(e,t,r,a){var s=(0,n.useRef)(t);(0,n.useLayoutEffect)((function(){s.current=t}),[t]),(0,n.useEffect)((function(){var t=r&&r.current||window;if(t&&t.addEventListener){var n=function(e){return s.current(e)};return t.addEventListener(e,n,a),function(){t.removeEventListener(e,n,a)}}}),[e,r,a])}},57159:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(96234),a=r(2784),s=r(51033),i=r(31804);function o(e,t){var r=(0,a.useCallback)((function(){return i.rV(e,t)}),[e,t]),o=(0,a.useState)(r),c=(0,n.Z)(o,2),u=c[0],l=c[1],d=(0,a.useCallback)((function(t){var r=Object.assign(new Event("local-storage"),{key:e}),n=t instanceof Function?t(u):t;i.LS(e,n),l(n),window.dispatchEvent(r)}),[]);(0,a.useEffect)((function(){l(r())}),[]);var p=(0,a.useCallback)((function(t){t&&t.key===e&&l(r())}),[e,r]);return(0,s.Z)("storage",p),(0,s.Z)("local-storage",p),[u,d]}},82931:(e,t,r)=>{"use strict";r.d(t,{$i:()=>T,Kt:()=>S,Sc:()=>w,dP:()=>h});var n=r(56666),a=r(34795),s=r(82841),i=r.n(s),o=r(87741),c=r(76635),u=r(53516),l=r(8047),d=r(21942),p=r(97566),f=r(43134),m=r(48394),y=r(24298),v=r(31804),g=r(32444),I=r(27202);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isNewUi;return function(){var t=(0,a.Z)(i().mark((function t(r){var n,a,s,c,f,b,h,O,S,w,T;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(n=performance)||void 0===n||null===(a=n.mark)||void 0===a||a.call(n,u.Z.JS_EXEC),t.prev=1,t.next=4,o.default.get("/init");case 4:if((h=t.sent).data){t.next=7;break}throw new Error("Could not load app data. The report might be broken. Please check your project settings or try deleting results folder and relaunching UI server.");case 7:if(!h.data.features.some((function(e){return e.name===I.qW.name}))){t.next=11;break}return O=Boolean(v.rV(y.Fe.TimeTravelUseRecommendedSettings,!0)),t.next=11,(0,g.r)({useRecommendedSettings:O});case 11:return S=(0,l.pU)(),t.next=14,(0,l.vO)(S.href);case 14:return w=t.sent,null===(s=performance)||void 0===s||null===(c=s.mark)||void 0===c||c.call(s,u.Z.DBS_LOADED),t.next=18,d.GZ(h.data.config);case 18:null===(f=performance)||void 0===f||null===(b=f.mark)||void 0===b||b.call(f,u.Z.PLUGINS_LOADED),r((i=E(E({},h.data),{},{db:w,isNewUi:e}),{type:p.Z.INIT_GUI_REPORT,payload:i})),h.data.customGuiError&&(T=h.data.customGuiError,r((0,m.uX)("initGuiReport",{name:"CustomGuiError",message:null==T?void 0:T.response.data})),delete h.data.customGuiError),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),r((0,m.uX)("initGuiReport",t.t0));case 26:case"end":return t.stop()}var i}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return{type:p.Z.INIT_STATIC_REPORT,payload:e}},S=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isNewUi;return function(){var t=(0,a.Z)(i().mark((function t(r){var a,s,o,y,v,g,I,b,h,S,w,T,_,R,P,C,Z,N,A,j,D,x,B;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(a=performance)||void 0===a||null===(s=a.mark)||void 0===s||s.call(a,u.Z.JS_EXEC),I=window.data||{},b=[],h=null,t.prev=4,R=new URL("databaseUrls.json",window.location.href),t.next=8,(0,l.fB)([R.href],(function(e,t){r({type:p.Z.UPDATE_LOADING_PROGRESS,payload:(0,n.Z)({},e,t)})}));case 8:return P=t.sent,null===(S=performance)||void 0===S||null===(w=S.mark)||void 0===w||w.call(S,u.Z.DBS_LOADED),d.sy(I.config),b=P.map((function(e){return{url:e.url,status:e.status,success:!!e.data}})),C=P.map((function(e){return e.data})).filter((function(e){return e})),t.next=15,(0,l.By)(C);case 15:h=t.sent,null===(T=performance)||void 0===T||null===(_=T.mark)||void 0===_||_.call(T,u.Z.DBS_MERGED),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),r((0,m.uX)("thunkInitStaticReport",t.t0));case 22:return t.next=24,d.GZ(I.config);case 24:if(null===(o=performance)||void 0===o||null===(y=o.mark)||void 0===y||y.call(o,u.Z.PLUGINS_LOADED),Z=f.N.create(),h&&!(0,c.isEmpty)(b)){t.next=29;break}return r(O(E(E({},I),{},{db:h,fetchDbDetails:b,tree:Z.build([]).tree,stats:null,skips:[],browsers:[],isNewUi:e}))),t.abrupt("return");case 29:N=(0,l.xH)(h),null===(v=performance)||void 0===v||null===(g=v.mark)||void 0===g||g.call(v,u.Z.DB_EXTRACTED_ROWS),A=Z.build(N),j=A.tree,D=A.stats,x=A.skips,B=A.browsers,r(O(E(E({},I),{},{db:h,fetchDbDetails:b,tree:j,stats:D,skips:x,browsers:B,isNewUi:e})));case 33:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(e){return t.apply(this,arguments)}}()},w=function(){return{type:p.Z.FIN_GUI_REPORT}},T=function(){return{type:p.Z.FIN_STATIC_REPORT}}},98631:(e,t,r)=>{"use strict";r.d(t,{O:()=>D,b:()=>j});var n={};r.r(n),r.d(n,{stats:()=>w,tree:()=>T,view:()=>_});var a=r(68079),s=r(34795),i=r(82841),o=r.n(i),c=r(2784),u=r(18717),l=r(4792),d=r(76635),p=r.n(d),f=r(13980),m=r.n(f),y=r(72779),v=r.n(y),g=r(84780),I=r(88100),b=r.n(I),E=r(90408),h=r(15729),O=r(97698),S=r(87741),w=r(47039),T=r(69875),_=r(51869),R=r(97566),P=r(922),C={react:c,redux:u,"react-redux":l,lodash:p(),"prop-types":m(),classnames:v(),"semantic-ui-react":g,"react-markdown":b(),"reduce-reducers":E.Z,immer:h.ZP,reselect:O,axios:S.default,components:{Details:P.Z}},Z={},N={},A=function(e){return"plugins/".concat(encodeURIComponent(e),"/plugin.js")};function j(e){Z[e]=Z[e]||U(e)}function D(e,t){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N[t]){e.next=2;break}return e.abrupt("return",N[t]);case 2:return n=Z[t]||U(t),e.abrupt("return",N[t]=n.then(M).then((function(e){return B(e,t,r)})).then(null,(function(e){return console.error('Plugin "'.concat(t,'" failed to load.'),e),null})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,r){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(o().mark((function e(t,s,i){var c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p().isObject(t)){e.next=3;break}return e.abrupt("return",null);case 3:if("function"==typeof(t=t.default||t)&&(t=[t]),!Array.isArray(t)){e.next=13;break}return c=t.slice(0,-1),t=p().last(t),u=c.map((function(e){return C[e]})),e.next=11,Promise.resolve().then(r.bind(r,64141));case 11:return l=e.sent,e.abrupt("return",t.apply(void 0,(0,a.Z)(u).concat([{pluginName:s,pluginConfig:i,actions:l,actionNames:R.Z,selectors:n}])));case 13:return e.abrupt("return",t);case 16:return e.prev=16,e.t0=e.catch(0),console.error('Error on "'.concat(s,'" plugin initialization:'),e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function M(e){var t=function(e){return"function __".concat(e,"_html_reporter_register_plugin__(p) {return p;};")};return new Function("".concat(t("testplane")," ").concat(t("hermione")," return ").concat(e,";"))()}function U(e){return L.apply(this,arguments)}function L(){return(L=(0,s.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.next=3,S.default.get(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},31804:(e,t,r)=>{"use strict";r.d(t,{LS:()=>s,rV:()=>i});var n="html-reporter";function a(e){return"".concat(n,":").concat(e)}function s(e,t){window.localStorage.setItem(a(e),JSON.stringify(t))}function i(e,t){if(!function(e){return window.localStorage.hasOwnProperty(a(e))}(e))return t;var r=window.localStorage.getItem(a(e));try{return JSON.parse(r)}catch(e){return r}}},82979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>wr});var n,a,s=r(18717),i=r(43292),o=r(90408),c=r(76635),u=r.n(c),l=r(56666),d=r(58270),p=r(37487),f=r(58615),m=r(85202),y=r(54077),v=r(27202),g=r(36397),I=r(45037);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const h=Object.assign({config:d.W},{gui:!0,running:!1,processing:!1,stopping:!1,autoRun:!1,skips:[],browsers:[],groupedTests:{result:{byKey:y.Kr.reduce((function(e,t){return E(E({},e),{},(0,l.Z)({},t,[]))}),{}),allKeys:y.Kr},meta:{byKey:{},allKeys:[]}},tree:{groups:{byId:{},allRootIds:[]},suites:{byId:{},allIds:[],allRootIds:[],failedRootIds:[],stateById:{}},browsers:{byId:{},stateById:{},allIds:[]},results:{byId:{},stateById:{},allIds:[]},images:{byId:{},stateById:{},allIds:[]}},closeIds:[],apiValues:{toolName:v.YO.Testplane,extraItems:{},metaInfoExtenders:{},imagesSaver:{saveImg:function(){return""}},reportsSaver:{saveReportData:function(){return""}},snapshotsSaver:{saveSnapshot:function(){return""}}},loading:{},modals:[],stats:{all:{total:0,updated:0,passed:0,failed:0,skipped:0,retries:0,warned:0},perBrowser:{}},view:{diffMode:f.n.THREE_UP.id,expand:m.YS,baseHost:"",strictMatchFilter:!1,keyToGroupTestsBy:""},db:void 0,fetchDbDetails:[],progressBar:{currentRootSuiteId:null},notifications:[],staticImageAccepter:{enabled:!1,acceptableImages:{},accepterDelayedImages:[],imagesToCommitCount:0},app:(n={isNewUi:!1,isInitialized:!1,availableFeatures:[]},(0,l.Z)(n,g.T3.suitesPage,{currentBrowserId:null,currentTreeNodeId:null,currentGroupId:null,currentStepId:null,currentHighlightedStepId:null,viewMode:p.w.ALL,nameFilter:"",useRegexFilter:!1,useMatchCaseFilter:!1,filteredBrowsers:[]}),(0,l.Z)(n,g.T3.visualChecksPage,{currentNamedImageId:null,viewMode:p.w.ALL,nameFilter:"",useRegexFilter:!1,useMatchCaseFilter:!1,filteredBrowsers:[]}),(0,l.Z)(n,"loading",{taskTitle:"Loading Testplane UI",isVisible:!0,isInProgress:!0,progress:{}}),(0,l.Z)(n,"staticImageAccepterModal",{commitMessage:"chore: update screenshot references"}),(0,l.Z)(n,"groupTestsData",{availableSections:[],availableExpressions:[],currentExpressionIds:[]}),(0,l.Z)(n,"sortTestsData",{availableExpressions:[],currentExpressionIds:[],currentDirection:g.Sr.Asc,previousExpressionIds:[],previousDirection:g.Sr.Asc}),(0,l.Z)(n,"guiServerConnection",{isConnected:!1}),(0,l.Z)(n,"snapshotsPlayer",{isActive:!1,highlightStartTime:0,highlightEndTime:0,goToTime:0}),n),ui:(a={},(0,l.Z)(a,g.T3.suitesPage,{treeViewMode:g.xW.Tree,retryIndexByTreeNodeId:{},expandedSectionsById:{},expandedStepsByResultId:{},expandedTreeNodesById:{},sectionSizes:[I.p,100-I.p],backupSectionSizes:[I.p,100-I.p],isSnapshotsPlayerVisible:!0}),(0,l.Z)(a,g.T3.visualChecksPage,{sectionSizes:[I.p,100-I.p],backupSectionSizes:[I.p,100-I.p]}),(0,l.Z)(a,"staticImageAccepterToolbar",{offset:{x:0,y:0}}),a),timestamp:0,browserFeatures:{}});var O=r(78505);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=r(97566);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=r(21990);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=r(31804),B=r(94646),k=new Set(Object.values(p.w));function M(e){var t=(0,B.mB)(e,{browser:"filteredBrowsers"});return t.filteredBrowsers=(0,B.V$)(t.filteredBrowsers),(0,c.has)(t,"viewMode")&&!k.has(t.viewMode)&&(t.viewMode=d.W.defaultView),(0,c.pick)(t,["filteredBrowsers","testNameFilter","strictMatchFilter","retryIndex","viewMode","expand"])}var U=function(e,t,r){return(0,Z.rm)(e,{app:(0,l.Z)({},t,r)})};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=r(14054);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=r(8047);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=r(68079),ne=r(15729),ae=r(69875),se=r(9560),ie=r(96234),oe=r(8776);function ce(e,t){return e.browsers.byId[t].parentId}function ue(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.browsers.allIds.forEach((function(n){le(e,n,t,r)}))}function le(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,Z.FZ)(n,["browsers","stateById"]),he(e.browsers.stateById,t,r,n.browsers.stateById)}function de(e,t){(0,c.isEmpty)(t)&&(t=e.browsers.allIds),[].concat(t).forEach((function(t){var r=function(e,t){return e.browsers.byId[t].resultIds.length-1}(e,t);le(e,t,{retryIndex:r})}))}function pe(e){var t=e.tree,r=e.view,n=e.app,a=void 0===n?{}:n,s=e.browserIds,i=void 0===s?[]:s,o=e.diff,u=void 0===o?t:o;(0,Z.FZ)(u,["browsers","byId"]),(0,c.isEmpty)(i)&&(i=t.browsers.allIds);var l=r.strictMatchFilter,d=a.suitesPage?a.suitesPage:{},p=d.viewMode,f=d.filteredBrowsers,m=d.nameFilter,y=d.useMatchCaseFilter,v=d.useRegexFilter,g=a.isNewUi,I=void 0!==g&&g;i.forEach((function(e){(0,Z.FZ)(u.browsers.byId,[e]);var r=t.browsers.byId[e],n=u.browsers.byId[e],a=(0,Z.xg)(r,n,"parentId"),s=(0,c.last)((0,Z.xg)(r,n,"resultIds")),i=(0,Z.xg)(t,u,["results","byId",s,"status"]),o=!0,d=!1,g=(0,G.TV)(a,r.name,m,{strictMatchFilter:l,useMatchCaseFilter:y,useRegexFilter:v,isNewUi:I});(0,G.kp)(r,f,u)?(0,G.Gz)(r,i,p,u)?g.isMatch||(o=!1):(o=!1,d=!0):o=!1;var b=o?t.browsers.stateById[e].checkStatus:oe.wT;le(t,e,{shouldBeShown:o,isHiddenBecauseOfStatus:d,checkStatus:b,fuzzyMatchScore:g.score},u)}))}function fe(e){var t=e.tree,r=e.expand,n=e.browserIds,a=void 0===n?[]:n,s=e.diff,i=void 0===s?t:s;(0,c.isEmpty)(a)&&(a=t.browsers.allIds),a.forEach((function(e){var n=t.browsers.byId[e],a=function(e,t,r,n){var a=function(){return(0,G.D8)(t)},s=function(){return[].concat((0,c.initial)(e.resultIds)).map((function(e){return n.results.byId[e]})).some((function(e){return(0,G.D8)(e)}))};return Oe(r,{errorsCb:a,retriesCb:s})}(n,t.results.byId[(0,c.last)(n.resultIds)],r,t);le(t,e,{shouldBeOpened:a},i)}))}function me(e){var t=e.tree,r=e.expand,n=e.imageIds,a=void 0===n?[]:n,s=e.diff,i=void 0===s?t:s;u().isEmpty(a)&&(a=t.images.allIds),a.forEach((function(e){var n=Ie(t.images.byId[e],r);ve(t,e,{shouldBeOpened:n},i)}))}function ye(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.images.allIds.forEach((function(n){ve(e,n,t,r)}))}function ve(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,Z.FZ)(n,["images","stateById"]),he(e.images.stateById,t,r,n.images.stateById)}function ge(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,Z.FZ)(n,["images","byId"]),he(e.images.byId,t,{status:r},n.images.byId)}function Ie(e,t){var r=function(){return(0,G.D8)(e)};return Oe(t,{errorsCb:r,retriesCb:r})}function be(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function he(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;Object.keys(r).forEach((function(a){(0,c.get)(e[t],a)!==r[a]&&(0,c.set)(n,[t,a],r[a])}))}function Oe(e,t){var r=t.errorsCb,n=t.retriesCb;return e===m.YS?r():e===m.Tq?n():e===m.Tm}function Se(e,t,r){for(var n=function(){var e=s[a];if(!(0,se.Cr)(e.status))return"continue";var n=(0,se.SS)({status:e.status,error:e.error,imagesInfo:Object.values((0,c.pick)(t,e.imageIds))});e.status=n;var i,o=be(Object.entries(r).filter((function(t){var r=(0,ie.Z)(t,2)[1];return e.id.startsWith(r.id)&&(0,se.Cr)(r.status)})).map((function(e){return(0,ie.Z)(e,1)[0]})));try{for(o.s();!(i=o.n()).done;){var u=i.value;r[u].status=n}}catch(e){o.e(e)}finally{o.f()}},a=0,s=Object.values(e);a<s.length;a++)n()}function we(e){var t=e.tree,r=e.view,n=e.app,a=e.images,s=e.imageIdsArray,i=e.newStatus,o=e.diff,u=void 0===o?t:o,l=[],d=[];if((0,Z.FZ)(u,["results","byId"]),a){var p,f=be(a);try{for(f.s();!(p=f.n()).done;){var m=p.value;ge(t,m.id,m.status,u),l.push(t.images.byId[m.id].parentId)}}catch(e){f.e(e)}finally{f.f()}}else{var y,g=be(s);try{for(g.s();!(y=g.n()).done;){var I=y.value;ge(t,I,i,u),l.push(t.images.byId[I].parentId)}}catch(e){g.e(e)}finally{g.f()}}var b,E=be((0,c.uniq)(l));try{for(E.s();!(b=E.n()).done;){var h=b.value,O=t.results.byId[h],S=O.imageIds.filter((function(e){return Boolean(t.images.byId[e].stateName)})).map((function(e){return(0,Z.xg)(t,u,["images","byId",e,"status"])})),w=(0,se.EX)(S),T=(0,se.wX)(O.error)&&w===v.pn?v.ES:w;(0,se.wX)(O.error)&&T!==O.status&&(d.push(O.parentId),he(t.results.byId,h,{status:T},u.results.byId))}}catch(e){E.e(e)}finally{E.f()}var _=(0,c.uniq)(d),R=(0,c.uniq)(_.map((function(e){return t.browsers.byId[e].parentId})));We(t,R,n.suitesPage.filteredBrowsers,u),!(0,c.isEmpty)(R)&&xe({tree:t,expand:r.expand,suiteIds:R,diff:u}),!(0,c.isEmpty)(_)&&fe({tree:t,expand:r.expand,browserIds:_,diff:u}),!(0,c.isEmpty)(s)&&me({tree:t,expand:r.expand,imageIds:s,diff:u}),!(0,c.isEmpty)(_)&&pe({tree:t,view:r,app:n,browserIds:_,diff:u}),!(0,c.isEmpty)(R)&&De({tree:t,suiteIds:R,diff:u})}var Te=r(62602);function _e(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Re(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.suites.allIds.forEach((function(n){Ce(e,n,t,r)}))}function Ce(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;(0,Z.FZ)(n,["suites","stateById"]),he(e.suites.stateById,t,r,n.suites.stateById)}function Ze(e,t){t.forEach((function(t){var r=t.id,n=t.status;e.suites.byId[r].status!==n&&(e.suites.byId[r].status=n)}))}function Ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=[].concat(t).filter((function(e){return e})).map((function(t){return e.suites.byId[t]})),a=function(t){var n=Ge(t,e,r);Ce(e,t.id,{checkStatus:n},r)};n.forEach(a),ke(n,e,a)}function Ae(e){return e.allRootIds.filter((function(t){return(0,G.D8)(e.byId[t])}))}function je(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=u()(e.browsers.allIds).map((function(t){return e.browsers.byId[t].parentId})).uniq().value();return We(e,n,t,r)}function De(e){var t=e.tree,r=e.suiteIds,n=void 0===r?[]:r,a=e.diff,s=void 0===a?t:a,i=u().isEmpty(n)?Me(t):n.map((function(e){return t.suites.byId[e]}));i.forEach((function(e){var r=e.browserIds.some((function(e){return(0,Z.xg)(t,s,["browsers","stateById",e,"shouldBeShown"])})),n=Ge(e,t,s);Ce(t,e.id,{shouldBeShown:r,checkStatus:n},s)}));ke(i,t,(function(e){Ce(t,e.id,{shouldBeShown:Le(e,t,s),checkStatus:Ge(e,t,s)},s)}))}function xe(e){var t=e.tree,r=e.expand,n=e.suiteIds,a=void 0===n?[]:n,s=e.diff,i=void 0===s?t:s;if(r!==m.Tq)return u().isEmpty(a)&&(a=t.suites.allIds),void a.forEach((function(e){var n=Ue(t.suites.byId[e],r,t);Ce(t,e,{shouldBeOpened:n},i)}));var o=u().isEmpty(a)?Me(t):[].concat(a).map((function(e){return t.suites.byId[e]}));o.forEach((function(e){var n=Ue(e,r,t);Ce(t,e.id,{shouldBeOpened:n},i)}));ke(o,t,(function(e){Ce(t,e.id,{shouldBeOpened:Fe(e,t,i)},i)}))}function Be(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=[].concat(t);for(a.suites||(a.suites={}),(r=a.suites).byId||(r.byId={}),(n=a.suites).failedRootIds||(n.failedRootIds=[].concat(e.suites.failedRootIds));!u().isEmpty(s);){var i=s.pop(),o=e.suites.byId[i];(0,se.R6)(o.status)||(u().set(a,["suites","byId",i,"status"],Te.ES),o.parentId||a.suites.failedRootIds.includes(o.id)?o.parentId&&s.push(o.parentId):a.suites.failedRootIds.push(o.id))}}function ke(e,t,r){var n,a=new Set,s=[];if((n=(0,re.Z)(e),n.sort((function(e,t){return t.suitePath.length-e.suitePath.length}))).forEach((function(e){if(e.parentId){var r=t.suites.byId[e.parentId],n=r.suitePath.join("|")+"|";s.some((function(e){return e.startsWith(n)}))||(a.add(r),s.push(n))}})),!u().isEmpty(a)){var i,o=_e(a);try{for(o.s();!(i=o.n()).done;){r(i.value)}}catch(e){o.e(e)}finally{o.f()}ke(a,t,r)}}function Me(e){return e.suites.allIds.filter((function(t){var r=e.suites.byId[t];return u().isEmpty(r.suiteIds)&&!u().isEmpty(r.browserIds)})).map((function(t){return e.suites.byId[t]}))}function Ue(e,t,r){return Oe(t,{errorsCb:function(){return(0,G.D8)(e)},retriesCb:function(){var t={suites:r.suites.byId,browsers:r.browsers.byId,results:r.results.byId};return(0,ae.getSuiteResults)(e,t,u().initial).some((function(e){return(0,G.D8)(e)}))}})}function Le(e,t,r){return Ve(e,t,"shouldBeShown",r)}function Fe(e,t,r){return Ve(e,t,"shouldBeOpened",r)}function Ge(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=(t.suites.byId[e.id].suiteIds||[]).reduce((function(e,n){return e+(0,Z.xg)(t,r,["suites","stateById",n,"shouldBeShown"])}),0)+(t.suites.byId[e.id].browserIds||[]).reduce((function(e,n){return e+(0,Z.xg)(t,r,["browsers","stateById",n,"shouldBeShown"])}),0),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=e.suites.byId[t],a=n.suiteIds,s=void 0===a?[]:a,i=n.browserIds;return(void 0===i?[]:i).reduce((function(t,n){var a=(0,Z.xg)(e,r,["browsers","stateById",n,"shouldBeShown"]),s=(0,Z.xg)(e,r,["browsers","stateById",n,"checkStatus"]);return t+(a&&s)}),0)+s.reduce((function(t,n){var a=(0,Z.xg)(e,r,["suites","stateById",n,"shouldBeShown"]),s=(0,Z.xg)(e,r,["suites","stateById",n,"checkStatus"]);return t+(a&&s)}),0)}(t,e.id,r);return Number(a===n||a&&oe.Km)}function Ve(e,t,r,n){return(e.suiteIds||[]).some((function(e){return(0,Z.xg)(t,n,["suites","stateById",e,r])}))||(e.browserIds||[]).some((function(e){return(0,Z.xg)(t,n,["browsers","stateById",e,r])}))}function We(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(r&&r.length){a.suites||(a.suites={}),(t=a.suites).failedRootIds||(t.failedRootIds=[].concat(e.suites.failedRootIds));var s=r.map((function(t){return e.suites.byId[t]})),i=new Set;s.forEach((function(t){var r=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,a=[];t.suiteIds&&(a=t.suiteIds.map((function(t){return(0,Z.xg)(e,n,["suites","byId",t,"status"])})));if(t.browserIds){var s=t.browserIds.map((function(t){return e.browsers.byId[t]})).filter((function(e){var t=e.name,n=e.version;return r.some((function(e){var r=e.id,a=e.versions;return r===t&&(a.includes(n)||!a.length)}))})).map((function(t){var r=t.resultIds;return(0,Z.xg)(e,n,["results","byId",u().last(r),"status"])}));a=a.concat(s)}return(0,se.EX)(a)}(e,t,n,a);if(r!==(0,Z.xg)(e,a,["suites","byId",t.id,"status"])){u().set(a,["suites","byId",t.id,"status"],r);var s=(0,Z.xg)(e,a,["suites","byId",t.id,"parentId"]);if(s)i.add(s);else{var o=(0,se.KM)(r)||(0,se.R6)(r),c=a.suites.failedRootIds.includes(t.id);o&&!c?a.suites.failedRootIds.push(t.id):!o&&c&&(a.suites.failedRootIds=a.suites.failedRootIds.filter((function(e){return e!==t.id})))}}})),We(e,Array.from(i),n,a)}}function He(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;e.results.allIds.forEach((function(n){ze({tree:e,resultId:n,state:t,diff:r})}))}function ze(e){var t=e.tree,r=e.resultId,n=e.state,a=e.diff,s=void 0===a?t:a;(0,Z.FZ)(s,["results","stateById"]),he(t.results.stateById,r,n,s.results.stateById)}function qe(e,t){e.results.byId[t.id]=t;var r=t.parentId;e.browsers.byId[r].resultIds.includes(t.id)||(e.results.allIds.push(t.id),e.browsers.byId[r].resultIds.push(t.id))}function Ke(e,t){!function(e,t){e.images.allIds=e.images.allIds.filter((function(e){return!t.includes(e)})),t.forEach((function(t){delete e.images.byId[t],delete e.images.stateById[t]}))}(e,e.results.byId[t].imageIds),function(e,t){var r=e.results.byId[t],n=e.browsers.byId[r.parentId],a=e.browsers.stateById[n.id].retryIndex;n.resultIds=n.resultIds.filter((function(e){return e!==t})),e.browsers.stateById[n.id].retryIndex=Math.min(a,n.resultIds.length-1)}(e,t),e.results.allIds=e.results.allIds.filter((function(e){return e!==t})),delete e.results.byId[t],delete e.results.stateById[t]}var Xe=r(78272);function Ye(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;Pe(e,t,r),ue(e,t,r),ye(e,t,r)}function tt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=new Set;e.browsers.allIds.forEach((function(a){if(e.browsers.stateById[a].shouldBeShown){le(e,a,t,r);var s=e.browsers.byId[a].parentId;s&&n.add(s)}})),e.suites.allIds.forEach((function(a){if(e.suites.stateById[a].shouldBeShown){Ce(e,a,t,r);var s=e.suites.byId[a].parentId;s&&n.add(s)}})),Ne(e,Array.from(n),r),ye(e,t,r)}var rt=r(58733);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot=r(59740),ct=["perBrowser"];function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ft=r(21942),mt=function(e){return e};var yt=r(86522);function vt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return gt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function It(e){var t=e.tree,r=void 0===t?{}:t,n=e.viewMode,a=void 0===n?p.w.ALL:n,s=e.filteredBrowsers,i=void 0===s?[]:s,o=e.resultCb;if(!(0,c.isFunction)(o))throw new Error('"resultCb" argument must be a function, but got '.concat((0,yt.Z)(o)));var u,l=vt(a===p.w.FAILED?(0,ae.getFailedSuiteResults)(r):Object.values(r.results.byId));try{for(l.s();!(u=l.n()).done;){var d=u.value,f=r.browsers.byId[d.parentId];r.browsers.stateById[d.parentId].shouldBeShown&&((0,G.kp)(f,i)&&o(d))}}catch(e){l.e(e)}finally{l.f()}}function bt(e){var t=e.group,r=e.result,n=e.value,a=e.patterns,s=void 0===a?[]:a,i=e.diff,o=void 0===i?t:i,u=function(e){if((0,c.isString)(e))return e;if((0,c.isObject)(e))return JSON.stringify(e);if((0,c.isNull)(e))return"null";if((0,c.isUndefined)(e))return"undefined";return(0,c.toString)(e)}(n),l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=vt(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.match(a.regexp))return a}}catch(e){n.e(e)}finally{n.f()}return{name:e,pattern:e}}(u,s),d=l.pattern,p=l.name;if(t&&t.hasOwnProperty(p)||o.hasOwnProperty(p)){var f=o[p];f.browserIds.includes(r.parentId)||(f.browserIds.push(r.parentId),f.testCount++),f.resultIds.includes(r.id)||(f.resultIds.push(r.id),f.resultCount++)}else o[p]={pattern:d,name:p,browserIds:[r.parentId],resultIds:[r.id],testCount:1,resultCount:1}}function Et(e){return Object.values(e).sort((function(e,t){return e.testCount>t.testCount?-1:1}))}var ht=["group","groupKey","diff"];function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wt(e){var t=e.group,r=e.groupKey,n=e.diff,a=void 0===n?t:n,s=(0,ot.Z)(e,ht),i=new Set;r&&(0,Z.FZ)(a,["byKey",r]);It(St(St({},s),{},{resultCb:function(e){if(e.metaInfo)for(var n=0,s=Object.entries(e.metaInfo);n<s.length;n++){var o=(0,ie.Z)(s[n],2),c=o[0],u=o[1];i.add(c),r&&r===c&&bt({group:t.byKey[r],result:e,value:u,diff:a.byKey[r]})}}})),a.allKeys=(0,re.Z)(i).sort(),r&&(a.byKey[r]=Et(a.byKey[r]))}var Tt=["tree","group","groupKey","errorPatterns","diff"];function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Zt(e){if(e.groupKey===y.wK)return function(e){var t=e.tree,r=e.group,n=e.groupKey,a=e.errorPatterns,s=void 0===a?[]:a,i=e.diff,o=void 0===i?r:i,u=(0,ot.Z)(e,Tt);(0,Z.FZ)(o,["byKey",n]);var l=function(e){var a,i=e.imageIds.map((function(e){return t.images.byId[e]})),u=function(e,t){var r=new Set;t.forEach((function(e){var t=e.error,n=e.diffImg;(0,c.get)(t,"message")&&r.add(t.message),n&&r.add(v.XB)}));var n=e.error;if(r.size>0&&(0,se.iR)(n))return(0,re.Z)(r);(0,c.get)(n,"message")&&r.add(n.message);return(0,re.Z)(r)}(e,i),l=Pt(u);try{for(l.s();!(a=l.n()).done;){var d=a.value;bt({group:r.byKey[n],result:e,value:d,patterns:s,diff:o.byKey[n]})}}catch(e){l.e(e)}finally{l.f()}};It(Rt(Rt({tree:t},u),{},{resultCb:l})),o.byKey[n]=Et(o.byKey[n])}(e);throw new Error("Group key must be one of ".concat(y.Kr.join(", "),", but got ").concat(e.groupKey))}function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ut=function(e,t){var r=e.images.byId[t],n=e.results.byId[r.parentId];return e.browsers.byId[n.parentId].id+" "+r.stateName};function Lt(e){var t,r=e.images.allIds.filter((function(t){return(0,G.h3)(e.images.byId[t])})).sort(),n=(0,c.groupBy)(r,(function(t){return Ut(e,t)})),a=Object.keys(n).reduce((function(t,r){var a=(0,c.last)(n[r]),s=e.images.byId[a];if((0,G.F7)(s))return t;var i,o=xt(n[r]);try{for(o.s();!(i=o.n()).done;){var u=i.value,l=e.images.byId[u];t[u]={id:l.id,parentId:l.parentId,stateName:l.stateName,commitStatus:null,originalStatus:l.status,stateNameImageId:r}}}catch(e){o.e(e)}finally{o.f()}return t}),{}),s=xt((0,Xe.Iv)());try{for(s.s();!(t=s.n()).done;){a[t.value].commitStatus=v.t6}}catch(e){s.e(e)}finally{s.f()}return{enabled:!0,acceptableImages:a,accepterDelayedImages:[],imagesToCommitCount:0}}function Ft(e,t){var r,n=e.images.byId[t].stateName,a=e.images.byId[t].parentId,s=e.results.byId[a].parentId,i=[],o=xt(e.browsers.byId[s].resultIds);try{for(o.s();!(r=o.n()).done;){var c,u=r.value,l=xt(e.results.byId[u].imageIds);try{for(l.s();!(c=l.n()).done;){var d=c.value;e.images.byId[d].stateName===n&&i.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return i}var Gt=r(82022),Vt=r(11200),Wt=r(24298);function Ht(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return zt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var qt=function(e){return"".concat("suites-page-section-sizes","-").concat(e)};var Kt=r(84673),Xt=r.n(Kt),Yt=r(71011),Jt=r(52902);function Qt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var er=function(e,t){var r=new Set;if(t.length>0&&t.every((function(e){return e.status===v.ih.UPDATED})))return[];t.forEach((function(e){var t=(0,c.get)(e,"error.message");t&&r.add(t),(0,c.get)(e,"diffImg")&&r.add(v.XB)}));var n=e.error;if(r.size>0&&(0,se.iR)(n))return(0,re.Z)(r);var a=(0,c.get)(n,"message");return a&&r.add(a),(0,re.Z)(r)},tr=function(e,t,r,n){var a=e[0];return a?a.type===g.zX.Meta?function(e,t){for(var r="__".concat(g.zX.Meta,"__DEFAULT_GROUP"),n={},a={},s=1,i=0,o=Object.values(t);i<o.length;i++){var c=o[i],u=void 0;a[u=c.metaInfo&&c.metaInfo[e.key]?"".concat(g.zX.Meta,"__").concat(e.key,"__").concat((0,Yt.Pz)(c.metaInfo[e.key])):r]||(a[u]=s.toString(),s++);var l=a[u];n[l]||(n[l]={id:l,key:e.key,label:(0,Yt.Pz)(c.metaInfo[e.key]),resultIds:[],browserIds:[],type:Jt.p.Group}),n[l].resultIds.push(c.id),n[l].browserIds.includes(c.parentId)||n[l].browserIds.push(c.parentId)}return n}(a,t):a.type===g.zX.Error?function(e,t,r){for(var n={},a={},s=Object.values(e),i=1,o=0,c=s;o<c.length;o++){var u,l=c[o],d=l.imageIds.map((function(e){return t[e]})),p=Qt(er(l,d));try{var f=function(){var e,t,s=u.value,o=r.find((function(e){return e.regexp.test(s)}));o?(t=o.name,e="".concat(g.zX.Error,"__").concat(o.name)):(t=s,e="".concat(g.zX.Error,"__").concat(s)),a[e]||(a[e]=i.toString(),i++);var c=a[e];n[c]||(n[c]={id:c,key:"error",label:Xt()(t),resultIds:[],browserIds:[],type:Jt.p.Group}),n[c].resultIds.push(l.id),n[c].browserIds.includes(l.parentId)||n[c].browserIds.push(l.parentId)};for(p.s();!(u=p.n()).done;)f()}catch(e){p.e(e)}finally{p.f()}}return n}(t,r,n):{}:{}};var rr={id:"by-name",label:"Name",type:g.ER.ByName},nr={id:"by-failed-runs",label:"Failed runs count",type:g.ER.ByFailedRuns},ar={id:"by-tests-count",label:"Tests count",type:g.ER.ByTestsCount},sr={id:"by-start-time",label:"Start time",type:g.ER.ByStartTime},ir={id:"by-duration",label:"Duration",type:g.ER.ByDuration},or={id:"by-relevance",label:"Relevance",type:g.ER.ByRelevance},cr=[rr,nr,sr,ir],ur=function(e){return e[0]!==or.id&&e[0]!==ar.id};const lr=(0,o.Z)((function(e){return(0,c.isEmpty)(e)?h:e}),(function(e,t){return t.type.startsWith("reapop/")?w(w({},e),{},{notifications:(0,O.I6)()([],t)}):e}),(function(e,t){switch(t.type){case T.Z.RUN_ALL_TESTS:case T.Z.RUN_FAILED_TESTS:case T.Z.RETRY_SUITE:case T.Z.RETRY_TEST:return R(R({},e),{},{running:!0});case T.Z.TESTS_END:return R(R({},e),{},{running:!1});default:return e}}),(function(e,t){switch(t.type){case T.Z.RUN_ALL_TESTS:case T.Z.RUN_FAILED_TESTS:case T.Z.RETRY_SUITE:case T.Z.RETRY_TEST:case T.Z.PROCESS_BEGIN:return C(C({},e),{},{processing:!0});case T.Z.TESTS_END:case T.Z.PROCESS_END:return C(C({},e),{},{processing:!1});default:return e}}),(function(e,t){switch(t.type){case T.Z.STOP_TESTS:return Dt(Dt({},e),{},{stopping:!0});case T.Z.TESTS_END:return Dt(Dt({},e),{},{stopping:!1});default:return e}}),(function(e,t){switch(t.type){case T.Z.TOGGLE_LOADING:return A(A({},e),{},{loading:t.payload});case T.Z.UPDATE_LOADING_PROGRESS:return(0,Z.rm)(e,{app:{loading:{progress:t.payload}}});case T.Z.UPDATE_LOADING_IS_IN_PROGRESS:return(0,Z.rm)(e,{app:{loading:{isInProgress:t.payload}}});case T.Z.UPDATE_LOADING_VISIBILITY:return(0,Z.rm)(e,{app:{loading:{isVisible:t.payload}}});case T.Z.UPDATE_LOADING_TITLE:return(0,Z.rm)(e,{app:{loading:{taskTitle:t.payload}}});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:return(0,Z.rm)(e,{gui:!0,app:{availableFeatures:[v.Wi,v.B$]}});case T.Z.INIT_STATIC_REPORT:return D(D({},e),{},{gui:!1});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=t.payload.timestamp;return F(F({},e),{},{timestamp:r});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=t.payload.date;return W(W({},e),{},{date:(0,G.V_)(r)});default:return e}}),(function(e,t){if(t.type===T.Z.INIT_GUI_REPORT){var r=t.payload.autoRun,n=void 0!==r&&r;return z(z({},e),{},{autoRun:n})}return e}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=t.payload.apiValues;return(0,Z.rm)(e,{apiValues:r});default:return e}}),(function(e,t){switch(t.type){case T.Z.OPEN_MODAL:return K(K({},e),{},{modals:e.modals.concat(t.payload)});case T.Z.CLOSE_MODAL:return K(K({},e),{},{modals:e.modals.filter((function(e){return e.id!==t.payload.id}))});default:return e}}),(function(e,t){return t.type===T.Z.CLOSE_SECTIONS?Y(Y({},e),{},{closeIds:t.payload}):e}),(function(e,t){switch(t.type){case T.Z.INIT_STATIC_REPORT:case T.Z.INIT_GUI_REPORT:var r=t.payload.db;return $($({},e),{},{db:r});case T.Z.TESTS_END:(0,J.xe)(e.db);var n=t.payload.db;return $($({},e),{},{db:n});case T.Z.FIN_STATIC_REPORT:case T.Z.FIN_GUI_REPORT:return(0,J.xe)(e.db),e;default:return e}}),(function(e,t){if(t.type===T.Z.INIT_STATIC_REPORT){var r=t.payload.fetchDbDetails;return te(te({},e),{},{fetchDbDetails:r})}return e}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:var r,n=t.payload.tree,a=(i=n.results,o=function(e){return{id:e.name,versions:u().get(e,"metaInfo.browserVersion",rt.e.UNKNOWN)}},c=function(e){return u()(e).map("versions").compact().uniq().value()},u()(i.allIds).map((function(e){return o(i.byId[e])})).flattenDeep().groupBy("id").mapValues(c).map((function(e,t){return{id:t,versions:e}})).value());return at(at({},e),{},{browsers:a,browserFeatures:null!==(r=t.payload.browserFeatures)&&void 0!==r?r:{}});case T.Z.INIT_STATIC_REPORT:var s=t.payload.browsers;return at(at({},e),{},{browsers:s});case T.Z.SET_BROWSER_FEATURES:return at(at({},e),{},{browserFeatures:t.payload.browserFeatures});default:return e}var i,o,c}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=t.payload.config;return r.errorPatterns=r.errorPatterns.map((function(e){return it(it({},e),{},{regexp:new RegExp(e.pattern)})})),(0,Z.rm)(e,{config:r});case T.Z.RUN_CUSTOM_GUI_ACTION:var n=t.payload,a=n.sectionName,s=n.groupIndex,i=n.controlIndex,o=(0,c.cloneDeep)(e.config.customGui),u=o[a][s],l=u.type,d=u.controls;return"radiobutton"===l?(d.forEach((function(e,t){return e.active=i===t})),(0,Z.rm)(e,{config:{customGui:o}})):e;default:return e}}),(function(e,t){if(t.type===T.Z.INIT_STATIC_REPORT){var r=t.payload.stats||{},n=r.perBrowser,a=(0,ot.Z)(r,ct);return(0,G.rm)(e,{stats:{all:a,perBrowser:n}})}return e}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=t.payload.skips;return lt(lt({},e),{},{skips:r});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=e.config,n=r.baseHost,a=r.defaultView,s=r.diffMode,i=M(window.location.search),o=x.rV("view",{});return pt(pt({},e),{},{view:pt(pt(pt({},e.view),{},{viewMode:a,diffMode:s,baseHost:n},o),i)});case T.Z.VIEW_UPDATE_BASE_HOST:var c=t.payload.host;return pt(pt({},e),{},{view:pt(pt({},e.view),{},{baseHost:c})});case T.Z.VIEW_EXPAND_ALL:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{expand:m.Tm})});case T.Z.VIEW_EXPAND_ERRORS:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{expand:m.YS})});case T.Z.VIEW_EXPAND_RETRIES:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{expand:m.Tq})});case T.Z.VIEW_COLLAPSE_ALL:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{expand:m.Lq})});case T.Z.VIEW_SET_STRICT_MATCH_FILTER:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{strictMatchFilter:t.payload})});case T.Z.GROUP_TESTS_BY_KEY:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{keyToGroupTestsBy:t.payload})});case T.Z.SET_DIFF_MODE:return pt(pt({},e),{},{view:pt(pt({},e.view),{},{diffMode:t.payload.diffModeId})});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r,n,a=x.rV("app.suitesPage.viewMode",v.wO.ALL),s=x.rV("app.visualChecksPage.viewMode",v.wO.ALL),i=M(window.location.search);(0,c.isEmpty)(i.filteredBrowsers)&&(i.filteredBrowsers=e.browsers);var o=(0,Z.rm)(e,{app:(r={},(0,l.Z)(r,g.T3.suitesPage,{viewMode:a}),(0,l.Z)(r,g.T3.visualChecksPage,{viewMode:s}),r)});return null!==(n=window.location.hash)&&void 0!==n&&n.startsWith("#/visual-checks")?(o.app[g.T3.visualChecksPage].filteredBrowsers=i.filteredBrowsers,o.app[g.T3.visualChecksPage].viewMode=i.viewMode||s,o.app[g.T3.visualChecksPage].nameFilter=i.testNameFilter||""):(o.app[g.T3.suitesPage].filteredBrowsers=i.filteredBrowsers,o.app[g.T3.suitesPage].viewMode=i.viewMode||a,o.app[g.T3.suitesPage].nameFilter=i.testNameFilter||""),o;case T.Z.CHANGE_VIEW_MODE:return U(e,t.payload.page,{viewMode:t.payload.data});case T.Z.VIEW_UPDATE_FILTER_BY_NAME:return U(e,t.payload.page,{nameFilter:t.payload.data});case T.Z.VIEW_SET_FILTER_MATCH_CASE:return U(e,t.payload.page,{useMatchCaseFilter:t.payload.data});case T.Z.VIEW_SET_FILTER_USE_REGEX:return U(e,t.payload.page,{useRegexFilter:t.payload.data});case T.Z.BROWSERS_SELECTED:return U(e,t.payload.page,{filteredBrowsers:t.payload.data});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_STATIC_REPORT:return(0,Xe.fQ)(e.config.staticImageAccepter,e.gui)?(0,G.rm)(e,{app:{availableFeatures:[v.B$]},staticImageAccepter:Lt(t.payload.tree)}):e;case T.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT:var r=e.staticImageAccepter.accepterDelayedImages.concat(t.payload);return Mt(Mt({},e),{},{staticImageAccepter:Mt(Mt({},e.staticImageAccepter),{},{accepterDelayedImages:r})});case T.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:var n=e.staticImageAccepter.accepterDelayedImages.slice(0,-1);return Mt(Mt({},e),{},{staticImageAccepter:Mt(Mt({},e.staticImageAccepter),{},{accepterDelayedImages:n})});case T.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT:var a,s=t.payload,i=e.staticImageAccepter.acceptableImages,o={},u=(0,c.set)({},["staticImageAccepter","acceptableImages"],o),l=0,d=xt(s);try{for(d.s();!(a=d.n()).done;){var p=a.value,f=Ft(e.tree,p).find((function(e){var t;return(null===(t=i[e])||void 0===t?void 0:t.commitStatus)===v.Ez}));(0,c.set)(o,[p,"commitStatus"],v.Ez),f?(0,c.set)(o,[f,"commitStatus"],null):l++}}catch(e){d.e(e)}finally{d.f()}var m=(0,c.get)(e,["staticImageAccepter","imagesToCommitCount"]);return(0,c.set)(u,["staticImageAccepter","accepterDelayedImages"],[]),(0,c.set)(u,["staticImageAccepter","imagesToCommitCount"],m+l),(0,G.rm)(e,u);case T.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:var y={},g=(0,c.set)({},["staticImageAccepter","acceptableImages"],y),I=(0,c.get)(e,["staticImageAccepter","imagesToCommitCount"]);(0,c.set)(g,["staticImageAccepter","imagesToCommitCount"],I-t.payload.length);var b,E=xt(t.payload);try{for(E.s();!(b=E.n()).done;){var h=b.value;(0,c.set)(y,[h,"commitStatus"],null)}}catch(e){E.e(e)}finally{E.f()}return(0,G.rm)(e,g);case T.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT:var O,S=e.staticImageAccepter.acceptableImages,w={},_=(0,c.set)({},["staticImageAccepter","acceptableImages"],w),R=xt(t.payload);try{for(R.s();!(O=R.n()).done;){var P=O.value,C=Ft(e.tree,P).find((function(e){var t;return(null===(t=S[e])||void 0===t?void 0:t.commitStatus)===v.t6}));C&&(0,c.set)(w,[C,"commitStatus"],null),(0,c.set)(w,[P,"commitStatus"],v.t6)}}catch(e){R.e(e)}finally{R.f()}return(0,c.set)(_,["staticImageAccepter","accepterDelayedImages"],[]),(0,c.set)(_,["staticImageAccepter","imagesToCommitCount"],0),(0,G.rm)(e,_);case T.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:return(0,G.rm)(e,{ui:{staticImageAccepterToolbar:{offset:t.payload.offset}}});case T.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:return(0,G.rm)(e,{app:{staticImageAccepterModal:{commitMessage:t.payload.commitMessage}}});default:return e}}),(function(e,t){var r={tree:{}};switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var n,a=t.payload.tree,s=e.app.suitesPage.filteredBrowsers;if(a.suites.failedRootIds=Ae(a.suites),a.suites.stateById={},a.browsers.stateById={},a.results.stateById={},a.images.stateById={},a.groups={byId:{},allRootIds:[]},je(a,s),function(e){var t=e.tree,r=e.view,n=e.app;(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.browsers.allIds.forEach((function(n){de(e,n),le(e,n,{checkStatus:oe.wT}),t.keyToGroupTestsBy?le(e,n,{shouldBeShown:!1}):pe({tree:e,view:t,app:r,browserIds:[n]}),fe({tree:e,expand:t.expand,browserIds:[n]})}))})(t,r,n),function(e,t){Pe(e,{checkStatus:oe.wT}),t.keyToGroupTestsBy?Pe(e,{shouldBeShown:!1}):De({tree:e}),xe({tree:e,expand:t.expand})}(t,r),function(e,t){me({tree:e,expand:t})}(t,r.expand),function(e){He(e,{matchedSelectedGroup:!1})}(t)}({tree:a,view:e.view,app:e.app}),Se(a.results.byId,a.images.byId,a.suites.byId),Xe.fQ(null===(n=e.config)||void 0===n?void 0:n.staticImageAccepter,e.gui)){var i=Xe.Iv();we({tree:a,view:e.view,app:e.app,imageIdsArray:i,newStatus:Te.t6})}return $e($e({},(0,Z.rm)(e,{app:{isNewUi:t.payload.isNewUi}})),{},{tree:a});case T.Z.RUN_ALL_TESTS:var o=e.tree;return(0,Z.FZ)(r,["tree","suites","byId"]),o.suites.allIds.forEach((function(e){r.tree.suites.byId[e]={status:Te.ih.QUEUED}})),(0,Z.rm)(e,r);case T.Z.TOGGLE_SUITE_SECTION:var u=t.payload,d=u.suiteId,f=u.shouldBeOpened;return Ce(e.tree,d,{shouldBeOpened:f},r.tree),(0,Z.rm)(e,r);case T.Z.TOGGLE_BROWSER_SECTION:var y=t.payload,v=y.browserId,g=y.shouldBeOpened;return le(e.tree,v,{shouldBeOpened:g},r.tree),(0,Z.rm)(e,r);case T.Z.TOGGLE_STATE_RESULT:var I=t.payload,b=I.imageId,E=I.shouldBeOpened;return ve(e.tree,b,{shouldBeOpened:E},r.tree),(0,Z.rm)(e,r);case T.Z.CHANGE_TEST_RETRY:var h,O=t.payload,S=O.browserId,w=O.retryIndex,_={retryIndex:w};e.view.keyToGroupTestsBy&&(_.lastMatchedRetryIndex=null);var R=null===(h=t.payload.suitesPage)||void 0===h?void 0:h.treeNodeId;return R&&(r.ui={suitesPage:{retryIndexByTreeNodeId:(0,l.Z)({},R,w)}}),le(e.tree,S,_,r.tree),(0,Z.rm)(e,r);case T.Z.BROWSERS_SELECTED:var P=e.tree,C=e.view,N=e.app;return je(P,(0,c.isEmpty)(N.suitesPage.filteredBrowsers)?e.browsers.map((function(e){return{id:e.id,versions:[]}})):N.suitesPage.filteredBrowsers,r.tree),pe({tree:P,view:C,app:N,diff:r.tree}),De({tree:P,diff:r.tree}),(0,Z.rm)(e,r);case T.Z.CHANGE_VIEW_MODE:case T.Z.VIEW_UPDATE_FILTER_BY_NAME:case T.Z.VIEW_SET_FILTER_MATCH_CASE:case T.Z.VIEW_SET_FILTER_USE_REGEX:case T.Z.VIEW_SET_STRICT_MATCH_FILTER:var A=e.tree;return pe({tree:A,view:e.view,app:e.app,diff:r.tree}),De({tree:A,diff:r.tree}),(0,Z.rm)(e,r);case T.Z.VIEW_EXPAND_ALL:return et(e.tree,{shouldBeOpened:!0},r.tree),(0,Z.rm)(e,r);case T.Z.VIEW_COLLAPSE_ALL:return et(e.tree,{shouldBeOpened:!1},r.tree),(0,Z.rm)(e,r);case T.Z.VIEW_EXPAND_ERRORS:case T.Z.VIEW_EXPAND_RETRIES:var j=e.tree,D=e.view;return xe({tree:j,expand:D.expand,diff:r.tree}),fe({tree:j,expand:D.expand,diff:r.tree}),me({tree:j,expand:D.expand,diff:r.tree}),(0,Z.rm)(e,r);case T.Z.SELECT_ALL:return tt(e.tree,{checkStatus:oe.ri},r.tree),(0,Z.rm)(e,r);case T.Z.DESELECT_ALL:return tt(e.tree,{checkStatus:oe.wT},r.tree),(0,Z.rm)(e,r);case T.Z.CLOSE_SECTIONS:return t.payload.forEach((function(t){ve(e.tree,t,{shouldBeOpened:!1},r.tree)})),(0,Z.rm)(e,r);case T.Z.TOGGLE_TESTS_GROUP:var x=t.payload,B=x.browserIds,k=x.resultIds,M=x.isActive,U=e.tree,L=e.view,F=e.app;return M?(pe({tree:U,view:L,app:F,browserIds:B,diff:r.tree}),U.browsers.allIds.forEach((function(e){if((0,Z.xg)(U,r.tree,["browsers","stateById",e,"shouldBeShown"])){if(!B.includes(e))return le(U,e,{shouldBeShown:!1},r.tree);var t=U.browsers.byId[e].resultIds,n=t.length-1;t.forEach((function(e,t){k.includes(e)?(n=t,ze({tree:U,resultId:e,state:{matchedSelectedGroup:!0},diff:r.tree})):ze({tree:U,resultId:e,state:{matchedSelectedGroup:!1},diff:r.tree})})),le(U,e,{lastMatchedRetryIndex:n},r.tree)}})),De({tree:U,diff:r.tree}),(0,Z.rm)(e,r)):(ue(U,{shouldBeShown:!1,lastMatchedRetryIndex:null},r.tree),Pe(U,{shouldBeShown:!1},r.tree),He(U,{matchedSelectedGroup:!1},r.tree),(0,Z.rm)(e,r));case T.Z.GROUP_TESTS_BY_KEY:var G=e.tree,V=e.view,W=e.app;return He(G,{matchedSelectedGroup:!1},r.tree),pe({tree:G,view:V,app:W,diff:r.tree}),De({tree:G,diff:r.tree}),ue(G,{lastMatchedRetryIndex:null},r.tree),(0,Z.rm)(e,r);case T.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT:var H=e.tree,z=e.view,q=e.staticImageAccepter,K=e.app,X=t.payload,Y=function(e,t){var r=("string"==typeof e?[e]:e).map((function(e){return t.acceptableImages[e].stateNameImageId}));return Object.values(t.acceptableImages).filter((function(e){return r.includes(e.stateNameImageId)}))}(X,q),J=Y.filter((function(e){return(0,se.Cx)(H.images.byId[e.id].status)})).map((function(e){return{id:e.id,status:q.acceptableImages[e.id].originalStatus}})),Q=X.map((function(e){return{id:e,status:Te.Ez}})).concat(J);return we({tree:H,view:z,app:K,images:Q,diff:r.tree}),(0,Z.rm)(e,r);case T.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:var $,ee=e.tree,te=e.view,ae=[],ie=[],ye=[],be=Ye(t.payload);try{for(be.s();!($=be.n()).done;){var Ee=$.value,Oe=(0,c.get)(e,["staticImageAccepter","acceptableImages",Ee,"originalStatus"]),_e=ee.images.byId[Ee].parentId,Re=ee.results.byId[_e].parentId,ke=ee.browsers.byId[Re].parentId;(0,Z.FZ)(r,["tree","results","byId"]),ge(ee,Ee,Oe,r.tree),he(ee.results.byId,_e,{status:Te.ES},r.tree.results.byId),ae.push(Re),ie.push(ke),ye.push(Ee)}}catch(e){be.e(e)}finally{be.f()}return Be(ee,ie,r.tree),xe({tree:ee,expand:te.expand,suiteIds:ie,diff:r.tree}),fe({tree:ee,expand:te.expand,browserIds:ae,diff:r.tree}),me({tree:ee,expand:te.expand,imageIds:ye,diff:r.tree}),pe({tree:ee,view:te,app:e.app,browserIds:ae,diff:r.tree}),De({tree:ee,suiteIds:ie,diff:r.tree}),(0,Z.rm)(e,r);case T.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT:var Me=e.tree,Ue=e.view,Le=e.staticImageAccepter,Fe=e.app,Ge=t.payload,Ve=Ge.map((function(e){return Le.acceptableImages[e].stateNameImageId})),We=Object.values(Le.acceptableImages).filter((function(e){return Ve.includes(e.stateNameImageId)})).filter((function(e){return(0,se.hO)(Me.images.byId[e.id].status)})).map((function(e){return{id:e.id,status:Le.acceptableImages[e.id].originalStatus}})),Je=Ge.map((function(e){return{id:e,status:Te.t6}})).concat(We);return we({tree:Me,view:Ue,app:Fe,images:Je,diff:r.tree}),(0,Z.rm)(e,r)}return(0,ne.Uy)(e,(function(e){switch(t.type){case T.Z.TEST_BEGIN:[].concat(t.payload).forEach((function(t){var r=t.result,n=t.suites;qe(e.tree,r),de(e.tree,r.parentId),Ze(e.tree,n)}));break;case T.Z.TEST_RESULT:case T.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE:!function(e,t){var r=e.tree,n=e.view,a=e.app;[].concat(t).forEach((function(e){var t=e.result,s=e.images,i=e.suites;Se([t],r.images.byId,i),qe(r,t),de(r,t.parentId),function(e,t,r){t.forEach((function(t){e.images.byId[t.id]=t,e.images.allIds.includes(t.id)||e.images.allIds.push(t.id);var n=Ie(t,r);ve(e,t.id,{shouldBeOpened:n})}))}(r,s,n.expand),Ze(r,i);var o=t.parentId,c=r.browsers.byId[o].parentId,u=n.expand===m.Tq?[c]:i.map((function(e){return e.id})),l=s.map((function(e){return e.id}));xe({tree:r,expand:n.expand,suiteIds:u}),fe({tree:r,expand:n.expand,browserIds:[o]}),me({tree:r,expand:n.expand,imageIds:l}),a.suitesPage.viewMode===p.w.FAILED&&(pe({tree:r,view:n,app:a,browserIds:[o]}),De({tree:r,suiteIds:[c]}))})),r.suites.failedRootIds=Ae(r.suites)}(e,t.payload);break;case T.Z.COMMIT_REVERTED_IMAGES_TO_TREE:var r,n=e.tree,a=e.view,s=e.app,i=t.payload,o=i.updatedImages,u=void 0===o?[]:o,l=i.removedResults,d=void 0===l?[]:l,f=d.filter((function(e){var t=n.results.byId[e],r=n.browsers.byId[t.parentId],a=(0,c.findLast)(r.resultIds,(function(t){return t!==e})),s=n.results.byId[a];return!(0,se.Mg)(s.status)})),y=u.map((function(e){return e.parentId})).concat(f).map((function(e){var t=n.results.byId[e],r=n.browsers.byId[t.parentId];return n.suites.byId[r.parentId].id})),v=Ye(u);try{for(v.s();!(r=v.n()).done;){var g=r.value;n.images.byId[g.id]=g,n.images.stateById[g.id].shouldBeOpened=!0,n.results.byId[g.parentId].status=Te.ES}}catch(e){v.e(e)}finally{v.f()}var I,b=Ye(d);try{for(b.s();!(I=b.n()).done;){var E=I.value;Ke(n,E)}}catch(e){b.e(e)}finally{b.f()}Be(n,y),pe({tree:n,view:a,app:s}),De({tree:n});break;case T.Z.TOGGLE_BROWSER_CHECKBOX:var h=t.payload,O=h.suiteBrowserId,S=h.checkStatus,w=ce(e.tree,O);le(e.tree,O,{checkStatus:S}),Ne(e.tree,w);break;case T.Z.TOGGLE_SUITE_CHECKBOX:var _=t.payload,R=_.suiteId,P=_.checkStatus,C=e.tree.suites.byId[R].parentId,Z=[R];for(Ce(e.tree,R,{checkStatus:P});Z.length;){var N=Z.pop(),A=e.tree.suites.byId[N].suiteIds||[],j=e.tree.suites.byId[N].browserIds||[];A.forEach((function(t){var r=e.tree.suites.stateById[t].shouldBeShown,n=Number(r&&P);Ce(e.tree,t,{checkStatus:n})})),j.forEach((function(t){var r=e.tree.browsers.stateById[t].shouldBeShown,n=Number(r&&P);le(e.tree,t,{checkStatus:n})})),Z.push.apply(Z,(0,re.Z)(A))}Ne(e.tree,C);break;case T.Z.TOGGLE_GROUP_CHECKBOX:var D=t.payload,x=D.browserIds,B=D.checkStatus,k=x.map((function(t){return ce(e.tree,t)}));x.forEach((function(t){le(e.tree,t,{checkStatus:B})})),Ne(e.tree,k)}}))}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:case T.Z.GROUP_TESTS_BY_KEY:case T.Z.TESTS_END:case T.Z.BROWSERS_SELECTED:case T.Z.VIEW_UPDATE_FILTER_BY_NAME:case T.Z.VIEW_SET_FILTER_MATCH_CASE:case T.Z.VIEW_SET_FILTER_USE_REGEX:case T.Z.VIEW_SET_STRICT_MATCH_FILTER:case T.Z.CHANGE_VIEW_MODE:case T.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE:case T.Z.COMMIT_REVERTED_IMAGES_TO_TREE:var r=e.tree,n=e.groupedTests,a=e.view,s=a.keyToGroupTestsBy,i=a.strictMatchFilter,o=e.app.suitesPage,c={viewMode:o.viewMode,filteredBrowsers:o.filteredBrowsers,nameFilter:o.nameFilter,useMatchCaseFilter:o.useMatchCaseFilter,useRegexFilter:o.useRegexFilter,strictMatchFilter:i},u={groupedTests:{meta:{}}};if(!s)return wt(At({tree:r,group:n.meta,diff:u.groupedTests.meta},c)),(0,Z.rm)(e,u);var l=(0,G.An)(s),d=(0,ie.Z)(l,2),p=d[0],f=d[1];(0,Z.FZ)(u,["groupedTests",p]);var m=n[p],v=u.groupedTests[p];return p===y.SA.RESULT?(Zt(At({tree:r,group:m,groupKey:f,errorPatterns:e.config.errorPatterns,diff:v},c)),(0,Z.rm)(e,u)):p===y.SA.META?(wt(At({tree:r,group:m,groupKey:f,diff:v},c)),(0,Z.rm)(e,u)):e;default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:for(var r=[],n=new Set,a=0,s=Object.values(e.tree.results.byId);a<s.length;a++){var i=s[a];Object.keys(i.metaInfo).forEach((function(e){return n.add(e)}))}var o=Array.from(n.values()).map((function(e){return{id:e,type:g.zX.Meta,sectionId:"meta",key:e}}));return r.push.apply(r,(0,re.Z)(o)),r.push({id:"error-message",type:g.zX.Error,sectionId:"error"}),(0,Z.rm)(e,{app:{groupTestsData:{availableExpressions:r,currentExpressionIds:[],availableSections:[{id:"meta",label:"Meta"},{id:"error",label:"Error"}]}}});case T.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var c=t.payload.expressionIds,u=c.map((function(t){return e.app.groupTestsData.availableExpressions.find((function(e){return e.id===t}))})),l=tr(u,e.tree.results.byId,e.tree.images.byId,e.config.errorPatterns);return Object.assign({},e,{tree:Object.assign({},e.tree,{groups:{byId:l,allRootIds:Object.keys(l)}}),app:Object.assign({},e.app,{groupTestsData:Object.assign({},e.app.groupTestsData,{currentExpressionIds:c})})});default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_STATIC_REPORT:case T.Z.INIT_GUI_REPORT:var r=cr;return(0,G.rm)(e,{app:{sortTestsData:{availableExpressions:r,currentDirection:g.Sr.Asc,currentExpressionIds:[r[0].id],previousDirection:g.Sr.Asc,previousExpressionIds:[r[0].id]}}});case T.Z.SORT_TESTS_SET_CURRENT_EXPRESSION:var n={currentExpressionIds:t.payload.expressionIds};return t.payload.expressionIds[0]===rr.id?n.currentDirection=g.Sr.Asc:t.payload.expressionIds[0]===nr.id||t.payload.expressionIds[0]===ar.id?n.currentDirection=g.Sr.Desc:t.payload.expressionIds[0]===sr.id?n.currentDirection=g.Sr.Asc:(t.payload.expressionIds[0]===ir.id||t.payload.expressionIds[0]===or.id)&&(n.currentDirection=g.Sr.Desc),ur(t.payload.expressionIds)&&(n.previousExpressionIds=t.payload.expressionIds,n.previousDirection=n.currentDirection),(0,G.rm)(e,{app:{sortTestsData:n}});case T.Z.SORT_TESTS_SET_DIRECTION:var a={currentDirection:t.payload.direction};return ur(e.app.sortTestsData.currentExpressionIds)&&(a.previousDirection=t.payload.direction,a.previousExpressionIds=e.app.sortTestsData.currentExpressionIds),(0,G.rm)(e,{app:{sortTestsData:a}});case T.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var s={},i=(0,re.Z)(e.app.sortTestsData.availableExpressions);return t.payload.expressionIds.length>0?i.push(ar):(i.splice(i.indexOf(ar),1),s.currentExpressionIds=e.app.sortTestsData.previousExpressionIds,s.currentDirection=e.app.sortTestsData.previousDirection),s.availableExpressions=i,(0,G.rm)(e,{app:{sortTestsData:s}});case T.Z.VIEW_UPDATE_FILTER_BY_NAME:if(t.payload.page===g.T3.suitesPage){var o={},c=(0,re.Z)(e.app.sortTestsData.availableExpressions),u=e.app.sortTestsData.previousExpressionIds,l=e.app.sortTestsData.previousDirection;return t.payload.data.length>0&&!c.some((function(e){return e.id===or.id}))?(o.availableExpressions=[].concat((0,re.Z)(c),[or]),o.currentExpressionIds=[or.id],o.currentDirection=g.Sr.Desc):0===t.payload.data.length&&c.some((function(e){return e.id===or.id}))&&(o.availableExpressions=c.filter((function(e){return e.id!==or.id})),o.currentExpressionIds=u,o.currentDirection=l),(0,G.rm)(e,{app:{sortTestsData:o}})}return e;default:return e}}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r=[];ft.Ed((function(t){Array.isArray(t.reducers)&&r.push(o.Z.apply(void 0,[e].concat((0,re.Z)(t.reducers))))})),mt=o.Z.apply(void 0,[e].concat(r))}return mt(e,t)}),(function(e,t){if(t.type===T.Z.UPDATE_BOTTOM_PROGRESS_BAR){var r=t.payload.currentRootSuiteId;return(0,Z.rm)(e,{progressBar:{currentRootSuiteId:r}})}return e}),(function(e,t){switch(t.type){case T.Z.INIT_STATIC_REPORT:case T.Z.INIT_GUI_REPORT:case T.Z.SUITES_PAGE_SET_TREE_VIEW_MODE:case T.Z.CHANGE_VIEW_MODE:case T.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:var r,n=(0,Gt.V)(e).allTreeNodeIds,a=Object.assign({},e.ui.suitesPage.expandedTreeNodesById),s=Ht(n);try{for(s.s();!(r=s.n()).done;){a[r.value]=!0}}catch(e){s.e(e)}finally{s.f()}var i=null,o=e.app[g.T3.suitesPage].currentTreeNodeId,c=e.ui.suitesPage.treeViewMode;if(t.type===T.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION||t.type===T.Z.SUITES_PAGE_SET_TREE_VIEW_MODE){var u=e.app.suitesPage.currentBrowserId;if(u){var d=(0,Gt.V)(e).tree,p=(0,Vt.iT)(d,u);o=null==p?void 0:p.id,p&&(i=(0,Vt.av)(p))}}t.type===T.Z.SUITES_PAGE_SET_TREE_VIEW_MODE&&(c=t.payload.treeViewMode);var f=x.rV(qt(g.T3.suitesPage),[I.p,100-I.p]),m=x.rV(qt(g.T3.visualChecksPage),[I.p,100-I.p]),y=Boolean(x.rV(Wt.IP,!0));return(0,Z.rm)(e,{app:{suitesPage:{currentGroupId:i,currentTreeNodeId:o}},ui:{suitesPage:{expandedTreeNodesById:a,treeViewMode:c,sectionSizes:f,isSnapshotsPlayerVisible:y},visualChecksPage:{sectionSizes:m}}});case T.Z.SUITES_PAGE_SET_CURRENT_SUITE:var v={};return t.payload.treeNodeId&&(v.currentTreeNodeId=t.payload.treeNodeId),t.payload.browserId&&(v.currentBrowserId=t.payload.browserId),t.payload.groupId&&(v.currentGroupId=t.payload.groupId),(0,Z.rm)(e,{app:{suitesPage:v}});case T.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED:return(0,Z.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:(0,l.Z)({},t.payload.nodeId,t.payload.isExpanded)}}});case T.Z.SUITES_PAGE_SET_ALL_TREE_NODES:var b={};for(var E in e.ui.suitesPage.expandedTreeNodesById)b[E]=t.payload.isExpanded;return(0,Z.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:b}}});case T.Z.SUITES_PAGE_SET_SECTION_EXPANDED:return(0,Z.rm)(e,{ui:{suitesPage:{expandedSectionsById:(0,l.Z)({},t.payload.sectionId,t.payload.isExpanded)}}});case T.Z.SUITES_PAGE_SET_STEPS_EXPANDED:return t.payload.resultId?(0,Z.rm)(e,{ui:{suitesPage:{expandedStepsByResultId:(0,l.Z)({},t.payload.resultId,t.payload.expandedById)}}}):e;case T.Z.SUITES_PAGE_REVEAL_TREE_NODE:for(var h=(0,Gt.V)(e).tree,O=(0,Vt.Qt)(h,t.payload.nodeId),S={};O;){var w;(O=null!==(w=O.parentData)&&void 0!==w?w:null)&&(S[O.id]=!0)}return(0,Z.rm)(e,{ui:{suitesPage:{expandedTreeNodesById:S}}});case T.Z.SUITES_PAGE_SET_CURRENT_STEP:return(0,Z.rm)(e,{app:{suitesPage:{currentStepId:t.payload.stepId}}});case T.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:return(0,Z.rm)(e,{app:{suitesPage:{currentHighlightedStepId:t.payload.stepId}}});case T.Z.PAGE_SET_SECTION_SIZES:var _=qt(t.payload.page);return x.LS(_,t.payload.sizes),(0,Z.rm)(e,{ui:(0,l.Z)({},t.payload.page,{sectionSizes:t.payload.sizes})});case T.Z.PAGE_SET_BACKUP_SECTION_SIZES:return(0,Z.rm)(e,{ui:(0,l.Z)({},t.payload.page,{backupSectionSizes:t.payload.sizes})});default:return e}}),(function(e,t){return t.type===T.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE?(0,Z.rm)(e,{app:{visualChecksPage:{currentNamedImageId:t.payload.namedImageId}}}):e}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:return(0,G.rm)(e,{app:{isInitialized:!0,loading:{isVisible:!1}}});default:return e}}),(function(e,t){return t.type===T.Z.SET_GUI_SERVER_CONNECTION_STATUS?(0,G.rm)(e,{app:{guiServerConnection:{isConnected:t.payload.isConnected}}}):e}),(function(e,t){switch(t.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var r,n,a=(0,re.Z)(e.app.availableFeatures),s=null!==(r=null===(n=t.payload)||void 0===n?void 0:n.features)&&void 0!==r?r:[];return a.push.apply(a,(0,re.Z)(s)),a.length>0?(0,G.rm)(e,{app:{availableFeatures:a}}):e;case T.Z.SET_AVAILABLE_FEATURES:return(0,G.rm)(e,{app:{availableFeatures:t.payload.features}})}return e}),(function(e,t){switch(t.type){case T.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:return(0,G.rm)(e,{app:{snapshotsPlayer:{isActive:t.payload.isActive,highlightStartTime:t.payload.startTime,highlightEndTime:t.payload.endTime}}});case T.Z.SNAPSHOTS_PLAYER_GO_TO_TIME:return(0,G.rm)(e,{app:{snapshotsPlayer:{goToTime:t.payload.time}}});case T.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:return x.LS(Wt.IP,t.payload.isVisible),(0,G.rm)(e,{ui:{suitesPage:{isSnapshotsPlayerVisible:t.payload.isVisible}}})}return e}));var dr=r(59543),pr=r(53516);var fr=r(59948);var mr,yr,vr,gr=[i.Z,function(e){return function(t){return function(r){var n,a=t(r);if(n=r.type,/^VIEW_/.test(n)||[T.Z.INIT_GUI_REPORT,T.Z.INIT_STATIC_REPORT,T.Z.CHANGE_VIEW_MODE,T.Z.SET_DIFF_MODE].includes(n)){var s=e.getState(),i=s.view,o=s.app;x.LS("view",{expand:i.expand,diffMode:i.diffMode,strictMatchFilter:i.strictMatchFilter}),x.LS("app.suitesPage.viewMode",o.suitesPage.viewMode),x.LS("app.visualChecksPage.viewMode",o.visualChecksPage.viewMode)}return a}}}],Ir=s.compose,br=null===(mr=(window.data||{}).config)||void 0===mr?void 0:mr.yandexMetrika,Er=(null==br?void 0:br.enabled)&&(null==br?void 0:br.counterNumber),hr=window.ym&&"function"==typeof window.ym;if(Er&&hr){var Or=new fr.m(Er&&hr),Sr=(yr=Or,vr=!1,function(e){return function(t){return function(r){switch(r.type){case T.Z.INIT_GUI_REPORT:case T.Z.INIT_STATIC_REPORT:var n,a,s=Date.now();v=function(e){var t=e.name,r=e.value,n=Math.round("CLS"===t?1e3*r:r);yr.setVisitParams((0,l.Z)({},t,n))},(0,dr.kz)(v),(0,dr.Tx)(v),(0,dr.Y)(v),(0,dr.Tb)(v),(0,dr.CA)(v);var i=t(r),o=e.getState(),u=(0,c.get)(o,"tree.browsers.allIds.length",0);return yr.setVisitParams((a={},(0,l.Z)(a,r.type,Date.now()-s),(0,l.Z)(a,"initView",o.view),(0,l.Z)(a,"testsCount",u),(0,l.Z)(a,"isNewUi",Boolean(null==o||null===(n=o.app)||void 0===n?void 0:n.isNewUi)),a)),i;case T.Z.BROWSERS_SELECTED:yr.trackFeatureUsage({featureName:r.type});var d=t(r);if(!vr){var p,f;vr=!0,null===(p=performance)||void 0===p||null===(f=p.mark)||void 0===f||f.call(p,pr.Z.FULLY_LOADED);var m=function(){var e,t;return((null===(e=performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t?void 0:t.call(e,"mark"))||[]).reduce((function(e,t){var r=t.name,n=t.startTime;return e[r]=Math.round(n),e}),{})}();yr&&!(0,c.isEmpty)(m)&&yr.setVisitParams(m)}return d;case T.Z.RUN_ALL_TESTS:case T.Z.RUN_FAILED_TESTS:case T.Z.RETRY_SUITE:case T.Z.RETRY_TEST:case T.Z.CHANGE_VIEW_MODE:case T.Z.VIEW_EXPAND_ALL:case T.Z.VIEW_COLLAPSE_ALL:case T.Z.VIEW_EXPAND_ERRORS:case T.Z.VIEW_EXPAND_RETRIES:case T.Z.VIEW_UPDATE_BASE_HOST:case T.Z.SET_DIFF_MODE:case T.Z.VIEW_UPDATE_FILTER_BY_NAME:case T.Z.VIEW_SET_FILTER_MATCH_CASE:case T.Z.VIEW_SET_FILTER_USE_REGEX:case T.Z.VIEW_SET_STRICT_MATCH_FILTER:case T.Z.RUN_CUSTOM_GUI_ACTION:case T.Z.TOGGLE_SUITE_SECTION:case T.Z.TOGGLE_BROWSER_SECTION:case T.Z.TOGGLE_STATE_RESULT:case T.Z.CHANGE_TEST_RETRY:case T.Z.GROUP_TESTS_BY_KEY:return yr.trackFeatureUsage({featureName:r.type}),t(r);case T.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION:return yr.trackFeatureUsage({featureName:r.type,groupByKey:r.payload.expressionIds[0]}),t(r);case T.Z.SORT_TESTS_SET_CURRENT_EXPRESSION:return yr.trackFeatureUsage({featureName:r.type,sortByKey:r.payload.expressionIds[0],sortDirection:e.getState().app.sortTestsData.currentDirection}),t(r);case T.Z.SORT_TESTS_SET_DIRECTION:return yr.trackFeatureUsage({featureName:r.type,sortByKey:e.getState().app.sortTestsData.currentExpressionIds[0],sortDirection:r.payload.direction}),t(r);case T.Z.OPEN_MODAL:case T.Z.CLOSE_MODAL:var y=(0,c.get)(r,"payload.id",r.type);return yr.trackFeatureUsage({featureName:y}),t(r);default:return t(r)}var v}}});gr.push(Sr)}const wr=Ir(s.applyMiddleware.apply(void 0,gr))(s.createStore)(lr,{})},21990:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>c,rm:()=>o,xg:()=>u});var n=r(56666),a=r(76635);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);for(var o in t)(0,a.isPlainObject)(t[o])&&(0,a.isPlainObject)(e[o])?r[o]=i(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:delete r[o];return r}var o=function(e,t){return i(e,t)};function c(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];r[a]=r[a]||{},r=r[a]}}function u(e,t,r){var n=(0,a.get)(t,r);return(0,a.isUndefined)(n)?(0,a.get)(e,r):n}},59948:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(9249),a=r(87371),s=function(e){return e.ReachGoal="reachGoal",e.Params="params",e}(s||{}),i=function(e){return e.ScreenshotAccept="ACCEPT_SCREENSHOT",e.OpenedScreenshotsAccept="ACCEPT_OPENED_SCREENSHOTS",e.FeatureUsage="FEATURE_USAGE",e}(i||{}),o=function(){function e(t,r){(0,n.Z)(this,e),this._isEnabled=t,this._counterNumber=r}return(0,a.Z)(e,[{key:"_registerGoal",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._isEnabled&&(null===(t=(r=window).ym)||void 0===t||t.call(r,this._counterNumber,s.ReachGoal,e,n))}},{key:"setVisitParams",value:function(e){var t,r;this._isEnabled&&(null===(t=(r=window).ym)||void 0===t||t.call(r,this._counterNumber,s.Params,e))}},{key:"trackScreenshotsAccept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{acceptedImagesCount:1};this._registerGoal(i.ScreenshotAccept,e)}},{key:"trackOpenedScreenshotsAccept",value:function(e){this._registerGoal(i.OpenedScreenshotsAccept,e)}},{key:"trackFeatureUsage",value:function(e){this._registerGoal(i.FeatureUsage,e)}}]),e}()},13583:(e,t,r)=>{"use strict";r.d(t,{j:()=>m});var n=r(7896),a=r(56666),s=r(93150),i=r(2784),o=r(72779),c=r.n(o),u=r(4792),l=r(9560),d=r(27202);const p={"attempt-picker-item":"neU_Cfm3M15M3BSF4BPC",attemptPickerItem:"neU_Cfm3M15M3BSF4BPC","attempt-picker-item--active":"mz1xnPKov1eE1lGUtwUv",attemptPickerItemActive:"mz1xnPKov1eE1lGUtwUv","attempt-picker-item--staged":"iAZPQjWXiP66s5pbRcqA",attemptPickerItemStaged:"iAZPQjWXiP66s5pbRcqA","attempt-picker-item--commited":"C9a9oXaqFg2uA4N1pXsr",attemptPickerItemCommited:"C9a9oXaqFg2uA4N1pXsr","attempt-picker-item--skipped":"yZQDV4KWeKF4hDJx3bLU",attemptPickerItemSkipped:"yZQDV4KWeKF4hDJx3bLU","attempt-picker-item--success":"RWXkwQeHYIvjx3N0kdgs",attemptPickerItemSuccess:"RWXkwQeHYIvjx3N0kdgs","attempt-picker-item--error":"r1_mjVoKA8ouzPY8bjCQ",attemptPickerItemError:"r1_mjVoKA8ouzPY8bjCQ","attempt-picker-item--fail":"PQAov1teNrPubSI8MNIR",attemptPickerItemFail:"PQAov1teNrPubSI8MNIR","attempt-picker-item--fail_error":"FXnkwqXQroxRnmZM4jOY",attemptPickerItemFailError:"FXnkwqXQroxRnmZM4jOY","attempt-picker-item--non-matched":"QTotjE7NfIFLwCD4nllF",attemptPickerItemNonMatched:"QTotjE7NfIFLwCD4nllF"};var f=r(76635),m=function(e){var t=e.isActive,r=e.onClick,o=e.title,m=e.resultId,y=(0,u.useSelector)((function(e){return e.tree.results.byId[m]})),v=(0,u.useSelector)((function(e){var t=e.tree,r=e.app,n=r.isNewUi,a=r.suitesPage.currentGroupId,s=t.groups.byId[null!=a?a:""];return n?Boolean(null==s?void 0:s.resultIds.includes(m)):(0,f.get)(t.results.stateById[m],"matchedSelectedGroup",!1)})),g=(0,u.useSelector)((function(e){var t=e.view.keyToGroupTestsBy,r=e.app,n=r.isNewUi,a=r.suitesPage.currentGroupId;return n?Boolean(a):Boolean(t)})),I=(0,l.R6)(y.status)&&(0,l.MO)(y.error)?d.ih.FAIL_ERROR:y.status,b=function(e){switch(e){case d.ih.SUCCESS:case d.ih.UPDATED:return{view:"flat-success",selected:!0};case d.ih.ERROR:return{view:"flat-danger",selected:!0};case d.ih.FAIL:case d.ih.FAIL_ERROR:return{view:"flat-utility",selected:!0};case d.ih.SKIPPED:return{view:"normal",selected:!1};case d.ih.RUNNING:return{view:"outlined",selected:!1};default:return{view:"flat",selected:!1}}}(I);if(!y)return null;var E=c()(p.attemptPickerItem,(0,a.Z)({},p["attempt-picker-item--active"],t),(0,a.Z)({},p["attempt-picker-item--".concat(I)],I),(0,a.Z)({},p["attempt-picker-item--non-matched"],g&&!v));return i.createElement(s.zxk,(0,n.Z)({},b,{title:o,className:E,onClick:r,qa:"retry-switcher"}),y.attempt+1)}},52505:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(2784);function a(e){var t=e.scripts;if(0===t.length)return null;var r=(0,n.useRef)(null);return(0,n.useEffect)((function(){t.forEach((function(e){var t,n=document.createElement("script");n.type="text/javascript",n.innerHTML="(".concat(e,")();"),null===(t=r.current)||void 0===t||t.appendChild(n)}))}),[t]),n.createElement("div",{className:"custom-scripts",ref:r})}},64714:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(2784),a=r(81845);const s={"list-mode":"pj_ogOToZAibT8t0BgVn",listMode:"pj_ogOToZAibT8t0BgVn","image-container":"TKY8DEuKhmN3I38ss1pw",imageContainer:"TKY8DEuKhmN3I38ss1pw"};function i(e){return n.createElement("div",{className:s.listMode},n.createElement("div",null,e.expected.label,n.createElement(a.w,{image:e.expected,containerClassName:s.imageContainer})),n.createElement("div",null,e.actual.label,n.createElement(a.w,{image:e.actual,containerClassName:s.imageContainer})),n.createElement("div",null,e.diff.label,n.createElement(a.w,{image:e.diff,diffClusters:e.diff.diffClusters,containerClassName:s.imageContainer})))}},44049:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var n=r(96234),a=r(72779),s=r.n(a),i=r(2784),o=r(81845),c=r(47747);const u={"onion-skin":"JSIx_EJphtVsIOFTU5QV",onionSkin:"JSIx_EJphtVsIOFTU5QV","image-wrapper--actual":"Q5vhPogTmJE1FfxuRnL7",imageWrapperActual:"Q5vhPogTmJE1FfxuRnL7",image:"hcZ0imC7qhNvmlqNtFoQ","slider-container":"Po2tBfl76gN4J7lhdMx2",sliderContainer:"Po2tBfl76gN4J7lhdMx2",slider:"q6XqAEzv7jg60neBIjuS"};var l=r(93150);function d(e){var t=e.expected,r=e.actual,a=Math.max(t.size.width,r.size.width),d=Math.max(t.size.height,r.size.height),p=(0,i.useState)(.5),f=(0,n.Z)(p,2),m=f[0],y=f[1],v={"--max-natural-width":a,"--max-natural-height":d},g={opacity:m};return i.createElement("div",{style:v},i.createElement("div",{className:s()(c.Z.imagesContainer,u.onionSkin)},i.createElement(o.w,{containerClassName:c.Z.screenshotContainer,imageClassName:u.image,image:t}),i.createElement(o.w,{containerClassName:s()(c.Z.screenshotContainer,u["image-wrapper--actual"]),imageClassName:u.image,image:r,style:g})),i.createElement("div",{className:u.sliderContainer},i.createElement(l.iRW,{className:u.slider,min:0,max:1,step:.01,value:m,onUpdate:function(e){y(e)}})))}},7065:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(2784),a=r(81845);function s(e){return n.createElement(a.w,{image:e.diff,diffClusters:e.diff.diffClusters})}},50929:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(2784),a=r(81845);const s={"side-by-side-mode":"VaICsBk68CAt6__oFWHt",sideBySideMode:"VaICsBk68CAt6__oFWHt","image-wrapper":"ceWtSKkw1pWlOywz2czZ",imageWrapper:"ceWtSKkw1pWlOywz2czZ","image-container":"gQbv5w1fUR3HJWHeYMNE",imageContainer:"gQbv5w1fUR3HJWHeYMNE"};var i=r(60460);function o(e){var t=e.expected,r=e.actual,o=e.diff;return n.createElement("div",{className:s.sideBySideMode},n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(t.size)},t.label,n.createElement(a.w,{image:t,containerClassName:s.imageContainer})),n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(r.size)},r.label,n.createElement(a.w,{image:r,containerClassName:s.imageContainer})),n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(o.size)},o.label,n.createElement(a.w,{image:o,diffClusters:o.diffClusters,containerClassName:s.imageContainer})))}},55476:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var n=r(2784),a=r(81845);const s={"side-by-side-to-fit-mode":"odZUnNHY2XMygzB79rZr",sideBySideToFitMode:"odZUnNHY2XMygzB79rZr","image-wrapper":"pjyzjeoFj88o4B1RByYm",imageWrapper:"pjyzjeoFj88o4B1RByYm",image:"qZNS0CIwKnODxsVOx_uJ","image-container":"YLOTuSJw5PGf0_34gj3k",imageContainer:"YLOTuSJw5PGf0_34gj3k"};var i=r(60460);function o(e){var t=e.expected,r=e.actual,o=e.diff;return n.createElement("div",{className:s.sideBySideToFitMode,style:{"--desired-height":e.desiredHeight}},n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(t.size)},t.label,n.createElement(a.w,{imageClassName:s.image,image:t,containerClassName:s.imageContainer})),n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(r.size)},r.label,n.createElement(a.w,{imageClassName:s.image,image:r,containerClassName:s.imageContainer})),n.createElement("div",{className:s.imageWrapper,style:(0,i.g)(o.size)},o.label,n.createElement(a.w,{imageClassName:s.image,image:o,diffClusters:o.diffClusters,containerClassName:s.imageContainer})))}},74677:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n=r(56666),a=r(96234),s=r(22578),i=r(93714),o=r(72779),c=r.n(o),u=r(76635),l=r(2784),d=r(81845),p=r(47747);const f={divider:"xke4FSHwIkNDc3R1Pn3p","divider-icons":"t48ArlFt1zMl8nZBbqDh",dividerIcons:"t48ArlFt1zMl8nZBbqDh","is-dragging":"uFAl8OCDlPnWB9KDpWZS",isDragging:"uFAl8OCDlPnWB9KDpWZS",image:"i2Zondv7u1IKr7xhYko5","left-section":"x_BqwwIcOAHEWLS7lAfy",leftSection:"x_BqwwIcOAHEWLS7lAfy","right-section":"TCpTUl4F7IHmjnr2F3NZ",rightSection:"TCpTUl4F7IHmjnr2F3NZ"};function m(e){var t=e.expected,r=e.actual,o=Math.max(t.size.width,r.size.width),m=Math.max(t.size.height,r.size.height),y=(0,l.useRef)(null),v=(0,l.useState)(0),g=(0,a.Z)(v,2),I=g[0],b=g[1],E=(0,l.useState)(!1),h=(0,a.Z)(E,2),O=h[0],S=h[1];(0,l.useEffect)((function(){y.current&&b(y.current.getBoundingClientRect().width/2)}),[y]);var w=function(e){var t,r,n=null!==(t=null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect().left)&&void 0!==t?t:0,a=e.pageX-n-window.scrollX;b((0,u.clamp)(a,0,o))},T=function(e){w(e)},_=function e(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",T),S(!1)},R={"--max-natural-width":o,"--max-natural-height":m};return l.createElement("div",{className:c()(p.Z.imagesContainer,(0,n.Z)({},f.isDragging,O)),style:R,ref:y,onMouseDown:function(e){window.addEventListener("mousemove",T),window.addEventListener("mouseup",_),S(!0),w(e)}},l.createElement("div",{className:f.leftSection,style:{width:I}},l.createElement(d.w,{containerClassName:p.Z.screenshotContainer,imageClassName:f.image,image:t})),l.createElement("div",{className:f.divider},l.createElement("div",{className:f.dividerIcons},l.createElement(s.Z,null),l.createElement(i.Z,null))),l.createElement(d.w,{containerClassName:c()(p.Z.screenshotContainer,f.rightSection),imageClassName:f.image,image:r}))}},35682:(e,t,r)=>{"use strict";r.d(t,{H:()=>d});var n=r(56666),a=r(96234),s=r(72779),i=r.n(s),o=r(2784),c=r(81845),u=r(47747);const l={"switch-mode":"Ny2vpBqeksODYVelzNbP",switchMode:"Ny2vpBqeksODYVelzNbP","screenshot-container":"TAxLNBXorF3F9JKBwFkg",screenshotContainer:"TAxLNBXorF3F9JKBwFkg",image:"ITrvrng5zrWXzj8ERZ6Y","image--hidden":"OMGRjCMdfbrMSJBcS5Ty",imageHidden:"OMGRjCMdfbrMSJBcS5Ty"};function d(e){var t=e.expected,r=e.actual,s=Math.max(t.size.width,r.size.width),d=Math.max(t.size.height,r.size.height),p=(0,o.useState)(!0),f=(0,a.Z)(p,2),m=f[0],y=f[1],v={"--max-natural-width":s,"--max-natural-height":d};return o.createElement("div",{className:i()(u.Z.imagesContainer,l.switchMode),onClick:function(){y(!m)},style:v},o.createElement(c.w,{containerClassName:i()(u.Z.screenshotContainer,(0,n.Z)({},l["image--hidden"],m)),imageClassName:l.image,image:t}),o.createElement(c.w,{containerClassName:i()(u.Z.screenshotContainer,l.screenshotContainer,(0,n.Z)({},l["image--hidden"],!m)),imageClassName:l.image,image:r}))}},60460:(e,t,r)=>{"use strict";r.d(t,{g:()=>n,h:()=>a});var n=function(e){return{"--natural-width":e.width,"--natural-height":e.height,"--img-width":e.width>e.height?"100%":"auto","--img-height":e.width>e.height?"auto":"100%"}},a=function(e){var t=100*e,r=Math.ceil(100*t)/100;return t<.01?"< ".concat(.01):String(r)}},28978:(e,t,r)=>{"use strict";r.d(t,{o:()=>I});var n=r(96234),a=r(56666),s=r(21023),i=r.n(s),o=r(93150),c=r(76635),u=r(2784),l=r(4792),d=r(9560);const p="WzmFjz0FM1ic3ZIH2oGn",f="o2HLUxfvjsG8hxnSpso3";var m=r(71011),y=r(27202);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=(0,l.connect)((function(e,t){var r=e.tree,n=e.config.metaInfoBaseUrls,a=e.apiValues,s=e.view,i=t.resultId,o=r.results.byId[i],c=r.browsers.byId[null==o?void 0:o.parentId];return{result:o,testName:null==c?void 0:c.parentId,metaInfoBaseUrls:n,apiValues:a,baseHost:s.baseHost}}))((function(e){var t,r,a,s,l,v=e.result,I=e.metaInfoBaseUrls,b=e.baseHost,E=(t=g(g({},v.metaInfo),(r=e.testName,a=e.apiValues,s=a.extraItems,l=a.metaInfoExtenders,(0,c.omitBy)((0,c.mapValues)(l,(function(e){var t=e.startsWith("return")?e:"return ".concat(e);return new Function(t)()({testName:r},s)})),c.isEmpty))),(0,c.mapValues)(t,(function(e){var t;return(0,c.isObject)(e)?JSON.stringify(e):null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"No value"}))),h=Object.entries(E).map((function(e){var t=(0,n.Z)(e,2);return{label:t[0],content:t[1]}})).map((function(e){if("url"===e.label||"auto"===I[e.label]){var t=(0,d.zV)(e.content,b);return{label:e.label,content:(0,d.qC)(e.content),url:t,copyText:t}}if(I[e.label]){var r=I[e.label],n=(0,d.CB)(r)?(0,d.zV)(e.content,r):i().join(r,e.content),a=(0,d.CB)(e.content)?n:e.content;return{label:e.label,content:a,copyText:a,url:n}}return(0,d.CB)(e.content)?{label:e.label,content:e.content,url:e.content}:e}));return void 0!==v.duration&&h.push({label:"duration",content:"".concat((new Intl.NumberFormat).format(v.duration)," ms")}),!h.some((function(e){return"url"===e.label}))&&v.suiteUrl&&h.push({label:"url",content:(0,d.qC)(v.suiteUrl),url:(0,d.zV)(v.suiteUrl,b)}),v.status===y.ih.SKIPPED&&v.skipReason&&h.push({label:"skipReason",content:(0,m.hk)(v.skipReason),copyText:v.skipReason}),u.createElement(o.wq_,{className:p,qa:e.qa},h.map((function(e){var t,r;return e.url?u.createElement(o.wq_.Item,{name:e.label,copyText:null!==(r=e.copyText)&&void 0!==r?r:e.content,key:e.label},u.createElement("a",{className:f,"data-suite-view-link":e.url,target:"_blank",href:e.url,rel:"noreferrer"},e.content)):u.createElement(o.wq_.Item,{name:e.label,copyText:null!==(t=e.copyText)&&void 0!==t?t:e.content,key:e.label},u.createElement("span",{className:f},e.content))})))}))},36498:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(2784),a=r(4792);function s(){var e=(0,a.useSelector)((function(e){return e.config.yandexMetrika.enabled})),t=(0,n.useRef)(null);return(0,n.useEffect)((function(){var r;if(e){var n=document.createElement("script");n.type="text/javascript",n.innerHTML='\n   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};\n   m[i].l=1*new Date();\n   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}\n   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})\n   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");\n\n   ym(99267510, "init", {\n        webvisor:false,\n        clickmap:false,\n        trackLinks:false,\n        accurateTrackBounce:false\n   });',null===(r=t.current)||void 0===r||r.appendChild(n)}}),[e]),e?n.createElement("div",{ref:t,"data-qa":"metrika-script"}):null}},81845:(e,t,r)=>{"use strict";r.d(t,{w:()=>E});var n=r(56666),a=r(72779),s=r.n(a),i=r(2784),o=r(28316),c=r(9560);var u=r(96234),l=r(27202);const d="ZHDuTpi0eKH5j4KuxLJH";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=i.forwardRef((function(e,t){var r=(0,i.useState)(!1),n=(0,u.Z)(r,2),a=n[0],s=n[1];(0,i.useImperativeHandle)(t,(function(){return{pulse:function(){s(!1),window.requestAnimationFrame((function(){return s(!0)}))}}}));var o=e.diffImageOriginalSize,c=e.diffCluster,p=e.diffImageRef;if(!a||!p.current)return null;var m=o.width,y=p.current.getBoundingClientRect(),v=p.current.offsetWidth/m,g=Math.ceil(v*(c.bottom-c.top+1)),I=Math.ceil(v*(c.right-c.left+1)),b=(c.left+c.right)/2,E=(c.top+c.bottom)/2,h=y.left+v*b,O=y.top+v*E,S=Math.floor(Math.sqrt(I*I+g*g)),w={width:"".concat(S,"px"),height:"".concat(S,"px"),top:"".concat(Math.ceil(O-S/2),"px"),left:"".concat(Math.ceil(h-S/2),"px")},T=S+l.S7;return i.createElement("div",{className:d,style:f({"--diff-bubbles-scale":T/S,animation:"diff-bubbles 1s ease-out forwards"},w),onAnimationEnd:function(){return s(!1)}})}));const y="NFIZiiWMKKM72Q7QinYA",v="puC6eSB0vrcDWA1sRjhl",g="kAVAR2DCvLLAyEG8UIGa";function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=(0,i.forwardRef)((function(e,t){var r,a,u,l=(0,i.useRef)(null),d=(0,i.useRef)([]),p=(0,i.useCallback)((function(){if(d.current){var e,t=I(d.current);try{for(t.s();!(e=t.n()).done;){e.value.pulse()}}catch(e){t.e(e)}finally{t.f()}}}),[d]),f=e.image,b=(u=f.path,(0,c.CB)(u)?u:u.split(/[/\\]/).map((function(e){return encodeURIComponent(e)})).join("/")),E=e.disableCache?function(e){return"".concat(e,"?t=").concat(Date.now())}(b):b,h=s()(y,e.containerClassName,(0,n.Z)({},v,null===(r=e.diffClusters)||void 0===r?void 0:r.length)),O=Object.assign({},e.containerStyle);f.size&&(O["--natural-width"]=f.size.width,O["--natural-height"]=f.size.height);var S=s()(g,e.imageClassName),w=Object.assign({},e.style);f.size&&(w.aspectRatio="".concat(f.size.width," / ").concat(f.size.height));var T=[];return null!==(a=e.diffClusters)&&void 0!==a&&a.length&&(T=e.diffClusters.map((function(e,t){return f.size&&(0,o.createPortal)(i.createElement(m,{diffImageOriginalSize:f.size,diffImageRef:l,diffCluster:e,ref:function(e){e&&(d.current[t]=e)},key:t}),document.body)}))),i.createElement("div",{className:h,onClick:p,style:O},i.createElement("img",{className:S,src:E,alt:"Screenshot",ref:function(e){l.current=e,"function"==typeof t?t(e):t&&(t.current=e)},style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove}),T)}))},52902:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=function(e){return e.Group="group",e.Suite="suite",e.Browser="browser",e}({})},41984:(e,t,r)=>{"use strict";r.d(t,{Ll:()=>v,ow:()=>O,pH:()=>m,ph:()=>y});var n=r(68079),a=r(76635),s=r(9560),i=r(27202),o=r(36397),c=r(52902),u=r(11200),l=r(14054);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function e(t,r){return r?(0,o.po)(r)?r.suitePath:[].concat((0,n.Z)(e(t,t[r.parentId])),[r.name]):[]},m=function(e,t,r,n){var i,d=e.results,p=e.images,m=e.suites,y=e.treeViewMode;if((0,o.po)(t))return{id:r,entityType:(0,u.nt)(t),entityId:t.id,title:[t.name],status:t.status,parentData:n,tags:[]};if((0,o.Dk)(t))return{id:t.id,entityType:c.p.Group,entityId:t.id,prefix:"".concat(t.key,":"),title:[t.label],status:null,tags:[]};var v,g,I,b=d[(0,a.last)(t.resultIds)],E=b.imageIds.map((function(e){return p[e]})).filter((function(e){return(0,l.h3)(e)}));(0,o.kI)(b)&&null!==(i=b.error)&&void 0!==i&&i.stack&&(v=null===(I=b.error)||void 0===I?void 0:I.name,g=(0,s.G6)(b.error.stack.split("\n")).slice(0,3).join("\n"));return{id:r,entityType:(0,u.nt)(t),entityId:t.id,title:y===o.xW.Tree?[t.name]:f(m,t),status:b.status,images:E,errorTitle:v,errorStack:g,parentData:n,skipReason:b.skipReason,tags:[]}},y=function(e,t,r){var n,a,s=e.browsers,i=e.suites,c=e.browsersState,u=e.treeViewMode,l=Symbol(),p={},f=function(){return{isRoot:!0,data:r}},y=function t(r){var n,a,d=r.parentId;u===o.xW.Tree&&d?n=t(null!==(a=i[d])&&void 0!==a?a:s[d]):(p[l]||(p[l]=f()),n=p[l]);if((0,o.og)(r)&&!c[r.id].shouldBeShown)return n;var y=u===o.xW.Tree?(0,o.og)(r)?r.name:r.suitePath[r.suitePath.length-1]:r.id,v=n.data?"".concat(n.data.id,"/").concat(y):y;if(p[v])return p[v];var g={parentNode:n,data:m(e,r,v,n.data)};return p[v]=g,n&&(n.children||(n.children=[]),n.children.push(g)),g},v=d(t);try{for(v.s();!(a=v.n()).done;){y(a.value)}}catch(e){v.e(e)}finally{v.f()}return null!==(n=p[l])&&void 0!==n?n:f()},v=function(e){var t=[],r=[],n=function e(n){if(n.data&&n.data.id&&t.push(n.data.id),n.children){var a,s=d(n.children);try{for(s.s();!(a=s.n()).done;){var i,o=a.value;o.data.entityType===c.p.Browser?r.push(o.data.id):null!==(i=o.children)&&void 0!==i&&i.length&&e(o)}}catch(e){s.e(e)}finally{s.f()}}};return e.forEach((function(e){return n(e)})),{allTreeNodeIds:t,visibleTreeNodeIds:r}},g=function(e,t){return{value:e,metadata:null!=t?t:{}}},I=function(e){return e&&(console.warn("Failed to determine suite weight for tree node listed below. Please let us know at "+i.WY),console.warn(e)),{value:[0],metadata:{}}},b=function(e,t,r){var n=e.groups,a=e.browsersState,i=e.browsers,l=e.results,d=e.currentSortExpression;switch(t.data.entityType){case c.p.Group:var p=n[t.data.entityId],f=p.browserIds.flatMap((function(e){return a[e].shouldBeShown?[i[e]]:[]})).length,m=p.resultIds.filter((function(e){return a[l[e].parentId].shouldBeShown})).length;if(d.type===o.ER.ByTestsCount)return g([0,f,m],{testsCount:f,runsCount:m});if(d.type===o.ER.ByName)return g([t.data.title.join(" "),f,m],{testsCount:f,runsCount:m});if(!r)return I(t);if(d.type===o.ER.ByFailedRuns)return g([r.value[0],f,m],Object.assign({},{testsCount:f,runsCount:m},r.metadata));if(d.type===o.ER.ByDuration||d.type===o.ER.ByStartTime||d.type===o.ER.ByRelevance)return r;break;case c.p.Suite:if(d.type===o.ER.ByName)return g([t.data.title.join(" ")]);if(!r)return I(t);if(d.type===o.ER.ByDuration)return g([r.value[0],t.data.title.join(" ")],r.metadata);if(d.type===o.ER.ByFailedRuns||d.type===o.ER.ByTestsCount||d.type===o.ER.ByStartTime||d.type===o.ER.ByRelevance)return r;break;case c.p.Browser:if(d.type===o.ER.ByName)return g([t.data.title.join(" ")]);if(d.type===o.ER.ByFailedRuns){var y=i[t.data.entityId],v=(0,u.av)(t.data),b=y.resultIds.filter((function(e){return((0,s.R6)(l[e].status)||(0,s.KM)(l[e].status))&&(!v||n[v].resultIds.includes(e))})).length;return g([b],{failedRunsCount:b})}if(d.type===o.ER.ByTestsCount){var E=i[t.data.entityId],h=(0,u.av)(t.data),O=h?E.resultIds.filter((function(e){return n[h].resultIds.includes(e)})).length:E.resultIds.length;return g([1,O],{runsCount:O})}if(d.type===o.ER.ByDuration){var S=i[t.data.entityId],w=(0,u.av)(t.data),T=w?S.resultIds.filter((function(e){return n[w].resultIds.includes(e)})):S.resultIds,_=T.reduce((function(e,t){var r;return e+(null!==(r=l[t].duration)&&void 0!==r?r:0)}),0);return g([_,t.data.title.join(" ")],{runsCount:T.length,duration:_})}if(d.type===o.ER.ByStartTime){var R=i[t.data.entityId],P=l[R.resultIds[0]].timestamp;return g([P],{startTime:P})}var C;if(d.type===o.ER.ByRelevance)return g([null!==(C=a[t.data.entityId].fuzzyMatchScore)&&void 0!==C?C:0])}return I(t)},E=function(e,t){var r,n,a=e.currentSortExpression;if(!a||a.type===o.ER.ByName)return I();if(a.type===o.ER.ByFailedRuns||a.type===o.ER.ByTestsCount||a.type===o.ER.ByDuration)return t.reduce((function(e,t){for(var r,n,a,s,i=g(e.value.slice(0),e.metadata),o=0;o<t.value.length;o++){var c;i.value[o]=Number(null!==(c=e.value[o])&&void 0!==c?c:0)+Number(t.value[o])}void 0!==t.metadata.testsCount&&(i.metadata.testsCount=(null!==(r=i.metadata.testsCount)&&void 0!==r?r:0)+t.metadata.testsCount);void 0!==t.metadata.runsCount&&(i.metadata.runsCount=(null!==(n=i.metadata.runsCount)&&void 0!==n?n:0)+t.metadata.runsCount);void 0!==t.metadata.failedRunsCount&&(i.metadata.failedRunsCount=(null!==(a=i.metadata.failedRunsCount)&&void 0!==a?a:0)+t.metadata.failedRunsCount);void 0!==t.metadata.duration&&(i.metadata.duration=(null!==(s=i.metadata.duration)&&void 0!==s?s:0)+t.metadata.duration);return i}),g(new Array(null===(r=t[0])||void 0===r||null===(r=r.value)||void 0===r?void 0:r.length)));if(a.type===o.ER.ByStartTime){var s,i=864e13;return t.reduce((function(e,t){for(var r=g(e.value.slice(0),e.metadata),n=0;n<t.value.length;n++)r.value[n]=Math.min(Number(e.value[n]||i),Number(t.value[n]));return void 0!==t.metadata.startTime&&(r.metadata.startTime=Math.min(r.metadata.startTime||i,t.metadata.startTime)),r}),g(new Array(null===(s=t[0])||void 0===s||null===(s=s.value)||void 0===s?void 0:s.length)))}return a.type===o.ER.ByRelevance?t.reduce((function(e,t){for(var r=g(e.value.slice(0),e.metadata),n=0;n<t.value.length;n++)r.value[n]=Math.max(Number(e.value[n]||0),Number(t.value[n]));return r}),g(new Array(null===(n=t[0])||void 0===n||null===(n=n.value)||void 0===n?void 0:n.length))):I()},h=function(e){var t=[],r=e.metadata.testsCount;void 0!==r&&t.push("".concat(r," ").concat(1===r?"test":"tests"));var n=e.metadata.runsCount;void 0!==n&&t.push("".concat(n," ").concat(1===n?"run":"runs"));var a=e.metadata.failedRunsCount;void 0!==a&&t.push("".concat(a," ").concat(1===a?"failed run":"failed runs"));var s=e.metadata.duration;if(void 0!==s){var i=Math.round(s/1e3*10)/10,o=0;e.metadata.runsCount&&e.metadata.runsCount>1&&(o=Math.round(i/e.metadata.runsCount*10)/10),i<.1?t.push("~0s in total"):t.push("".concat(i,"s in total").concat(o>.1?", ".concat(o,"s on avg."):""))}var c=e.metadata.startTime;return void 0!==c&&t.push("Started at ".concat(new Date(c).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))),t},O=function(e,t){var r=e.currentSortDirection;return function t(a){var s=a.slice(0),i={};return s.forEach((function(r,a){var o,u;if(r.data.entityType===c.p.Group&&null!==(o=r.children)&&void 0!==o&&o.length){var l,d=t(r.children),p=b(e,r,d.weight),f=Object.assign({},r,{children:d.sortedTreeNodes});(l=f.data.tags).push.apply(l,(0,n.Z)(h(p))),i[r.data.id]=p,s[a]=f}else if(r.data.entityType===c.p.Suite&&null!==(u=r.children)&&void 0!==u&&u.length){var m,y=t(r.children),v=b(e,r,y.weight),g=Object.assign({},r,{children:y.sortedTreeNodes});(m=g.data.tags).push.apply(m,(0,n.Z)(h(v))),i[r.data.id]=v,s[a]=g}else if(r.data.entityType===c.p.Browser){var I,E=b(e,r),O=Object.assign({},r);(I=O.data.tags).push.apply(I,(0,n.Z)(h(E))),i[r.data.id]=E,s[a]=O}})),{sortedTreeNodes:s.sort((function(e,t){for(var n=r===o.Sr.Desc?-1:1,a=0;a<i[e.data.id].value.length;a++){var s=i[e.data.id].value[a],c=i[t.data.id].value[a];if(s!==c)return"string"==typeof s||"string"==typeof c?s.toString().localeCompare(c.toString())*n:(s-c)*n}return 0})),weight:E(e,Object.values(i))}}(t).sortedTreeNodes}},45037:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=25},63550:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var n=r(2784),a=r(41493),s=r(27202),i=function(){var e=(0,n.useContext)(a.f);return e||console.warn("Failed to get analytics class instance to send usage info. If you are a user, you can safely ignore this. Feel free to report it to use at "+s.WY),e}},41493:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,n:()=>i});var n=r(2784),a=r(59948),s=(0,n.createContext)(null),i=function(e){var t,r,i=e.children,o=(r=null===(t=(window.data||{}).config)||void 0===t?void 0:t.yandexMetrika,Boolean((null==r?void 0:r.enabled)&&(null==r?void 0:r.counterNumber))),c=function(){var e,t,r=null===(e=(window.data||{}).config)||void 0===e?void 0:e.yandexMetrika;return null!==(t=null==r?void 0:r.counterNumber)&&void 0!==t?t:0}(),u=(0,n.useMemo)((function(){return new a.m(o,c)}),[]);return n.createElement(s.Provider,{value:u},i)}},36397:(e,t,r)=>{"use strict";r.d(t,{Dk:()=>o,ER:()=>l,Sr:()=>d,T3:()=>f,kI:()=>c,og:()=>i,po:()=>s,xW:()=>p,zX:()=>u});var n=r(27202),a=r(52902),s=function(e){return Boolean(e.suitePath)},i=function(e){return Boolean(e.resultIds)},o=function(e){return e.type===a.p.Group},c=function(e){return e.status===n.ih.ERROR},u=function(e){return e.Meta="meta",e.Error="error",e}({}),l=function(e){return e[e.ByName=0]="ByName",e[e.ByFailedRuns=1]="ByFailedRuns",e[e.ByTestsCount=2]="ByTestsCount",e[e.ByStartTime=3]="ByStartTime",e[e.ByDuration=4]="ByDuration",e[e.ByRelevance=5]="ByRelevance",e}({}),d=function(e){return e.Asc="asc",e.Desc="desc",e}({}),p=function(e){return e.Tree="tree",e.List="list",e}({}),f=function(e){return e.suitesPage="suitesPage",e.visualChecksPage="visualChecksPage",e}({})},47747:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={"images-container":"lekVuI_nLrElsyC4GckA",imagesContainer:"lekVuI_nLrElsyC4GckA","screenshot-container":"wed99yOfilwr4262OpnN",screenshotContainer:"wed99yOfilwr4262OpnN"}},57605:()=>{},87240:()=>{},83397:()=>{},33196:()=>{},38087:()=>{},27464:()=>{},39415:()=>{},30633:()=>{},20395:()=>{},30488:()=>{},87374:()=>{},29285:()=>{},6024:()=>{},53260:()=>{},15862:()=>{},57267:()=>{},59255:()=>{},81114:e=>{"use strict";e.exports={i8:"11.0.1"}}}]);