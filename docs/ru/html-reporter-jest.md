# Подключение репортера к Jest

## Перед подключением

Рекомендуем предварительно прочитать [документацию Jest по подключению репортеров](https://jestjs.io/docs/configuration#reporters-arraymodulename--modulename-options).

В нашем случае никаких особых отличий нет, но для удобства вся необходимая информация предоставлена ниже.

## Минимальная конфигурация

Для того, чтобы подключить репортер, достаточно в jest.config.js файле указать:

```
const config = {
    reporters: [
        'html-reporter/build/jest.js' // Подключаем наш репортер
        'default' // Встроенный репортер Jest, можно убрать
        // Можно также подключать и другие репортеры
    ],
};
```

После такой настройки, для того чтобы получить отчет достаточно просто выполнить тесты. Команда для выполнения тестов в вашем проекте хранится в package.json, чаще всего это:

```
npm run build
```

После того, как отчет будет сгенерирован, его нужно раздать с локального сервера.

Для этого потребуется библиотека serve - пакет для быстрого и лёгкого обслуживания статических файлов. Он позволяет превратить текущий рабочий каталог в виртуальный сервер, где можно открывать HTML, CSS, JavaScript файлы и другие статические активы в браузере.

Для установки serve глобально выполните следующую команду:
```
npm i -g serve
```

После установки serve вы можете запустить локальный сервер с помощью команды:
```
serve html-report
```

> Папка с отчетом по умолчанию называется `html-report`. Если вы хотите изменить имя папки, то можно указать его в конфигурации репортера. Как это сделать смотрите ниже

Готовый отчет можно увидеть по адресу `http://localhost:3000` в браузере.

## Максимальная конфигурация

Вы можете настраивать html-reporter так же, как это указано в [гайде по настройке](./html-reporter-setup.md). Все доступные настройки перечислены в разделе "Расшифровка параметров конфигурации".

Чтобы передать настройки репортеру, потребуется слегка изменить конфигурацию jest.config.js.

```
const config = {
    reporters: [
        ['html-reporter/build/jest.js', {
            // Настройки репортера
            path: 'reports/html-report', // Изменим путь к папке с отчетом
        }]
    ],
};
```

В примере выше, мы изменили путь к папке с отчетом на `reports/html-report`.